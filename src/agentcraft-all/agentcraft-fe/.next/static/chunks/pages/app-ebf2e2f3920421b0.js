(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{93284:function(e,t,r){"use strict";r.d(t,{O:function(){return b}});var n=r(67294),o=r(3241),i=r(24241),a=(0,r(56817).k)(e=>({root:{display:"flex",alignItems:"center"},breadcrumb:{lineHeight:1,whiteSpace:"nowrap",WebkitTapHighlightColor:"transparent"},separator:{marginLeft:e.spacing.xs,marginRight:e.spacing.xs,color:"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[7],lineHeight:1,display:"flex",alignItems:"center",justifyContent:"center"}})),l=r(95117),c=r(64523),s=Object.defineProperty,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,h=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))p.call(t,r)&&h(e,r,t[r]);if(d)for(var r of d(t))u.call(t,r)&&h(e,r,t[r]);return e},m=(e,t)=>{var r={};for(var n in e)p.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&d)for(var n of d(e))0>t.indexOf(n)&&u.call(e,n)&&(r[n]=e[n]);return r};let g={separator:"/"},b=(0,n.forwardRef)((e,t)=>{let r=(0,o.N4)("Breadcrumbs",g,e),{className:s,children:d,separator:p,classNames:u,styles:h,unstyled:b,variant:y}=r,x=m(r,["className","children","separator","classNames","styles","unstyled","variant"]),{classes:v,cx:j}=a(null,{classNames:u,styles:h,unstyled:b,name:"Breadcrumbs",variant:y}),w=n.Children.toArray(d).reduce((e,t,r,o)=>{var a;let c=(0,i.k)(t)?n.cloneElement(t,{className:j(v.breadcrumb,null==(a=t.props)?void 0:a.className),key:r}):n.createElement("div",{className:v.breadcrumb,key:r},t);return e.push(c),r!==o.length-1&&e.push(n.createElement(l.x,{size:"sm",className:v.separator,key:`separator-${r}`},p)),e},[]);return n.createElement(c.x,f({className:j(v.root,s),ref:t},x),w)});b.displayName="@mantine/core/Breadcrumbs"},95033:function(e,t,r){"use strict";r.d(t,{y:function(){return C}});var n=r(67294),o=r(3241),i=r(48427),a=r(95117),l=(0,r(56817).k)((e,{color:t})=>({root:{backgroundColor:e.fn.themeColor(t,"dark"===e.colorScheme?5:2),color:"dark"===e.colorScheme?e.colors.dark[9]:"inherit"}})),c=r(64523),s=Object.defineProperty,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,h=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t||(t={}))p.call(t,r)&&h(e,r,t[r]);if(d)for(var r of d(t))u.call(t,r)&&h(e,r,t[r]);return e},m=(e,t)=>{var r={};for(var n in e)p.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&d)for(var n of d(e))0>t.indexOf(n)&&u.call(e,n)&&(r[n]=e[n]);return r};let g={color:"yellow"},b=(0,n.forwardRef)((e,t)=>{let r=(0,o.N4)("Mark",g,e),{color:i,className:a,unstyled:s,variant:d}=r,p=m(r,["color","className","unstyled","variant"]),{classes:u,cx:h}=l({color:i},{unstyled:s,name:"Mark",variant:d});return n.createElement(c.x,f({component:"mark",ref:t,className:h(u.root,a)},p))});function y(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}b.displayName="@mantine/core/Mark";var x=Object.defineProperty,v=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,O=(e,t,r)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,S=(e,t)=>{for(var r in t||(t={}))j.call(t,r)&&O(e,r,t[r]);if(v)for(var r of v(t))w.call(t,r)&&O(e,r,t[r]);return e},k=(e,t)=>{var r={};for(var n in e)j.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&v)for(var n of v(e))0>t.indexOf(n)&&w.call(e,n)&&(r[n]=e[n]);return r};let z={highlightColor:"yellow"},E=(0,n.forwardRef)((e,t)=>{let r=(0,o.N4)("Highlight",z,e),{children:i,highlight:l,highlightColor:c,highlightStyles:s,unstyled:d}=r,p=k(r,["children","highlight","highlightColor","highlightStyles","unstyled"]),u=function(e,t){if(null==t)return[{chunk:e,highlighted:!1}];let r=Array.isArray(t)?t.map(y):y(t),n=Array.isArray(r)?r.filter(e=>e.trim().length>0).length>0:""!==r.trim();if(!n)return[{chunk:e,highlighted:!1}];let o="string"==typeof r?r.trim():r.filter(e=>0!==e.trim().length).map(e=>e.trim()).join("|"),i=RegExp(`(${o})`,"gi"),a=e.split(i).map(e=>({chunk:e,highlighted:i.test(e)})).filter(({chunk:e})=>e);return a}(i,l);return n.createElement(a.x,S({unstyled:d,ref:t,__staticSelector:"Highlight"},p),u.map(({chunk:e,highlighted:t},r)=>t?n.createElement(b,{unstyled:d,key:r,color:c,sx:s,"data-highlight":e},e):n.createElement("span",{key:r},e)))});E.displayName="@mantine/core/Highlight";let C=(0,i.F)(E)},95078:function(e,t,r){"use strict";r.d(t,{i:function(){return N}});var n=r(67294),o=r(3241),i=r(56817),a=r(96768),l=r(14258),c=Object.defineProperty,s=Object.defineProperties,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,f=(e,t,r)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))u.call(t,r)&&f(e,r,t[r]);if(p)for(var r of p(t))h.call(t,r)&&f(e,r,t[r]);return e},g=(e,t)=>s(e,d(t)),b=(0,i.k)((e,{captionSide:t,horizontalSpacing:r,verticalSpacing:n,fontSize:o,withBorder:i,withColumnBorders:c})=>{let s=`${(0,a.h)(1)} solid ${"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[3]}`;return{root:g(m({},e.fn.fontStyles()),{width:"100%",borderCollapse:"collapse",captionSide:t,color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,lineHeight:e.lineHeight,border:i?s:void 0,"& caption":{marginTop:"top"===t?0:e.spacing.xs,marginBottom:"bottom"===t?0:e.spacing.xs,fontSize:e.fontSizes.sm,color:"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[6]},"& thead tr th, & tfoot tr th, & tbody tr th":{textAlign:"left",fontWeight:"bold",color:"dark"===e.colorScheme?e.colors.dark[0]:e.colors.gray[7],fontSize:(0,l.a)({size:o,sizes:e.fontSizes}),padding:`${(0,l.a)({size:n,sizes:e.spacing})} ${(0,l.a)({size:r,sizes:e.spacing})}`},"& thead tr th":{borderBottom:s},"& tfoot tr th, & tbody tr th":{borderTop:s},"& tbody tr td":{padding:`${(0,l.a)({size:n,sizes:e.spacing})} ${(0,l.a)({size:r,sizes:e.spacing})}`,borderTop:s,fontSize:(0,l.a)({size:o,sizes:e.fontSizes})},"& tbody tr:first-of-type td, & tbody tr:first-of-type th":{borderTop:"none"},"& thead th, & tbody td":{borderRight:c?s:"none","&:last-of-type":{borderRight:"none",borderLeft:c?s:"none"}},"& tbody tr th":{borderRight:c?s:"none"},"&[data-striped] tbody tr:nth-of-type(odd)":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[0]},"&[data-hover] tbody tr":e.fn.hover({backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[1]})})}}),y=r(64523),x=Object.defineProperty,v=Object.defineProperties,j=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,k=(e,t,r)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,z=(e,t)=>{for(var r in t||(t={}))O.call(t,r)&&k(e,r,t[r]);if(w)for(var r of w(t))S.call(t,r)&&k(e,r,t[r]);return e},E=(e,t)=>v(e,j(t)),C=(e,t)=>{var r={};for(var n in e)O.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&w)for(var n of w(e))0>t.indexOf(n)&&S.call(e,n)&&(r[n]=e[n]);return r};let P={striped:!1,highlightOnHover:!1,captionSide:"top",horizontalSpacing:"xs",fontSize:"sm",verticalSpacing:7,withBorder:!1,withColumnBorders:!1},N=(0,n.forwardRef)((e,t)=>{let r=(0,o.N4)("Table",P,e),{className:i,children:a,striped:l,highlightOnHover:c,captionSide:s,horizontalSpacing:d,verticalSpacing:p,fontSize:u,unstyled:h,withBorder:f,withColumnBorders:m,variant:g}=r,x=C(r,["className","children","striped","highlightOnHover","captionSide","horizontalSpacing","verticalSpacing","fontSize","unstyled","withBorder","withColumnBorders","variant"]),{classes:v,cx:j}=b({captionSide:s,verticalSpacing:p,horizontalSpacing:d,fontSize:u,withBorder:f,withColumnBorders:m},{unstyled:h,name:"Table",variant:g});return n.createElement(y.x,E(z({},x),{component:"table",ref:t,className:j(v.root,i),"data-striped":l||void 0,"data-hover":c||void 0}),a)});N.displayName="@mantine/core/Table"},52615:function(e,t,r){"use strict";r.d(t,{g:function(){return W}});var n=r(67294),o=r(87462),i=r(63366),a=n.useLayoutEffect,l=function(e){var t=n.useRef(e);return a(function(){t.current=e}),t},c=function(e,t){if("function"==typeof e){e(t);return}e.current=t},s=function(e,t){var r=(0,n.useRef)();return(0,n.useCallback)(function(n){e.current=n,r.current&&c(r.current,null),r.current=t,t&&c(t,n)},[t])},d={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},p=function(e){Object.keys(d).forEach(function(t){e.style.setProperty(t,d[t],"important")})},u=null,h=function(e,t){var r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize},f=function(){},m=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],g=!!document.documentElement.currentStyle,b=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var r=m.reduce(function(e,r){return e[r]=t[r],e},{}),n=r.boxSizing;if(""===n)return null;g&&"border-box"===n&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:i}},y=function(e){var t=l(e);(0,n.useLayoutEffect)(function(){var e=function(e){t.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[])},x=(0,n.forwardRef)(function(e,t){var r=e.cacheMeasurements,a=e.maxRows,l=e.minRows,c=e.onChange,d=void 0===c?f:c,m=e.onHeightChange,g=void 0===m?f:m,x=(0,i.Z)(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),v=void 0!==x.value,j=(0,n.useRef)(null),w=s(j,t),O=(0,n.useRef)(0),S=(0,n.useRef)(),k=function(){var e,t,n,o,i,c,s,d,f,m,y,x=j.current,v=r&&S.current?S.current:b(x);if(v){S.current=v;var w=(e=x.value||x.placeholder||"x",void 0===(t=l)&&(t=1),void 0===(n=a)&&(n=1/0),u||((u=document.createElement("textarea")).setAttribute("tabindex","-1"),u.setAttribute("aria-hidden","true"),p(u)),null===u.parentNode&&document.body.appendChild(u),o=v.paddingSize,i=v.borderSize,s=(c=v.sizingStyle).boxSizing,Object.keys(c).forEach(function(e){u.style[e]=c[e]}),p(u),u.value=e,d=h(u,v),u.value="x",m=(f=u.scrollHeight-o)*t,"border-box"===s&&(m=m+o+i),d=Math.max(m,d),y=f*n,"border-box"===s&&(y=y+o+i),[d=Math.min(y,d),f]),k=w[0],z=w[1];O.current!==k&&(O.current=k,x.style.setProperty("height",k+"px","important"),g(k,{rowHeight:z}))}};return(0,n.useLayoutEffect)(k),y(k),(0,n.createElement)("textarea",(0,o.Z)({},x,{onChange:function(e){v||k(),d(e)},ref:w}))}),v=r(83051),j=r(3241),w=(0,r(56817).k)(e=>({input:{paddingTop:e.spacing.xs,paddingBottom:e.spacing.xs}})),O=r(12756),S=r(94151),k=Object.defineProperty,z=Object.defineProperties,E=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,R=(e,t,r)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,T=(e,t)=>{for(var r in t||(t={}))P.call(t,r)&&R(e,r,t[r]);if(C)for(var r of C(t))N.call(t,r)&&R(e,r,t[r]);return e},L=(e,t)=>z(e,E(t)),B=(e,t)=>{var r={};for(var n in e)P.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&C)for(var n of C(e))0>t.indexOf(n)&&N.call(e,n)&&(r[n]=e[n]);return r};let _={autosize:!1,size:"sm",__staticSelector:"Textarea"},W=(0,n.forwardRef)((e,t)=>{let r=(0,j.N4)("Textarea",_,e),{autosize:o,maxRows:i,minRows:a,label:l,error:c,description:s,id:d,className:p,required:u,style:h,wrapperProps:f,classNames:m,styles:g,size:b,__staticSelector:y,sx:k,errorProps:z,descriptionProps:E,labelProps:C,inputWrapperOrder:P,inputContainer:N,unstyled:R,withAsterisk:W,variant:H}=r,A=B(r,["autosize","maxRows","minRows","label","error","description","id","className","required","style","wrapperProps","classNames","styles","size","__staticSelector","sx","errorProps","descriptionProps","labelProps","inputWrapperOrder","inputContainer","unstyled","withAsterisk","variant"]),I=(0,v.M)(d),{classes:F,cx:$}=w(),{systemStyles:M,rest:D}=(0,O.x)(A),Z=T({required:u,ref:t,error:c,id:I,classNames:L(T({},m),{input:$(F.input,null==m?void 0:m.input)}),styles:g,__staticSelector:y,size:b,multiline:!0,unstyled:R,variant:H},D);return n.createElement(S.I.Wrapper,T(T({label:l,error:c,id:I,description:s,required:u,style:h,className:p,classNames:m,styles:g,size:b,__staticSelector:y,sx:k,errorProps:z,labelProps:C,descriptionProps:E,inputContainer:N,inputWrapperOrder:P,unstyled:R,withAsterisk:W,variant:H},M),f),o?n.createElement(S.I,L(T({},Z),{component:x,maxRows:i,minRows:a})):n.createElement(S.I,L(T({},Z),{component:"textarea",rows:a})))});W.displayName="@mantine/core/Textarea"},89301:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app",function(){return r(25792)}])},3658:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(85893),o=r(92716),i=r(95117),a=r(64523),l=r(69876),c=r(19236),s=r(91759);function d(e){let{detail:t,title:r}=e,[a,{open:l,close:c}]=(0,s.q)(!1);return(0,n.jsx)(n.Fragment,{children:t?(0,n.jsxs)("div",{children:[(0,n.jsx)(o.d,{opened:a,onClose:c,title:r,children:(0,n.jsx)(i.x,{children:t})}),(0,n.jsx)(i.x,{onClick:()=>l(),children:"信息"})]}):null})}function p(e){let{title:t,description:r,detail:o,mt:s,mb:p}=e;return(0,n.jsxs)(a.x,{mt:s||24,mb:p||24,children:[(0,n.jsxs)(l.k,{mih:20,gap:"md",justify:"flex-start",align:"flex-start",direction:"row",wrap:"wrap",children:[(0,n.jsx)(c.D,{order:2,children:t}),(0,n.jsx)(d,{title:t,detail:o})]}),r?(0,n.jsx)(i.x,{lineClamp:4,children:r}):null]})}},25792:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var n=r(85893),o=r(67294),i=r(41664),a=r.n(i),l=r(95117),c=r(95033),s=r(67841),d=r(64523),p=r(49737),u=r(95078),h=r(94491),f=r(80061),m=r(52615),g=r(54685),b=r(93284),y=r(77248),x=r(73344),v=r(64529),j=r(782),w=r(71791);let O=(0,v.Ue)()((0,j.mW)(e=>({appList:[],open:!1,loading:!1,updateAppList:t=>e(e=>({appList:t})),setLoading:t=>e(e=>({loading:t})),setOpen:t=>e(e=>({open:t}))})));async function S(){let e=O.getState(),t=e.updateAppList,r=await (0,w.W)("/api/application/list"),n=r.data;n&&t(n)}async function k(e){return await (0,w.W)("/api/application/delete?id=".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})}async function z(e){return await (0,w.W)("/api/application/create",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}var E=r(3658),C=r(48847),P=r(61407);function N(){let e=O().appList,t=O().loading,r=O().setLoading,i=e=>{let{id:t,name:o}=e;x.qk.openConfirmModal({title:"删除应用",centered:!0,children:(0,n.jsx)(l.x,{size:"sm",children:(0,n.jsx)(c.y,{highlight:o,children:"确定删除 ".concat(o,"?")})}),labels:{confirm:"确定",cancel:"取消"},onCancel:()=>console.log("Cancel"),confirmProps:{color:"red"},onConfirm:async()=>{r(!0),await k(t),await S(),r(!1)}})},h=async()=>{r(!0),await S(),r(!1)},f=e.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.id}),(0,n.jsx)("td",{children:(0,n.jsx)(a(),{href:"/app/".concat(e.id,"/knowledgeBase"),children:e.name})}),(0,n.jsx)("td",{children:e.description}),(0,n.jsx)("td",{children:(0,C.o0)(e.created)}),(0,n.jsx)("td",{children:(0,C.o0)(e.modified)}),(0,n.jsxs)("td",{children:[" ",(0,n.jsx)(s.z,{variant:"filled",color:"red",size:"xs",onClick:()=>i(e),children:"删除"})]})]},e.id));return(0,o.useEffect)(()=>{h()},[]),(0,n.jsxs)(d.x,{pos:"relative",children:[(0,n.jsx)(p.f,{visible:t,overlayOpacity:.3}),(0,n.jsxs)(u.i,{striped:!0,withBorder:!0,withColumnBorders:!0,mt:12,children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"应用id"}),(0,n.jsx)("th",{children:"应用名"}),(0,n.jsx)("th",{children:"应用描述"}),(0,n.jsx)("th",{children:"创建时间"}),(0,n.jsx)("th",{children:"修改时间"}),(0,n.jsx)("th",{children:"操作"})]})}),(0,n.jsx)("tbody",{children:f})]})]})}function R(){let e=O().open,t=O().setOpen,r=O().setLoading,o=(0,y.c)({initialValues:{name:"",description:""},validate:{name:e=>e?null:"应用名必填"}});return(0,n.jsxs)(h.u,{opened:e,onClose:()=>{t(!1)},title:"创建应用",centered:!0,children:[(0,n.jsxs)(d.x,{maw:P.hE,mx:"auto",children:[(0,n.jsx)(f.o,{withAsterisk:!0,label:"名称",placeholder:"输入应用名",...o.getInputProps("name")}),(0,n.jsx)(m.g,{label:"描述",placeholder:"输入应用描述",...o.getInputProps("description")})]}),(0,n.jsx)(d.x,{maw:P.hE,mx:"auto",pt:12,style:{textAlign:"right"},children:(0,n.jsx)(s.z,{onClick:async()=>{if(o.validate(),o.isValid()){r(!0);let e=(null==o?void 0:o.values)||{};await z(e),await S(),t(!1),r(!1)}},children:"确认"})})]})}function T(){let e=[{title:"AgentCraft",href:"#"},{title:"应用",href:"/application"}].map((e,t)=>(0,n.jsx)(g.e,{href:e.href,children:e.title},t)),t=O().setOpen;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b.O,{children:e}),(0,n.jsx)(E.Z,{title:"应用",description:"AgentCraft的应用是对应业务场景的抽象，您可以聚合同类业务到同一个应用里面，在一个应用下您可以构建多个知识库服务及agent服务"}),(0,n.jsx)(d.x,{mt:12,children:(0,n.jsx)(s.z,{onClick:()=>t(!0),children:"新建应用"})}),(0,n.jsx)(R,{}),(0,n.jsx)(N,{})]})}function L(){return(0,n.jsx)(T,{})}}},function(e){e.O(0,[664,774,888,179],function(){return e(e.s=89301)}),_N_E=e.O()}]);