(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[709],{41030:function(e,t,a){"use strict";a.d(t,{S:function(){return k}});var i=a(67294),n=a(15851),l=(0,a(56817).k)(()=>({placeholder:{},input:{cursor:"pointer"}})),r=a(66261),o=a(80971),s=a(94151),d=a(3241),c=a(83979),p=a(80665),u=Object.defineProperty,m=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,a)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,__spreadValues=(e,t)=>{for(var a in t||(t={}))h.call(t,a)&&__defNormalProp(e,a,t[a]);if(m)for(var a of m(t))g.call(t,a)&&__defNormalProp(e,a,t[a]);return e},__objRest=(e,t)=>{var a={};for(var i in e)h.call(e,i)&&0>t.indexOf(i)&&(a[i]=e[i]);if(null!=e&&m)for(var i of m(e))0>t.indexOf(i)&&g.call(e,i)&&(a[i]=e[i]);return a};let f={multiple:!1},y=(0,i.forwardRef)((e,t)=>{let a=(0,d.N4)("FileButton",f,e),{onChange:n,children:l,multiple:r,accept:o,name:s,form:u,resetRef:m,disabled:h,capture:g,inputProps:y}=a,_=__objRest(a,["onChange","children","multiple","accept","name","form","resetRef","disabled","capture","inputProps"]),x=(0,i.useRef)();return(0,c.k)(m,()=>{x.current.value=""}),i.createElement(i.Fragment,null,l(__spreadValues({onClick:()=>{h||x.current.click()}},_)),i.createElement("input",__spreadValues({style:{display:"none"},type:"file",accept:o,multiple:r,onChange:e=>{r?n(Array.from(e.currentTarget.files)):n(e.currentTarget.files[0]||null)},ref:(0,p.Y)(t,x),name:s,form:u,capture:g},y)))});y.displayName="@mantine/core/FileButton";var _=a(95117),x=Object.defineProperty,b=Object.defineProperties,v=Object.getOwnPropertyDescriptors,j=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable,FileInput_defNormalProp=(e,t,a)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,FileInput_spreadValues=(e,t)=>{for(var a in t||(t={}))w.call(t,a)&&FileInput_defNormalProp(e,a,t[a]);if(j)for(var a of j(t))L.call(t,a)&&FileInput_defNormalProp(e,a,t[a]);return e},__spreadProps=(e,t)=>b(e,v(t)),FileInput_objRest=(e,t)=>{var a={};for(var i in e)w.call(e,i)&&0>t.indexOf(i)&&(a[i]=e[i]);if(null!=e&&j)for(var i of j(e))0>t.indexOf(i)&&L.call(e,i)&&(a[i]=e[i]);return a};let S={size:"sm",valueComponent:({value:e})=>i.createElement(_.x,{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},Array.isArray(e)?e.map(e=>e.name).join(", "):null==e?void 0:e.name)},P=(0,i.forwardRef)((e,t)=>{let a=(0,r.k)("FileInput",S,e),{inputProps:d,wrapperProps:c,placeholder:p,value:u,defaultValue:m,onChange:h,multiple:g,accept:f,name:_,form:x,classNames:b,styles:v,unstyled:j,valueComponent:w,rightSection:L,clearable:P,clearButtonProps:k,readOnly:I,capture:O,fileInputProps:A}=a,M=FileInput_objRest(a,["inputProps","wrapperProps","placeholder","value","defaultValue","onChange","multiple","accept","name","form","classNames","styles","unstyled","valueComponent","rightSection","clearable","clearButtonProps","readOnly","capture","fileInputProps"]),C=(0,i.useRef)(),{classes:N,cx:T}=l(null,{name:"FileInput",classNames:b,styles:v,unstyled:j}),[E,z]=(0,n.C)({value:u,defaultValue:m,onChange:h,finalValue:g?[]:null}),D=Array.isArray(E)?0!==E.length:null!==E,F=L||(P&&D&&!I?i.createElement(o.P,__spreadProps(FileInput_spreadValues({},k),{variant:"transparent",onClick:()=>z(g?[]:null),size:d.size,unstyled:j})):null);return(0,i.useEffect)(()=>{(Array.isArray(E)&&0===E.length||null===E)&&C.current()},[E]),i.createElement(s.I.Wrapper,__spreadProps(FileInput_spreadValues({},c),{__staticSelector:"FileInput"}),i.createElement(y,{onChange:z,multiple:g,accept:f,name:_,form:x,resetRef:C,disabled:I,capture:O,inputProps:A},e=>i.createElement(s.I,__spreadProps(FileInput_spreadValues(FileInput_spreadValues(FileInput_spreadValues({multiline:!0},e),d),M),{component:"button",type:"button",ref:t,__staticSelector:"FileInput",rightSection:F,classNames:__spreadProps(FileInput_spreadValues({},b),{input:T(N.input,null==b?void 0:b.input)})}),D?i.createElement(w,{value:E}):i.createElement(s.I.Placeholder,{className:N.placeholder},p))))});P.displayName="@mantine/core/FileInput";let k=P},30904:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var i=(0,a(30853).Z)("upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]])},56655:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/overview",function(){return a(72246)}])},99838:function(e,t,a){"use strict";a.d(t,{G:function(){return i}});let i=[{name:"通义千问（商业模型）",tag:["阿里云","通义千问"],type:"llm",icon:"https://img.alicdn.com/imgextra/i4/O1CN01c26iB51UyR3MKMFvk_!!6000000002586-2-tps-124-122.png",description:"商业版本的通义千问，支持8K上下文，性能强劲，推理能力强",fcLink:"https://fcnext.console.aliyun.com/applications/create?template=fc-qwen",githubLink:"",template:"fc-qwen",templateParams:{type:"object",additionalProperties:!1,required:["region","apiKey"],properties:{region:{type:"string",title:"地域",default:"cn-hangzhou",description:"该服务所在的地域",enum:["cn-beijing","cn-hangzhou","cn-shanghai","cn-shenzhen"],uiType:"select",dataSource:[{label:"杭州",value:"cn-hangzhou"},{label:"上海",value:"cn-shanghai"},{label:"北京",value:"cn-beijing"},{label:"深圳",value:"cn-shenzhen"}]},apiKey:{type:"string",title:"通义千问API-Key",description:'通义千问的API-KEY，<a href="https://dashscope.console.aliyun.com/apiKey" target="_blank">免费申领地址</a>',default:"",uiType:"password"},model:{type:"string",title:"通义千问可访问模型",description:'通义千问支持的两种模型，<a href="https://help.aliyun.com/zh/dashscope/developer-reference/api-details?disableWebsiteRedirect=true" target="_blank">点击查看详情</a>',default:"qwen-turbo",enum:["qwen-turbo","qwen-plus"],uiType:"select",dataSource:[{label:"qwen-turbo",value:"qwen-turbo"},{label:"qwen-plus",value:"qwen-plus"}]},serviceName:{type:"string",title:"服务名",description:"",hiddenUI:!0,default:"AgentCraft"},clientPassword:{type:"string",title:"客户端访问密码",description:"",hiddenUI:!0,default:""}}}},{name:"通义千问开源版(7b模型)",tag:["阿里云","通义千问","开源"],type:"llm",icon:"https://img.alicdn.com/imgextra/i4/O1CN01c26iB51UyR3MKMFvk_!!6000000002586-2-tps-124-122.png",description:"开源版本通义千问，支持灵活定制， 性能强劲，推理能力强",fcLink:"https://fcnext.console.aliyun.com/applications/create?template=fc-llm-api",githubLink:"https://github.com/devsapp/fc-qwen",template:"fc-llm-api",templateParams:{type:"object",additionalProperties:!1,required:["region","llmModel"],properties:{region:{type:"string",title:"地域",default:"cn-hangzhou",description:"该服务所在的地域",enum:["cn-hangzhou","cn-shanghai"],uiType:"select",dataSource:[{label:"杭州",value:"cn-hangzhou"},{label:"上海",value:"cn-shanghai"}]},llmModel:{type:"string",title:"模型名称",description:"模型名称",default:"qwen-7b-chat",uiType:"input"},adminEnabled:{type:"string",title:"",description:"",default:!1,hiddenUI:!0},serviceName:{type:"string",title:"服务名",description:"",default:"AgentCraft",hiddenUI:!0},clientPassword:{type:"string",title:"客户端访问密码",description:"",default:"",hiddenUI:!0}}}},{name:"chatglm2开源版(6b,in4量化)",tag:["阿里云","chatglm2","开源"],type:"llm",icon:"https://img.alicdn.com/imgextra/i1/O1CN019AaX8Q26UcjmzSLTF_!!6000000007665-2-tps-200-200.png",description:"开源chatglm2，支持灵活定制， 性能强劲，推理能力强",fcLink:"https://fcnext.console.aliyun.com/applications/create?template=fc-llm-api",githubLink:"https://github.com/devsapp/fc-llm-api",template:"fc-llm-api",templateParams:{type:"object",additionalProperties:!1,required:["region","llmModel"],properties:{region:{type:"string",title:"地域",default:"cn-hangzhou",description:"该服务所在的地域",enum:["cn-hangzhou","cn-shanghai"],uiType:"select",dataSource:[{label:"杭州",value:"cn-hangzhou"},{label:"上海",value:"cn-shanghai"}]},llmModel:{type:"string",title:"模型名称",description:"模型名称",default:"chatglm2-6b-int4",uiType:"input"},adminEnabled:{type:"string",title:"",description:"",default:!1,hiddenUI:!0},serviceName:{type:"string",title:"服务名",description:"",default:"AgentCraft",hiddenUI:!0},clientPassword:{type:"string",title:"客户端访问密码",description:"",default:"",hiddenUI:!0}}}},{name:"llama2开源版(13b,in4量化)",tag:["阿里云","llama2","开源"],type:"llm",icon:"https://img.alicdn.com/imgextra/i1/O1CN019AaX8Q26UcjmzSLTF_!!6000000007665-2-tps-200-200.png",description:"开源llama2，支持灵活定制， 性能强劲，推理能力强",fcLink:"https://fcnext.console.aliyun.com/applications/create?template=fc-llm-api",githubLink:"https://github.com/devsapp/fc-llm-api",template:"fc-llm-api",templateParams:{type:"object",additionalProperties:!1,required:["region","llmModel"],properties:{region:{type:"string",title:"地域",default:"cn-hangzhou",description:"该服务所在的地域",enum:["cn-hangzhou","cn-shanghai"],uiType:"select",dataSource:[{label:"杭州",value:"cn-hangzhou"},{label:"上海",value:"cn-shanghai"}]},llmModel:{type:"string",title:"模型名称",description:"模型名称",default:"llama2-13b-q4",uiType:"input"},adminEnabled:{type:"boolean",title:"",description:"",default:!1,hiddenUI:!0},serviceName:{type:"string",title:"服务名",description:"",default:"AgentCraft",hiddenUI:!0},clientPassword:{type:"string",title:"客户端访问密码",description:"",default:"",hiddenUI:!0}}}}]},72246:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return IndexPage}});var i,n,l=a(85893),r=a(67294),o=a(82623),s=a(67841),d=a(19236),c=a(95117),p=a(11163),u=a(77248),m=a(69876),h=a(70157),g=a(49737),f=a(20966),y=a(54685),_=a(71232),x=a(80061),b=a(28855),v=a(73193),j=a(64523),w=a(54777),L=a(52615),S=a(99838);function QuickStart(e){let{form:t}=e,a=S.G[0].templateParams;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.D,{order:5,children:"通义千问基础模型设置"}),(0,l.jsx)(j.x,{mx:"auto",children:a.properties&&Object.keys(null==a?void 0:a.properties).map(e=>(0,l.jsx)("div",{children:function(e,i){if(i.hiddenUI)return null;{let n=(0,l.jsx)(x.o,{withAsterisk:!0,label:i.title,placeholder:"",...t.getInputProps(e),description:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:i.description}})});return"string"===i.type&&("select"===i.uiType&&(n=(0,l.jsx)(b.Ph,{withAsterisk:a.required.includes(e),data:i.dataSource,description:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:i.description}}),label:i.title,placeholder:"",...t.getInputProps(e)})),"password"===i.uiType&&(n=(0,l.jsx)(v.W,{withAsterisk:!0,label:i.title,placeholder:"",...t.getInputProps(e),description:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:i.description}})}))),n}}(e,null==a?void 0:a.properties[e])},e))}),(0,l.jsx)(w.i,{my:"sm"}),(0,l.jsx)(d.D,{order:5,children:"LLM代理设置"}),(0,l.jsxs)(j.x,{mx:"auto",children:[(0,l.jsx)(x.o,{withAsterisk:!0,label:"LLM代理名称",description:"",placeholder:"",...t.getInputProps("name_alias")}),(0,l.jsx)(L.g,{label:"LLM代理描述",description:"",placeholder:"",...t.getInputProps("description")})]})]})}var P=a(41030),k=a(96768),I=a(14127),O=a(30904);function DataAll(e){let{form:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.D,{order:5,children:"数据集设置"}),(0,l.jsxs)(j.x,{mx:"auto",children:[(0,l.jsx)(x.o,{withAsterisk:!0,label:"数据集名称",description:"",placeholder:"",...t.getInputProps("name")}),(0,l.jsx)(L.g,{label:"描述",description:"",placeholder:"",...t.getInputProps("description")})]}),(0,l.jsx)(w.i,{my:"sm"}),(0,l.jsx)(d.D,{order:5,children:"数据源设置"}),(0,l.jsxs)(j.x,{mx:"auto",children:[(0,l.jsx)(P.S,{withAsterisk:!0,accept:".md,.txt,.html,.pdf",name:"file",label:"选择文档",description:(0,l.jsxs)("div",{children:[" 选择本地文件上传，支持 .txt,.md,.html文件 ,",(0,l.jsx)("a",{href:"/example.md",download:!0,children:"下载示例文档"})]}),placeholder:"点击上传文档",icon:(0,l.jsx)(O.Z,{size:(0,k.h)(14)}),...t.getInputProps("file")}),(0,l.jsx)(x.o,{withAsterisk:!0,label:"标题",description:"标题内容作为检索的数据来源，用来展示检索结果",placeholder:"",...t.getInputProps("title")}),(0,l.jsx)(I.Y,{withAsterisk:!0,label:"文档切片大小",description:"",placeholder:"",...t.getInputProps("chunk_size")}),(0,l.jsx)(x.o,{label:"来源url",placeholder:"",...t.getInputProps("url")})]})]})}var A=a(31194),M=a(91939),C=a(61494),N=a(64529),T=a(782),E=a(86105),z=a(23824);(i=n||(n={}))[i.LLM_PROXY=0]="LLM_PROXY",i[i.DATA_ALL=1]="DATA_ALL",i[i.KNOWLEDGE_BASE=2]="KNOWLEDGE_BASE";let D=(0,N.Ue)((0,T.tJ)(e=>({autoQuickStart:!0,activeStep:0,dataSetId:[],modelId:"",configStepStatus:{llm_proxy_config_ready:!1,llm_proxy_create_loading:!1,data_all_config_ready:!1,data_all_create_loading:!1,knowledge_base_config_ready:!1,knowledge_base_create_loading:!1},quickStartConfig:{llm_proxy_config:{},data_all_config:{},knowledge_base_config:{}},setDataSetId:t=>e(()=>({dataSetId:t})),setModelId:t=>e(()=>({modelId:t})),setConfigStepStatus:t=>{e({configStepStatus:t})},setQuickStartConfig:t=>{e({quickStartConfig:t})},setActiveStep:t=>{e({activeStep:t})},setAutoQuickStart:t=>{e({autoQuickStart:t})}}),{name:E.NH}));async function createFoundationModelOnly(e){var t;let a={description:e.description,region:e.region,apiKey:e.apiKey,model:e.model},i=await (0,z.W)("/api/infra/alibaba-cloud/createApp?template=fc-qwen",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});return null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.name}async function checkFoundationModelStatusAndLLMProxy(e,t){var a,i;let n=await new Promise((t,a)=>{let i=setInterval(async()=>{try{let a=await (0,z.W)("/api/infra/alibaba-cloud/getApp?appName=".concat(e)),n=a.data.lastRelease;"published"===n.status&&(clearInterval(i),t(n))}catch(e){a(e)}},4e3)}),l=null==n?void 0:null===(a=n.output)||void 0===a?void 0:a.deploy.client,r=null==l?void 0:null===(i=l.customDomains[0])||void 0===i?void 0:i.domainName,o={name:t.model,name_alias:t.name_alias,url:"http://".concat(r,"/v1/chat/completions"),token:"",description:"",timeout:600},s=await (0,z.W)("/api/model/create",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}});return s.data.id}async function createDataAll(e){let t={name:e.name,dataset_type:2,description:e.description||"数据集"},a=await (0,z.W)("/api/dataset/create",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),i=a.data.id,n=new FormData;return n.append("file",e.file),n.append("title",e.title),n.append("chunk_size",e.chunk_size),n.append("url",e.url),await (0,z.W)("/api/dataset/".concat(i,"/datasource/upload"),{method:"POST",body:n,headers:{}}),i}async function createKnowledgeBaseApp(e){let t={name:e.name,description:e.description},a=await (0,z.W)("/api/application/create",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),i=a.data.id;return e.app_id=i,await (0,z.W)("/api/knowledgeBase/create",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),i}var F=a(13962);function KnowledgeBase(e){let{form:t}=e,a=(0,M.s6)().modelList,i=(0,C.s6)().dataSetList,{dataSetId:n,modelId:o}=D(),s=a.map(e=>({label:e.name_alias,value:e.id})),c=i.filter(e=>e.dataset_type==F.I.DOCUMENT).map(e=>({label:e.name,value:e.id}));return(0,r.useEffect)(()=>{(0,M.fZ)(),(0,C.ln)(),t.setFieldValue("model_id",o),t.setFieldValue("fuzzy_datasets",n)},[n,o]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.D,{order:5,children:"应用基本信息"}),(0,l.jsxs)(j.x,{mx:"auto",children:[(0,l.jsx)(x.o,{withAsterisk:!0,label:"应用名称",description:"",placeholder:"",...t.getInputProps("name")}),(0,l.jsx)(L.g,{label:"描述",description:"",placeholder:"",minRows:2,...t.getInputProps("description")})]}),(0,l.jsx)(w.i,{my:"sm"}),(0,l.jsx)(d.D,{order:5,children:"知识库设置"}),(0,l.jsxs)(j.x,{pl:4,pr:4,children:[(0,l.jsx)(L.g,{label:"系统提示词",placeholder:"输入系统提示词",...t.getInputProps("system_message"),minRows:2,description:"系统提示词作为第一个输入给大语言模型的文本，往往用来设定角色"}),(0,l.jsx)(L.g,{label:"提示词模板",placeholder:"",...t.getInputProps("prompt_template"),minRows:2,description:"提示词模板可以将检索的结果context和用户的输入query整合到一起，最后整体输入给大语言模型"})]}),(0,l.jsx)(j.x,{pl:4,pr:4,children:(0,l.jsx)(_.Z,{grow:!0,children:(0,l.jsx)(A.NU,{withAsterisk:!0,data:c,description:"",label:"数据集",placeholder:"添加模糊数据集",...t.getInputProps("fuzzy_datasets")})})}),(0,l.jsx)(j.x,{pl:4,pr:4,mb:12,children:(0,l.jsx)(b.Ph,{withAsterisk:!0,data:s,description:"",label:"LLM代理",placeholder:"",...t.getInputProps("model_id")})})]})}var U=a(26373);function quickStart_QuickStart(){let e=(0,p.useRouter)(),[t,a]=(0,r.useState)(""),i=(0,u.c)({initialValues:{name_alias:"通义千问模型",description:"",region:"cn-hangzhou",apiKey:"",model:"qwen-turbo"},validate:{name_alias:e=>e?null:"LLM代理名称必填",region:e=>e?null:"LLM代理所在地域必填",apiKey:e=>e?null:"API Key必填"}}),o=(0,u.c)({initialValues:{name:"AgentCraft快速入门数据集",title:"AgentCraft快速入门数据集",chunk_size:521,url:"".concat(window.location.protocol,"/").concat(window.location.host,"/example.md"),file:""},validate:{name:e=>e?null:"名称必填",chunk_size:e=>e?null:"切片数字必填",file:e=>e?null:"上传文档必填"}}),c=(0,u.c)({initialValues:{name:"AgentCraft快速入门知识库",prompt_template:E.Gf,description:"",app_id:"",exact_datasets:[],fuzzy_datasets:[],exact_search_similarity:.9,fuzzy_search_similarity:.6,temperature:.5,top_p:1,n_sequences:1,max_tokens:1024,stop:[],presence_penalty:0,frequency_penalty:0,logit_bias:"",model_id:"",redis_ip_ex:0,redis_history_ex:0,model_ip_limit:0,llm_history_len:0,system_message:E.cl,exact_search_limit:1,fuzzy_search_limit:3},validate:{name:e=>e?null:"知识库名称必填"}}),{activeStep:x,configStepStatus:b,setDataSetId:v,setModelId:j,setActiveStep:w,setConfigStepStatus:L,setAutoQuickStart:S}=D(),{llm_proxy_config_ready:P,llm_proxy_create_loading:k,data_all_config_ready:I,data_all_create_loading:O,knowledge_base_config_ready:A,knowledge_base_create_loading:M}=b,createLLMProxy=async()=>{if(i.validate(),!i.isValid())return;b.llm_proxy_create_loading=!0,L(b);let e=i.values;try{let t=await createFoundationModelOnly(e);a(t);let i=await checkFoundationModelStatusAndLLMProxy(t,e);b.llm_proxy_create_loading=!1,b.llm_proxy_config_ready=!0,L(b),j(i),U.N9.show({title:"基础模型和LLM代理配置成功",message:"您已完成基础模型和LLM代理配置",color:"green"});let n=x<2?x+1:x;w(n)}catch(e){U.N9.show({title:"异常",message:e.message,color:"red"}),b.llm_proxy_create_loading=!1,b.llm_proxy_config_ready=!1,L(b)}},createAppAll=async()=>{if(o.validate(),o.isValid()){b.data_all_create_loading=!0,L(b);try{let e=await createDataAll(o.values);b.data_all_create_loading=!1,b.data_all_config_ready=!0,L(b),v([e]),U.N9.show({title:"恭喜数据集创建成功",message:"数据集创建成功",color:"green"});let t=x<2?x+1:x;w(t)}catch(e){U.N9.show({title:"异常",message:e.message,color:"red"}),b.data_all_create_loading=!1,b.data_all_config_ready=!1,L(b)}}},createKnowledgeBase=async()=>{if(c.validate(),c.isValid())try{b.knowledge_base_create_loading=!0,L(b);let t=await createKnowledgeBaseApp(c.values);b.knowledge_base_create_loading=!1,b.knowledge_base_config_ready=!0,L(b),U.N9.show({title:"恭喜您完成知识库应用创建",message:"前往知识库详列表查看",color:"green"}),e.push("/app/".concat(t,"/knowledgeBase"))}catch(e){U.N9.show({title:"异常",message:e.message,color:"red"}),b.knowledge_base_create_loading=!1,b.knowledge_base_config_ready=!1,L(b)}},nextStep=async()=>{x===n.LLM_PROXY&&await createLLMProxy(),x===n.DATA_ALL&&await createAppAll(),x===n.KNOWLEDGE_BASE&&await createKnowledgeBase()};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(m.k,{align:"center",mb:18,children:[(0,l.jsx)(d.D,{order:3,children:"快速开始"}),(0,l.jsx)(s.z,{onClick:()=>{S(!1)},compact:!0,variant:"subtle",children:"关闭"})]}),(0,l.jsxs)(h.v,{active:x,onStepClick:w,children:[(0,l.jsx)(h.v.Step,{label:"基础模型&LLM代理",description:"进行LLM基础模型的创建以及LLM代理关联",loading:k,children:(0,l.jsxs)("div",{style:{position:"relative"},children:[(0,l.jsx)(g.f,{loader:(0,l.jsxs)(m.k,{align:"center",direction:"column",children:[(0,l.jsxs)(m.k,{align:"center",children:["部署基础模型和LLM代理预计需要5分钟，请耐心等待",(0,l.jsx)(f.a,{variant:"bars",color:"pink",ml:12})]}),(0,l.jsx)(y.e,{href:"https://fcnext.console.aliyun.com/applications/".concat(t,"/env/default?tab=envDetail"),target:"_blank",children:"点击查看应用创建日志"})]}),overlayOpacity:.3,overlayColor:"#c5c5c5",visible:k}),(0,l.jsx)("div",{style:{padding:20},children:(0,l.jsx)(QuickStart,{form:i})})]})}),(0,l.jsx)(h.v.Step,{label:"创建数据集&数据源",description:"创建数据集，上传数据源文件",loading:O,children:(0,l.jsxs)("div",{style:{position:"relative"},children:[(0,l.jsx)(g.f,{loader:(0,l.jsx)(m.k,{align:"center",direction:"column",children:(0,l.jsxs)(m.k,{align:"center",children:["创建数据集&数据源预计花费1-2分钟，请耐心等待",(0,l.jsx)(f.a,{variant:"bars",color:"pink",ml:12})]})}),overlayOpacity:.3,overlayColor:"#c5c5c5",visible:O}),(0,l.jsx)("div",{style:{padding:20},children:(0,l.jsx)(DataAll,{form:o})})]})}),(0,l.jsx)(h.v.Step,{label:"知识库应用创建",description:"创建知识库",loading:M,children:(0,l.jsxs)("div",{style:{position:"relative"},children:[(0,l.jsx)(g.f,{loaderProps:{size:"sm",color:"pink",variant:"bars"},overlayOpacity:.3,overlayColor:"#c5c5c5",visible:M}),(0,l.jsx)("div",{style:{padding:20},children:(0,l.jsx)(KnowledgeBase,{form:c})})]})})]}),(0,l.jsxs)(_.Z,{mt:"xl",children:[x>n.LLM_PROXY?(0,l.jsx)(s.z,{variant:"default",onClick:()=>{let e=x>0?x-1:x;w(e)},children:"上一步"}):null,x===n.LLM_PROXY?(0,l.jsx)(s.z,{onClick:nextStep,disabled:k,children:"下一步"}):null,x===n.DATA_ALL?(0,l.jsx)(s.z,{onClick:nextStep,disabled:O,children:"下一步"}):null,x===n.KNOWLEDGE_BASE?(0,l.jsx)(s.z,{onClick:nextStep,disabled:M,children:"完成"}):null]})]})}function OverView(){let{autoQuickStart:e,setAutoQuickStart:t}=D();return(0,l.jsxs)(l.Fragment,{children:[e&&(0,l.jsx)(o.X,{shadow:"xs",p:"xl",children:(0,l.jsx)(quickStart_QuickStart,{})}),!e&&(0,l.jsxs)("div",{children:[(0,l.jsx)(s.z,{compact:!0,variant:"subtle",onClick:()=>t(!0),mb:12,children:"打开快速引导"}),(0,l.jsxs)(o.X,{shadow:"xs",p:"xl",mb:24,children:[(0,l.jsx)(d.D,{order:3,children:"基础模型"}),(0,l.jsx)(c.x,{children:"由函数计算提供的基础模型包含丰富的AI领域模型，包括LLM类别的通义千问，Chatglm,Llama2等，以及绘画类别的Stable Diffusion,通义万相等，以及Bert算法模型，Ocr模型"})]}),(0,l.jsxs)(o.X,{shadow:"xs",p:"xl",children:[(0,l.jsx)(d.D,{order:3,children:"LLM代理"}),(0,l.jsx)(c.x,{children:"LLM代理可以更好的兼容不同的LLM服务，保障在AgentCraft服务商"})]})]})]})}function IndexPage(){return(0,l.jsx)(OverView,{})}},61494:function(e,t,a){"use strict";a.d(t,{cv:function(){return addDataSet},ln:function(){return getDataSetList},s6:function(){return r},uo:function(){return deleteDataSet}});var i=a(64529),n=a(782),l=a(23824);let r=(0,i.Ue)()((0,n.mW)(e=>({dataSetList:[],open:!1,loading:!1,updateDataSetList:t=>e(e=>({dataSetList:t})),setLoading:t=>e(e=>({loading:t})),setOpen:t=>e(e=>({open:t}))})));async function getDataSetList(){let e=r.getState(),t=e.updateDataSetList,a=await (0,l.W)("/api/dataset/list"),i=a.data;i&&t(i)}async function deleteDataSet(e){return await (0,l.W)("/api/dataset/delete?id=".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})}async function addDataSet(e){return await (0,l.W)("/api/dataset/create",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},91939:function(e,t,a){"use strict";a.d(t,{$s:function(){return deleteModel},QB:function(){return updateModel},fZ:function(){return getModelList},mS:function(){return addModel},s6:function(){return r}});var i=a(64529),n=a(782),l=a(23824);let r=(0,i.Ue)()((0,n.mW)(e=>({modelList:[],loading:!1,open:!1,isEdit:!1,updateCurrentModel:t=>e(e=>({currentModel:t})),setEditStatus:t=>e(e=>({isEdit:t})),setLoading:t=>e(e=>({loading:t})),setOpen:t=>e(e=>({open:t})),updateModelList:t=>e(e=>({modelList:t}))})));async function getModelList(){let e=r.getState(),t=e.updateModelList,a=await (0,l.W)("/api/model/list"),i=await a.data;i&&t(i)}async function deleteModel(e){return await (0,l.W)("/api/model/delete?id=".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})}async function addModel(e){return await (0,l.W)("/api/model/create",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}async function updateModel(e,t){return await (0,l.W)("/api/model/update?id=".concat(e),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}},13962:function(e,t,a){"use strict";var i,n;a.d(t,{I:function(){return i}}),(n=i||(i={}))[n.QUESTION=1]="QUESTION",n[n.DOCUMENT=2]="DOCUMENT"}},function(e){e.O(0,[871,754,855,194,774,888,179],function(){return e(e.s=56655)}),_N_E=e.O()}]);