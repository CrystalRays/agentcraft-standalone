(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[805],{88393:function(e,t,n){"use strict";n.d(t,{u:function(){return el}});var r=n(67294),o=n(24241),i=n(80665),l=n(3594),a=n(3241),s=n(94993);let c=(0,r.createContext)(!1),d=c.Provider,u=()=>(0,r.useContext)(c);function p({children:e,openDelay:t=0,closeDelay:n=0}){return r.createElement(d,{value:!0},r.createElement(s.e0,{delay:{open:t,close:n}},e))}p.displayName="@mantine/core/TooltipGroup";var f=n(56817),h=Object.defineProperty,m=Object.defineProperties,x=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))b.call(t,n)&&w(e,n,t[n]);if(y)for(var n of y(t))v.call(t,n)&&w(e,n,t[n]);return e},j=(e,t)=>m(e,x(t)),E=(0,f.k)((e,{color:t,radius:n,width:r,multiline:o})=>({tooltip:j(g(g({},e.fn.fontStyles()),function(e,t){if(!t)return{backgroundColor:"dark"===e.colorScheme?e.colors.gray[2]:e.colors.gray[9],color:"dark"===e.colorScheme?e.black:e.white};let n=e.fn.variant({variant:"filled",color:t,primaryFallback:!1});return{backgroundColor:n.background,color:n.color}}(e,t)),{lineHeight:e.lineHeight,fontSize:e.fontSizes.sm,borderRadius:e.fn.radius(n),padding:`calc(${e.spacing.xs} / 2) ${e.spacing.xs}`,position:"absolute",whiteSpace:o?"unset":"nowrap",pointerEvents:"none",width:r}),arrow:{backgroundColor:"inherit",border:0,zIndex:1}}));let O={children:"Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported"};var P=n(85983),C=n(68365),k=n(48269),N=n(64523),S=Object.defineProperty,D=Object.defineProperties,T=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,_=(e,t,n)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,A=(e,t)=>{for(var n in t||(t={}))M.call(t,n)&&_(e,n,t[n]);if(I)for(var n of I(t))F.call(t,n)&&_(e,n,t[n]);return e},L=(e,t)=>D(e,T(t)),R=(e,t)=>{var n={};for(var r in e)M.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&I)for(var r of I(e))0>t.indexOf(r)&&F.call(e,r)&&(n[r]=e[r]);return n};let z={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:(0,l.w)("popover")};function Y(e){var t;let n=(0,a.N4)("TooltipFloating",z,e),{children:l,refProp:c,withinPortal:d,style:u,className:p,classNames:f,styles:h,unstyled:m,radius:x,color:y,label:b,offset:v,position:w,multiline:g,width:j,zIndex:S,disabled:D,variant:T}=n,I=R(n,["children","refProp","withinPortal","style","className","classNames","styles","unstyled","radius","color","label","offset","position","multiline","width","zIndex","disabled","variant"]),{handleMouseMove:M,x:F,y:_,opened:Y,boundaryRef:Z,floating:X,setOpened:B}=function({offset:e,position:t}){let[n,o]=(0,r.useState)(!1),i=(0,r.useRef)(),{x:l,y:a,reference:c,floating:d,refs:u,update:p,placement:f}=(0,s.YF)({placement:t,middleware:[(0,P.uY)({crossAxis:!0,padding:5,rootBoundary:"document"})]}),h=f.includes("right")?e:t.includes("left")?-1*e:0,m=f.includes("bottom")?e:t.includes("top")?-1*e:0,x=(0,r.useCallback)(({clientX:e,clientY:t})=>{c({getBoundingClientRect:()=>({width:0,height:0,x:e,y:t,left:e+h,top:t+m,right:e,bottom:t})})},[c]);return(0,r.useEffect)(()=>{if(u.floating.current){let e=i.current;e.addEventListener("mousemove",x);let t=(0,C.Kx)(u.floating.current);return t.forEach(e=>{e.addEventListener("scroll",p)}),()=>{e.removeEventListener("mousemove",x),t.forEach(e=>{e.removeEventListener("scroll",p)})}}},[c,u.floating.current,p,x,n]),{handleMouseMove:x,x:l,y:a,opened:n,setOpened:o,boundaryRef:i,floating:d}}({offset:v,position:w}),{classes:G,cx:Q}=E({radius:x,color:y,multiline:g,width:j},{name:"TooltipFloating",classNames:f,styles:h,unstyled:m,variant:T});if(!(0,o.k)(l))throw Error(O.children);let W=(0,i.Y)(Z,l.ref),q=e=>{var t,n;null==(n=(t=l.props).onMouseEnter)||n.call(t,e),M(e),B(!0)},K=e=>{var t,n;null==(n=(t=l.props).onMouseLeave)||n.call(t,e),B(!1)};return r.createElement(r.Fragment,null,r.createElement(k.q,{withinPortal:d},r.createElement(N.x,L(A({},I),{ref:X,className:Q(G.tooltip,p),style:L(A({},u),{zIndex:S,display:!D&&Y?"block":"none",top:null!=_?_:"",left:null!=(t=Math.round(F))?t:""})}),b)),(0,r.cloneElement)(l,L(A({},l.props),{[c]:W,onMouseEnter:q,onMouseLeave:K})))}Y.displayName="@mantine/core/TooltipFloating";var Z=n(58463),X=n(83051),B=n(37048),G=n(30212),Q=n(14870),W=n(58036),q=n(63468),K=Object.defineProperty,U=Object.defineProperties,H=Object.getOwnPropertyDescriptors,$=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,ee=(e,t,n)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,et=(e,t)=>{for(var n in t||(t={}))J.call(t,n)&&ee(e,n,t[n]);if($)for(var n of $(t))V.call(t,n)&&ee(e,n,t[n]);return e},en=(e,t)=>U(e,H(t)),er=(e,t)=>{var n={};for(var r in e)J.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&$)for(var r of $(e))0>t.indexOf(r)&&V.call(e,r)&&(n[r]=e[r]);return n};let eo={position:"top",refProp:"ref",withinPortal:!1,inline:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},width:"auto",events:{hover:!0,focus:!1,touch:!1},zIndex:(0,l.w)("popover"),positionDependencies:[]},ei=(0,r.forwardRef)((e,t)=>{var n;let l=(0,r.useRef)(null),c=(0,a.N4)("Tooltip",eo,e),{children:d,position:p,refProp:f,label:h,openDelay:m,closeDelay:x,onPositionChange:y,opened:b,withinPortal:v,radius:w,color:g,classNames:j,styles:C,unstyled:S,style:D,className:T,withArrow:I,arrowSize:M,arrowOffset:F,arrowRadius:_,arrowPosition:A,offset:L,transitionProps:R,multiline:z,width:Y,events:K,zIndex:U,disabled:H,positionDependencies:$,onClick:J,onMouseEnter:V,onMouseLeave:ee,inline:ei,variant:el,keepMounted:ea}=c,es=er(c,["children","position","refProp","label","openDelay","closeDelay","onPositionChange","opened","withinPortal","radius","color","classNames","styles","unstyled","style","className","withArrow","arrowSize","arrowOffset","arrowRadius","arrowPosition","offset","transitionProps","multiline","width","events","zIndex","disabled","positionDependencies","onClick","onMouseEnter","onMouseLeave","inline","variant","keepMounted"]),{classes:ec,cx:ed,theme:eu}=E({radius:w,color:g,width:Y,multiline:z},{name:"Tooltip",classNames:j,styles:C,unstyled:S,variant:el}),ep=function(e){let[t,n]=(0,r.useState)(!1),o="boolean"==typeof e.opened,i=o?e.opened:t,l=u(),a=(0,X.M)(),{delay:c,currentId:d,setCurrentId:p}=(0,s.tj)(),f=(0,r.useCallback)(e=>{n(e),e&&p(a)},[p,a]),{x:h,y:m,reference:x,floating:y,context:b,refs:v,update:w,placement:g,middlewareData:{arrow:{x:j,y:E}={}}}=(0,s.YF)({placement:e.position,open:i,onOpenChange:f,middleware:[(0,P.cv)(e.offset),(0,P.uY)({padding:8}),(0,P.RR)(),(0,Z.x7)({element:e.arrowRef,padding:e.arrowOffset}),...e.inline?[(0,P.Qo)()]:[]]}),{getReferenceProps:O,getFloatingProps:C}=(0,s.NI)([(0,s.XI)(b,{enabled:e.events.hover,delay:l?c:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events.touch}),(0,s.KK)(b,{enabled:e.events.focus,keyboardOnly:!0}),(0,s.qs)(b,{role:"tooltip"}),(0,s.bQ)(b,{enabled:(e.opened,!1)}),(0,s.Qu)(b,{id:a})]);return(0,G.L)({opened:i,positionDependencies:e.positionDependencies,floating:{refs:v,update:w}}),(0,B.l)(()=>{var t;null==(t=e.onPositionChange)||t.call(e,g)},[g]),{x:h,y:m,arrowX:j,arrowY:E,reference:x,floating:y,getFloatingProps:C,getReferenceProps:O,isGroupPhase:i&&d&&d!==a,opened:i,placement:g}}({position:(0,Q._)(eu.dir,p),closeDelay:x,openDelay:m,onPositionChange:y,opened:b,events:K,arrowRef:l,arrowOffset:F,offset:L+(I?M/2:0),positionDependencies:[...$,d],inline:ei});if(!(0,o.k)(d))throw Error(O.children);let ef=(0,i.Y)(ep.reference,d.ref,t);return r.createElement(r.Fragment,null,r.createElement(k.q,{withinPortal:v},r.createElement(W.u,en(et({keepMounted:ea,mounted:!H&&ep.opened},R),{transition:R.transition||"fade",duration:ep.isGroupPhase?10:null!=(n=R.duration)?n:100}),e=>{var t,n;return r.createElement(N.x,et(et({},es),ep.getFloatingProps({ref:ep.floating,className:ec.tooltip,style:en(et(et({},D),e),{zIndex:U,top:null!=(t=ep.y)?t:0,left:null!=(n=ep.x)?n:0})})),h,r.createElement(q.Y,{ref:l,arrowX:ep.arrowX,arrowY:ep.arrowY,visible:I,withBorder:!1,position:ep.placement,arrowSize:M,arrowOffset:F,arrowRadius:_,arrowPosition:A,className:ec.arrow}))})),(0,r.cloneElement)(d,ep.getReferenceProps(et({onClick:J,onMouseEnter:V,onMouseLeave:ee,onMouseMove:e.onMouseMove,onPointerDown:e.onPointerDown,onPointerEnter:e.onPointerEnter,[f]:ef,className:ed(T,d.props.className)},d.props))))});ei.Group=p,ei.Floating=Y,ei.displayName="@mantine/core/Tooltip";let el=ei},88198:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=(0,n(30853).Z)("check","IconCheck",[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]])},93625:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var r=(0,n(30853).Z)("copy","IconCopy",[["path",{d:"M8 8m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2",key:"svg-1"}]])},58343:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/foundationModel/[fmId]/detail",function(){return n(5899)}])},30372:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(85893),o=n(67294),i=n(88393),l=n(69876),a=n(95117),s=n(49834),c=n(88198),d=n(93625),u=n(37044),p=n.n(u);function f(e){let{value:t,content:n,truncate:u,width:f=300}=e,h=function(){let{timeout:e=2e3}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,o.useState)(null),[r,i]=(0,o.useState)(!1),[l,a]=(0,o.useState)(null),s=t=>{clearTimeout(l),a(setTimeout(()=>i(!1),e)),i(t)},c=e=>{if("clipboard"in navigator)navigator.clipboard.writeText(e).then(()=>s(!0)).catch(e=>n(e));else{let t=document.createElement("textarea");t.value=e,t.style.position="absolute",t.style.left="-999999px",document.body.prepend(t),t.select();try{document.execCommand("copy")}catch(e){console.error(e)}finally{t.remove(),s(!0)}}},d=()=>{i(!1),n(null),clearTimeout(l)};return{copy:c,reset:d,error:t,copied:r}}({timeout:500});return(0,r.jsx)(i.u,{label:h.copied?"已复制":"复制",withArrow:!0,position:"right",children:(0,r.jsxs)(l.k,{onClick:()=>h.copy(t),mih:50,style:{width:f},gap:"xs",justify:"flex-start",align:"center",direction:"row",wrap:"nowrap",children:[n?(0,r.jsx)(a.x,{truncate:u,className:p()["copy-to-clipboard-content"],children:n}):null,(0,r.jsx)(s.A,{color:h.copied?"teal":"gray",children:h.copied?(0,r.jsx)(c.Z,{size:"1rem"}):(0,r.jsx)(d.Z,{size:"1rem"})})]})})}},3658:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(85893),o=n(92716),i=n(95117),l=n(64523),a=n(69876),s=n(19236),c=n(91759);function d(e){let{detail:t,title:n}=e,[l,{open:a,close:s}]=(0,c.q)(!1);return(0,r.jsx)(r.Fragment,{children:t?(0,r.jsxs)("div",{children:[(0,r.jsx)(o.d,{opened:l,onClose:s,title:n,children:(0,r.jsx)(i.x,{children:t})}),(0,r.jsx)(i.x,{onClick:()=>a(),children:"信息"})]}):null})}function u(e){let{title:t,description:n,detail:o,mt:c,mb:u}=e;return(0,r.jsxs)(l.x,{mt:c||24,mb:u||24,children:[(0,r.jsxs)(a.k,{mih:20,gap:"md",justify:"flex-start",align:"flex-start",direction:"row",wrap:"wrap",children:[(0,r.jsx)(s.D,{order:2,children:t}),(0,r.jsx)(d,{title:t,detail:o})]}),n?(0,r.jsx)(i.x,{lineClamp:4,children:n}):null]})}},5899:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return g},default:function(){return j}});var r=n(85893),o=n(67294),i=n(11163),l=n(19236),a=n(82623),s=n(64523),c=n(69876),d=n(95117),u=n(54685),p=n(93284),f=n(3658),h=n(89911),m=n(30372),x=n(61407);let y={"fc-qwen":"client","fc-llm-api":"llm-server"},b={published:{color:"green",text:"已发布"},deploying:{color:"yellow",text:"部署中"}};function v(e){let{fmId:t}=e,n=(0,h.bQ)().currentFoundationModel,i=(0,h.bQ)().setCurrentFoundationModel;(0,o.useEffect)(()=>{(async()=>{let e=await (0,h.Yo)(t),n=null==e?void 0:e.lastRelease;i(n)})()},[t]);let u=function(e){try{let t=e.output,n=null==t?void 0:t.deploy,r=Object.keys(n).filter(t=>y[e.appConfig.template]===t),o=n[r[0]];if(o)return o.customDomains[0].domainName}catch(e){console.log(e)}return""}(n),p=b[null==n?void 0:n.status]||{color:"grey",text:"初始化"};return(0,r.jsx)("div",{children:(0,r.jsxs)("div",{children:[(0,r.jsx)(l.D,{order:4,mb:8,children:"基础模型服务信息"}),(0,r.jsxs)(a.X,{shadow:"xs",p:"md",withBorder:!0,mb:12,children:[(0,r.jsx)(l.D,{order:5,size:"h5",children:"应用信息"}),(0,r.jsx)(s.x,{maw:x.cy,pl:4,pr:4,children:(0,r.jsx)("div",{children:(0,r.jsxs)(c.k,{align:"center",children:["应用访问状态：",(0,r.jsx)(d.x,{color:p.color,children:p.text})]})})})]}),(0,r.jsx)(l.D,{order:4,mb:8,children:"访问接入"}),(0,r.jsxs)(a.X,{shadow:"xs",p:"md",withBorder:!0,mb:12,children:[(0,r.jsx)(l.D,{order:5,size:"h5",children:"基础模型服务访问信息"}),u?(0,r.jsxs)(s.x,{maw:x.cy,pl:4,pr:4,children:[(0,r.jsx)("div",{children:(0,r.jsxs)(c.k,{align:"center",children:["API访问地址：",(0,r.jsx)(m.Z,{width:800,content:"http://".concat(u,"/v1/chat/completions"),value:"http://".concat(u,"/v1/chat/completions")})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("span",{children:["API访问文档：","http://".concat(u,"/docs")]})})]}):null]}),(0,r.jsx)(l.D,{order:4,mb:8,children:"云资源信息"}),(0,r.jsxs)(a.X,{shadow:"xs",p:"md",withBorder:!0,children:[(0,r.jsx)(l.D,{order:5,size:"h5",children:"函数计算应用信息"}),(0,r.jsx)(s.x,{maw:x.cy,pl:4,pr:4,children:(0,r.jsx)("div",{children:(0,r.jsxs)("span",{children:["应用名：","".concat(null==n?void 0:n.appName)]})})})]})]})})}function w(){let e=(0,i.useRouter)(),{query:t}=e,n=t.fmId,o=[{title:"AgentCraft",href:"/"},{title:"基础模型",href:"/foundationModel"},{title:"模型详情",href:"/foundationModel/".concat(n,"/detail")}].map((e,t)=>(0,r.jsx)(u.e,{href:e.href,children:e.title},t));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.O,{children:o}),(0,r.jsx)(f.Z,{title:"".concat(n,"详情"),description:"依托阿里云Serverless的丰富应用模版以及完整的工具链，AgentCraft可以创建丰富多样的基础模型服务"}),(0,r.jsx)(s.x,{mt:12,children:(0,r.jsx)(v,{fmId:n})})]})}var g=!0;function j(){return(0,r.jsx)(w,{})}},89911:function(e,t,n){"use strict";n.d(t,{FR:function(){return o},Yo:function(){return d},bQ:function(){return s},ff:function(){return u},iO:function(){return p},im:function(){return c}});var r,o,i=n(64529),l=n(782),a=n(71791);(r=o||(o={}))[r.INIT=1]="INIT",r[r.CREATING=2]="CREATING",r[r.SUCCESS=3]="SUCCESS",r[r.FAILED=4]="FAILED";let s=(0,i.Ue)()((0,l.mW)(e=>({foundationModelList:[],loading:!1,createLoading:!1,open:!1,fmTemplate:{},appStatus:1,currentFoundationModel:{},setCurrentFoundationModel:t=>e(e=>({currentFoundationModel:t})),setAppStatus:t=>e(e=>({appStatus:t})),setFmTemplate:t=>e(e=>({fmTemplate:t})),setCreateLoading:t=>e(e=>({createLoading:t})),setLoading:t=>e(e=>({loading:t})),setOpen:t=>e(e=>({open:t})),updateFoundationModelList:t=>e(e=>({foundationModelList:t}))})));async function c(){let e=s.getState(),t=e.updateFoundationModelList,n=await (0,a.W)("/api/infra/alibaba-cloud/listApps"),r=n.data;r&&t(r)}async function d(e){let t=await (0,a.W)("/api/infra/alibaba-cloud/getApp?appName=".concat(e));return t.data}async function u(e){return await (0,a.W)("/api/infra/alibaba-cloud/deleteApp?appName=".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})}async function p(e,t){let n=await (0,a.W)("/api/infra/alibaba-cloud/createApp?template=".concat(e),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});return n.data}},37044:function(e){e.exports={"copy-to-clipboard-content":"CopyToClipboard_copy-to-clipboard-content__fv4wW"}}},function(e){e.O(0,[121,871,774,888,179],function(){return e(e.s=58343)}),_N_E=e.O()}]);