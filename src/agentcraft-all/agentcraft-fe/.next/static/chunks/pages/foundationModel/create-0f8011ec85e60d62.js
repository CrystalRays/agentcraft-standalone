(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[227],{66499:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/foundationModel/create",function(){return i(74656)}])},3658:function(e,t,i){"use strict";i.d(t,{Z:function(){return p}});var n=i(85893),a=i(92716),l=i(95117),r=i(64523),s=i(69876),c=i(19236),o=i(91759);function d(e){let{detail:t,title:i}=e,[r,{open:s,close:c}]=(0,o.q)(!1);return(0,n.jsx)(n.Fragment,{children:t?(0,n.jsxs)("div",{children:[(0,n.jsx)(a.d,{opened:r,onClose:c,title:i,children:(0,n.jsx)(l.x,{children:t})}),(0,n.jsx)(l.x,{onClick:()=>s(),children:"信息"})]}):null})}function p(e){let{title:t,description:i,detail:a,mt:o,mb:p}=e;return(0,n.jsxs)(r.x,{mt:o||24,mb:p||24,children:[(0,n.jsxs)(s.k,{mih:20,gap:"md",justify:"flex-start",align:"flex-start",direction:"row",wrap:"wrap",children:[(0,n.jsx)(c.D,{order:2,children:t}),(0,n.jsx)(d,{title:t,detail:a})]}),i?(0,n.jsx)(l.x,{lineClamp:4,children:i}):null]})}},74656:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return F}});var n=i(85893),a=i(67294),l=i(11163),r=i(20966),s=i(70157),c=i(80061),o=i(28855),d=i(73193),p=i(64523),u=i(67841),h=i(94491),m=i(49737),g=i(20741),f=i(69876),x=i(21017),b=i(39954),y=i(71232),j=i(95117),v=i(17789),w=i(54685),k=i(93284),C=i(12593),I=i(77248),T=i(2013),S=i(94173),_=i(93844),L=i(3658),A=i(89911),M=i(61407);let P=[{name:"通义千问（商业模型）",tag:["阿里云","通义千问"],type:"llm",icon:"https://img.alicdn.com/imgextra/i4/O1CN01c26iB51UyR3MKMFvk_!!6000000002586-2-tps-124-122.png",description:"商业版本的统一千问，支持8K上下文，性能强劲，推理能力强",fcLink:"https://fcnext.console.aliyun.com/applications/create?template=fc-qwen",githubLink:"",template:"fc-qwen",templateParams:{type:"object",additionalProperties:!1,required:["region","apiKey"],properties:{region:{type:"string",title:"地域",default:"cn-hangzhou",description:"该服务所在的地域",enum:["cn-beijing","cn-hangzhou","cn-shanghai","cn-shenzhen"],uiType:"select",dataSource:[{label:"杭州",value:"cn-hangzhou"},{label:"上海",value:"cn-shanghai"},{label:"北京",value:"cn-beijing"},{label:"深圳",value:"cn-shenzhen"}]},apiKey:{type:"string",title:"通义千问API-Key",description:'通义千问的API-KEY，<a href="https://dashscope.console.aliyun.com/apiKey" target="_blank">免费申领地址</a>',default:"",uiType:"password"},model:{type:"string",title:"通义千问可访问模型",description:'通义千问支持的两种模型，<a href="https://help.aliyun.com/zh/dashscope/developer-reference/api-details?disableWebsiteRedirect=true" target="_blank">点击查看详情</a>',default:"qwen-turbo",enum:["qwen-turbo","qwen-plus"],uiType:"select",dataSource:[{label:"qwen-turbo",value:"qwen-turbo"},{label:"qwen-plus",value:"qwen-plus"}]},serviceName:{type:"string",title:"服务名",description:"",hiddenUI:!0,default:"AgentCraft"},clientPassword:{type:"string",title:"客户端访问密码",description:"",hiddenUI:!0,default:""}}}},{name:"通义千问开源版(7b模型)",tag:["阿里云","通义千问","开源"],type:"llm",icon:"https://img.alicdn.com/imgextra/i4/O1CN01c26iB51UyR3MKMFvk_!!6000000002586-2-tps-124-122.png",description:"开源版本通义千问，支持灵活定制， 性能强劲，推理能力强",fcLink:"https://fcnext.console.aliyun.com/applications/create?template=fc-llm-api",githubLink:"https://github.com/devsapp/fc-qwen",template:"fc-llm-api",templateParams:{type:"object",additionalProperties:!1,required:["region","llmModel"],properties:{region:{type:"string",title:"地域",default:"cn-hangzhou",description:"该服务所在的地域",enum:["cn-hangzhou","cn-shanghai"],uiType:"select",dataSource:[{label:"杭州",value:"cn-hangzhou"},{label:"上海",value:"cn-shanghai"}]},llmModel:{type:"string",title:"模型名称",description:"模型名称",default:"qwen-7b-chat",uiType:"input"},adminEnabled:{type:"string",title:"",description:"",default:!1,hiddenUI:!0},serviceName:{type:"string",title:"服务名",description:"",default:"AgentCraft",hiddenUI:!0},clientPassword:{type:"string",title:"客户端访问密码",description:"",default:"",hiddenUI:!0}}}},{name:"chatglm2开源版(6b,in4量化)",tag:["阿里云","chatglm2","开源"],type:"llm",icon:"https://img.alicdn.com/imgextra/i4/O1CN01c26iB51UyR3MKMFvk_!!6000000002586-2-tps-124-122.png",description:"开源chatglm2，支持灵活定制， 性能强劲，推理能力强",fcLink:"https://fcnext.console.aliyun.com/applications/create?template=fc-llm-api",githubLink:"https://github.com/devsapp/fc-llm-api",template:"fc-llm-api",templateParams:{type:"object",additionalProperties:!1,required:["region","llmModel"],properties:{region:{type:"string",title:"地域",default:"cn-hangzhou",description:"该服务所在的地域",enum:["cn-hangzhou","cn-shanghai"],uiType:"select",dataSource:[{label:"杭州",value:"cn-hangzhou"},{label:"上海",value:"cn-shanghai"}]},llmModel:{type:"string",title:"模型名称",description:"模型名称",default:"chatglm2-6b-int4",uiType:"input"},adminEnabled:{type:"string",title:"",description:"",default:!1,hiddenUI:!0},serviceName:{type:"string",title:"服务名",description:"",default:"AgentCraft",hiddenUI:!0},clientPassword:{type:"string",title:"客户端访问密码",description:"",default:"",hiddenUI:!0}}}},{name:"llama2开源版(13b,in4量化)",tag:["阿里云","llama2","开源"],type:"llm",icon:"https://img.alicdn.com/imgextra/i4/O1CN01c26iB51UyR3MKMFvk_!!6000000002586-2-tps-124-122.png",description:"开源llama2，支持灵活定制， 性能强劲，推理能力强",fcLink:"https://fcnext.console.aliyun.com/applications/create?template=fc-llm-api",githubLink:"https://github.com/devsapp/fc-llm-api",template:"fc-llm-api",templateParams:{type:"object",additionalProperties:!1,required:["region","llmModel"],properties:{region:{type:"string",title:"地域",default:"cn-hangzhou",description:"该服务所在的地域",enum:["cn-hangzhou","cn-shanghai"],uiType:"select",dataSource:[{label:"杭州",value:"cn-hangzhou"},{label:"上海",value:"cn-shanghai"}]},llmModel:{type:"string",title:"模型名称",description:"模型名称",default:"llama2-13b-q4",uiType:"input"},adminEnabled:{type:"boolean",title:"",description:"",default:!1,hiddenUI:!0},serviceName:{type:"string",title:"服务名",description:"",default:"AgentCraft",hiddenUI:!0},clientPassword:{type:"string",title:"客户端访问密码",description:"",default:"",hiddenUI:!0}}}}];function E(){let e=(0,A.bQ)().appStatus;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{style:{wordBreak:"break-all",width:400,display:"flex",alignItems:"center"},children:[(0,n.jsx)("span",{children:"该应基础模型创建预计需要3分钟，请耐心等待，你可以可以关闭此弹框，在基础模型列表查看您创建的基础模型列表"}),(0,n.jsx)(r.a,{})]}),(0,n.jsxs)(s.v,{active:e,breakpoint:"sm",children:[(0,n.jsx)(s.v.Step,{label:"初始化",description:""}),(0,n.jsx)(s.v.Step,{label:"创建中",description:""}),(0,n.jsx)(s.v.Step,{label:"创建成功/失败",description:""})]})]})}function N(){let e=(0,A.bQ)().setOpen,t=(0,A.bQ)().setCreateLoading,i=(0,A.bQ)().setAppStatus,l=(0,A.bQ)().fmTemplate,r={},s=(null==l?void 0:l.required)||[];s.length>0&&(r=s.reduce((e,t)=>(e[t]=e=>e?null:"必需填写",e),{}));let h=(0,I.c)({initialValues:{},validate:r});return(0,a.useEffect)(()=>{if(l.properties){let e=Object.keys(l.properties).reduce((e,t)=>(e[t]=l.properties[t].default,e),{});h.setValues(e)}},[l]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.x,{maw:M.hE,mx:"auto",children:l.properties&&Object.keys(null==l?void 0:l.properties).map(e=>(0,n.jsx)("div",{children:function(e,t){if(t.hiddenUI)return null;{let i=(0,n.jsx)(c.o,{withAsterisk:!0,label:t.title,placeholder:"",...h.getInputProps(e),description:(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:t.description}})});return"string"===t.type&&("select"===t.uiType&&(i=(0,n.jsx)(o.Ph,{withAsterisk:l.required.includes(e),data:t.dataSource,description:(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:t.description}}),label:t.title,placeholder:"",...h.getInputProps(e)})),"password"===t.uiType&&(i=(0,n.jsx)(d.W,{withAsterisk:!0,label:t.title,placeholder:"",...h.getInputProps(e),description:(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:t.description}})}))),i}}(e,null==l?void 0:l.properties[e])},e))}),(0,n.jsx)(p.x,{maw:M.hE,mx:"auto",pt:12,style:{textAlign:"right"},children:(0,n.jsx)(u.z,{onClick:async()=>{if(h.validate(),h.isValid()){try{t(!0),i(A.FR.INIT);let e=await (0,A.iO)(l.template,h.values),n=e.name;await new Promise((e,t)=>{i(A.FR.CREATING);let a=setInterval(async()=>{try{let t=await (0,A.Yo)(n),l=t.lastRelease;"published"===l.status&&(clearInterval(a),i(A.FR.SUCCESS),e(""))}catch(e){t(e)}},4e3)})}catch(e){console.log(e)}t(!1),e(!1)}},children:"确认"})})]})}function z(){let e=(0,A.bQ)().open,t=(0,A.bQ)().setOpen,i=(0,A.bQ)().createLoading;return(0,n.jsxs)(h.u,{opened:e,onClose:()=>{t(!1)},title:"创建基础模型",centered:!0,size:"xl",children:[(0,n.jsx)(m.f,{loader:(0,n.jsx)(E,{}),visible:i,overlayOpacity:.8,overlayBlur:2}),e&&(0,n.jsx)(N,{})]})}function U(){let e=(0,A.bQ)().setOpen,t=(0,A.bQ)().setFmTemplate,i=(i,n)=>{t(Object.assign({},n,{template:i})),e(!0)};return(0,n.jsxs)(g.m,{variant:"outline",defaultValue:"text2text",children:[(0,n.jsx)(g.m.List,{children:(0,n.jsx)(g.m.Tab,{value:"text2text",icon:(0,n.jsx)(T.Z,{size:"0.8rem"}),children:"文本生成"})}),(0,n.jsx)(g.m.Panel,{value:"text2text",pt:"xs",children:(0,n.jsx)(f.k,{mih:50,gap:"md",justify:"flex-start",align:"flex-start",direction:"row",wrap:"wrap",children:P.map((e,t)=>(0,n.jsxs)(x.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,style:{width:320},mr:12,children:[(0,n.jsx)(x.Z.Section,{children:(0,n.jsx)(b.E,{src:e.icon,style:{margin:"10px auto"},height:160,width:160,alt:e.tag.join("")})}),(0,n.jsxs)(y.Z,{position:"apart",mt:"md",mb:"xs",children:[(0,n.jsx)(j.x,{weight:500,children:e.name}),e.githubLink?(0,n.jsx)("a",{href:e.githubLink,target:"_blank",children:(0,n.jsx)(S.Z,{})}):null]}),(0,n.jsx)("div",{children:e.tag.map(e=>(0,n.jsx)(v.C,{color:"green",variant:"light",mr:4,children:e},"template-".concat(t,"-").concat(e)))}),(0,n.jsx)(j.x,{size:"sm",color:"dimmed",children:e.description}),(0,n.jsxs)(f.k,{align:"center",children:[(0,n.jsx)(u.z,{mr:8,variant:"light",fullWidth:!0,mt:"md",radius:"md",onClick:()=>i(e.template,e.templateParams),children:"直接创建"}),(0,n.jsx)("a",{target:"_blank",href:e.fcLink,children:(0,n.jsx)(u.z,{variant:"light",color:"yellow",fullWidth:!0,mt:"md",radius:"md",children:(0,n.jsxs)(f.k,{align:"center",children:["云创建",(0,n.jsx)(_.Z,{})]})})})]})]},"template-".concat(t)))})})]})}function q(){let e=(0,l.useRouter)(),{query:t}=e,i=[{title:"AgentCraft",href:"/"},{title:"基础模型",href:"/foundationModel"},{title:"创建基础模型",href:"/foundationModel/create"}].map((e,t)=>(0,n.jsx)(w.e,{href:e.href,children:e.title},t));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(k.O,{children:i}),(0,n.jsx)(L.Z,{title:"创建基础模型",description:"依托阿里云Serverless的丰富应用模版以及完整的工具链，AgentCraft可以创建丰富多样的基础模型服务"}),(0,n.jsx)(C.P,{title:"基础模型创建提示",children:(0,n.jsxs)(f.k,{align:"center",children:["使用非阿里云主账号部署的AgentCraft,请选择使用",(0,n.jsx)(j.x,{c:"yellow",fw:700,children:"”云创建“"}),"跳转到",(0,n.jsx)("a",{href:"https://fcnext.console.aliyun.com/applications?tab=all",target:"_blank",children:"函数计算控制台"}),"进行基础模型的服务创建，在云端创建的时候请注意使用AgentCraft前缀作为应用名"]})}),(0,n.jsx)(p.x,{mt:12,children:(0,n.jsx)(U,{})}),(0,n.jsx)(z,{})]})}function F(){return(0,n.jsx)(q,{})}},89911:function(e,t,i){"use strict";i.d(t,{FR:function(){return a},Yo:function(){return d},bQ:function(){return c},ff:function(){return p},iO:function(){return u},im:function(){return o}});var n,a,l=i(64529),r=i(782),s=i(71791);(n=a||(a={}))[n.INIT=1]="INIT",n[n.CREATING=2]="CREATING",n[n.SUCCESS=3]="SUCCESS",n[n.FAILED=4]="FAILED";let c=(0,l.Ue)()((0,r.mW)(e=>({foundationModelList:[],loading:!1,createLoading:!1,open:!1,fmTemplate:{},appStatus:1,currentFoundationModel:{},setCurrentFoundationModel:t=>e(e=>({currentFoundationModel:t})),setAppStatus:t=>e(e=>({appStatus:t})),setFmTemplate:t=>e(e=>({fmTemplate:t})),setCreateLoading:t=>e(e=>({createLoading:t})),setLoading:t=>e(e=>({loading:t})),setOpen:t=>e(e=>({open:t})),updateFoundationModelList:t=>e(e=>({foundationModelList:t}))})));async function o(){let e=c.getState(),t=e.updateFoundationModelList,i=await (0,s.W)("/api/infra/alibaba-cloud/listApps"),n=i.data;n&&t(n)}async function d(e){let t=await (0,s.W)("/api/infra/alibaba-cloud/getApp?appName=".concat(e));return t.data}async function p(e){return await (0,s.W)("/api/infra/alibaba-cloud/deleteApp?appName=".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})}async function u(e,t){let i=await (0,s.W)("/api/infra/alibaba-cloud/createApp?template=".concat(e),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});return i.data}}},function(e){e.O(0,[121,586,871,855,827,774,888,179],function(){return e(e.s=66499)}),_N_E=e.O()}]);