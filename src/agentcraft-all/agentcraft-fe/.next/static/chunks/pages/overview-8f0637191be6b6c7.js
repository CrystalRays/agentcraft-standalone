(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[709],{41030:function(e,t,a){"use strict";a.d(t,{S:function(){return P}});var n=a(67294),i=a(15851),l=(0,a(56817).k)(()=>({placeholder:{},input:{cursor:"pointer"}})),r=a(66261),s=a(80971),o=a(94151),d=a(3241),c=a(83979),p=a(80665),u=Object.defineProperty,h=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,a)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,__spreadValues=(e,t)=>{for(var a in t||(t={}))m.call(t,a)&&__defNormalProp(e,a,t[a]);if(h)for(var a of h(t))g.call(t,a)&&__defNormalProp(e,a,t[a]);return e},__objRest=(e,t)=>{var a={};for(var n in e)m.call(e,n)&&0>t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&h)for(var n of h(e))0>t.indexOf(n)&&g.call(e,n)&&(a[n]=e[n]);return a};let f={multiple:!1},y=(0,n.forwardRef)((e,t)=>{let a=(0,d.N4)("FileButton",f,e),{onChange:i,children:l,multiple:r,accept:s,name:o,form:u,resetRef:h,disabled:m,capture:g,inputProps:y}=a,x=__objRest(a,["onChange","children","multiple","accept","name","form","resetRef","disabled","capture","inputProps"]),_=(0,n.useRef)();return(0,c.k)(h,()=>{_.current.value=""}),n.createElement(n.Fragment,null,l(__spreadValues({onClick:()=>{m||_.current.click()}},x)),n.createElement("input",__spreadValues({style:{display:"none"},type:"file",accept:s,multiple:r,onChange:e=>{r?i(Array.from(e.currentTarget.files)):i(e.currentTarget.files[0]||null)},ref:(0,p.Y)(t,_),name:o,form:u,capture:g},y)))});y.displayName="@mantine/core/FileButton";var x=a(95117),_=Object.defineProperty,j=Object.defineProperties,w=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,FileInput_defNormalProp=(e,t,a)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,FileInput_spreadValues=(e,t)=>{for(var a in t||(t={}))v.call(t,a)&&FileInput_defNormalProp(e,a,t[a]);if(b)for(var a of b(t))k.call(t,a)&&FileInput_defNormalProp(e,a,t[a]);return e},__spreadProps=(e,t)=>j(e,w(t)),FileInput_objRest=(e,t)=>{var a={};for(var n in e)v.call(e,n)&&0>t.indexOf(n)&&(a[n]=e[n]);if(null!=e&&b)for(var n of b(e))0>t.indexOf(n)&&k.call(e,n)&&(a[n]=e[n]);return a};let L={size:"sm",valueComponent:({value:e})=>n.createElement(x.x,{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},Array.isArray(e)?e.map(e=>e.name).join(", "):null==e?void 0:e.name)},S=(0,n.forwardRef)((e,t)=>{let a=(0,r.k)("FileInput",L,e),{inputProps:d,wrapperProps:c,placeholder:p,value:u,defaultValue:h,onChange:m,multiple:g,accept:f,name:x,form:_,classNames:j,styles:w,unstyled:b,valueComponent:v,rightSection:k,clearable:S,clearButtonProps:P,readOnly:A,capture:I,fileInputProps:O}=a,C=FileInput_objRest(a,["inputProps","wrapperProps","placeholder","value","defaultValue","onChange","multiple","accept","name","form","classNames","styles","unstyled","valueComponent","rightSection","clearable","clearButtonProps","readOnly","capture","fileInputProps"]),M=(0,n.useRef)(),{classes:T,cx:N}=l(null,{name:"FileInput",classNames:j,styles:w,unstyled:b}),[D,E]=(0,i.C)({value:u,defaultValue:h,onChange:m,finalValue:g?[]:null}),z=Array.isArray(D)?0!==D.length:null!==D,B=k||(S&&z&&!A?n.createElement(s.P,__spreadProps(FileInput_spreadValues({},P),{variant:"transparent",onClick:()=>E(g?[]:null),size:d.size,unstyled:b})):null);return(0,n.useEffect)(()=>{(Array.isArray(D)&&0===D.length||null===D)&&M.current()},[D]),n.createElement(o.I.Wrapper,__spreadProps(FileInput_spreadValues({},c),{__staticSelector:"FileInput"}),n.createElement(y,{onChange:E,multiple:g,accept:f,name:x,form:_,resetRef:M,disabled:A,capture:I,inputProps:O},e=>n.createElement(o.I,__spreadProps(FileInput_spreadValues(FileInput_spreadValues(FileInput_spreadValues({multiline:!0},e),d),C),{component:"button",type:"button",ref:t,__staticSelector:"FileInput",rightSection:B,classNames:__spreadProps(FileInput_spreadValues({},j),{input:N(T.input,null==j?void 0:j.input)})}),z?n.createElement(v,{value:D}):n.createElement(o.I.Placeholder,{className:T.placeholder},p))))});S.displayName="@mantine/core/FileInput";let P=S},30904:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var n=(0,a(30853).Z)("upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]])},56655:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/overview",function(){return a(72246)}])},99838:function(e,t,a){"use strict";a.d(t,{G:function(){return n}});let n=[{name:"通义千问（商业模型）",tag:["阿里云","通义千问"],type:"llm",icon:"https://img.alicdn.com/imgextra/i4/O1CN01c26iB51UyR3MKMFvk_!!6000000002586-2-tps-124-122.png",description:"商业版本的通义千问，支持8K上下文，性能强劲，推理能力强",fcLink:"https://fcnext.console.aliyun.com/applications/create?template=fc-qwen",githubLink:"",template:"fc-qwen",templateParams:{type:"object",additionalProperties:!1,required:["region","apiKey"],properties:{region:{type:"string",title:"地域",default:"cn-hangzhou",description:"该服务所在的地域",enum:["cn-beijing","cn-hangzhou","cn-shanghai","cn-shenzhen"],uiType:"select",dataSource:[{label:"杭州",value:"cn-hangzhou"},{label:"上海",value:"cn-shanghai"},{label:"北京",value:"cn-beijing"},{label:"深圳",value:"cn-shenzhen"}]},apiKey:{type:"string",title:"通义千问API-Key",description:'通义千问的API-KEY，<a href="https://dashscope.console.aliyun.com/apiKey" target="_blank">免费申领地址</a>',default:"",uiType:"password"},model:{type:"string",title:"通义千问可访问模型",description:'通义千问支持的两种模型，<a href="https://help.aliyun.com/zh/dashscope/developer-reference/api-details?disableWebsiteRedirect=true" target="_blank">点击查看详情</a>',default:"qwen-turbo",enum:["qwen-turbo","qwen-plus"],uiType:"select",dataSource:[{label:"qwen-turbo",value:"qwen-turbo"},{label:"qwen-plus",value:"qwen-plus"}]},serviceName:{type:"string",title:"服务名",description:"",hiddenUI:!0,default:"AgentCraft"},clientPassword:{type:"string",title:"客户端访问密码",description:"",hiddenUI:!0,default:""}}}},{name:"通义千问开源版(7b模型)",tag:["阿里云","通义千问","开源"],type:"llm",icon:"https://img.alicdn.com/imgextra/i4/O1CN01c26iB51UyR3MKMFvk_!!6000000002586-2-tps-124-122.png",description:"开源版本通义千问，支持灵活定制， 性能强劲，推理能力强",fcLink:"https://fcnext.console.aliyun.com/applications/create?template=fc-llm-api",githubLink:"https://github.com/devsapp/fc-qwen",template:"fc-llm-api",templateParams:{type:"object",additionalProperties:!1,required:["region","llmModel"],properties:{region:{type:"string",title:"地域",default:"cn-hangzhou",description:"该服务所在的地域",enum:["cn-hangzhou","cn-shanghai"],uiType:"select",dataSource:[{label:"杭州",value:"cn-hangzhou"},{label:"上海",value:"cn-shanghai"}]},llmModel:{type:"string",title:"模型名称",description:"模型名称",default:"qwen-7b-chat",uiType:"input"},adminEnabled:{type:"string",title:"",description:"",default:!1,hiddenUI:!0},serviceName:{type:"string",title:"服务名",description:"",default:"AgentCraft",hiddenUI:!0},clientPassword:{type:"string",title:"客户端访问密码",description:"",default:"",hiddenUI:!0}}}},{name:"chatglm2开源版(6b,in4量化)",tag:["阿里云","chatglm2","开源"],type:"llm",icon:"https://img.alicdn.com/imgextra/i1/O1CN019AaX8Q26UcjmzSLTF_!!6000000007665-2-tps-200-200.png",description:"开源chatglm2，支持灵活定制， 性能强劲，推理能力强",fcLink:"https://fcnext.console.aliyun.com/applications/create?template=fc-llm-api",githubLink:"https://github.com/devsapp/fc-llm-api",template:"fc-llm-api",templateParams:{type:"object",additionalProperties:!1,required:["region","llmModel"],properties:{region:{type:"string",title:"地域",default:"cn-hangzhou",description:"该服务所在的地域",enum:["cn-hangzhou","cn-shanghai"],uiType:"select",dataSource:[{label:"杭州",value:"cn-hangzhou"},{label:"上海",value:"cn-shanghai"}]},llmModel:{type:"string",title:"模型名称",description:"模型名称",default:"chatglm2-6b-int4",uiType:"input"},adminEnabled:{type:"string",title:"",description:"",default:!1,hiddenUI:!0},serviceName:{type:"string",title:"服务名",description:"",default:"AgentCraft",hiddenUI:!0},clientPassword:{type:"string",title:"客户端访问密码",description:"",default:"",hiddenUI:!0}}}},{name:"llama2开源版(13b,in4量化)",tag:["阿里云","llama2","开源"],type:"llm",icon:"https://img.alicdn.com/imgextra/i1/O1CN019AaX8Q26UcjmzSLTF_!!6000000007665-2-tps-200-200.png",description:"开源llama2，支持灵活定制， 性能强劲，推理能力强",fcLink:"https://fcnext.console.aliyun.com/applications/create?template=fc-llm-api",githubLink:"https://github.com/devsapp/fc-llm-api",template:"fc-llm-api",templateParams:{type:"object",additionalProperties:!1,required:["region","llmModel"],properties:{region:{type:"string",title:"地域",default:"cn-hangzhou",description:"该服务所在的地域",enum:["cn-hangzhou","cn-shanghai"],uiType:"select",dataSource:[{label:"杭州",value:"cn-hangzhou"},{label:"上海",value:"cn-shanghai"}]},llmModel:{type:"string",title:"模型名称",description:"模型名称",default:"llama2-13b-q4",uiType:"input"},adminEnabled:{type:"boolean",title:"",description:"",default:!1,hiddenUI:!0},serviceName:{type:"string",title:"服务名",description:"",default:"AgentCraft",hiddenUI:!0},clientPassword:{type:"string",title:"客户端访问密码",description:"",default:"",hiddenUI:!0}}}}]},72246:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return IndexPage}});var n,i,l=a(85893),r=a(67294),s=a(82623),o=a(69876),d=a(19236),c=a(64523),p=a(95117),u=a(54777),h=a(54685),m=a(67841),g=a(11163),f=a(77248),y=a(70157),x=a(49737),_=a(20966),j=a(71232),w=a(80061),b=a(28855),v=a(73193),k=a(52615),L=a(99838);function QuickStart(e){let{form:t}=e,a=L.G[0].templateParams;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.D,{order:5,children:"通义千问基础模型设置"}),(0,l.jsx)(c.x,{mx:"auto",children:a.properties&&Object.keys(null==a?void 0:a.properties).map(e=>(0,l.jsx)("div",{children:function(e,n){if(n.hiddenUI)return null;{let i=(0,l.jsx)(w.o,{withAsterisk:!0,label:n.title,placeholder:"",...t.getInputProps(e),description:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:n.description}})});return"string"===n.type&&("select"===n.uiType&&(i=(0,l.jsx)(b.Ph,{withAsterisk:a.required.includes(e),data:n.dataSource,description:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:n.description}}),label:n.title,placeholder:"",...t.getInputProps(e)})),"password"===n.uiType&&(i=(0,l.jsx)(v.W,{withAsterisk:!0,label:n.title,placeholder:"",...t.getInputProps(e),description:(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:n.description}})}))),i}}(e,null==a?void 0:a.properties[e])},e))}),(0,l.jsx)(u.i,{my:"sm"}),(0,l.jsx)(d.D,{order:5,children:"LLM代理设置"}),(0,l.jsxs)(c.x,{mx:"auto",children:[(0,l.jsx)(w.o,{withAsterisk:!0,label:"LLM代理名称",description:"",placeholder:"",...t.getInputProps("name_alias")}),(0,l.jsx)(k.g,{label:"LLM代理描述",description:"",placeholder:"",...t.getInputProps("description")})]})]})}var S=a(41030),P=a(96768),A=a(14127),I=a(30904);function DataAll(e){let{form:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.D,{order:5,children:"数据集设置"}),(0,l.jsxs)(c.x,{mx:"auto",children:[(0,l.jsx)(w.o,{withAsterisk:!0,label:"数据集名称",description:"",placeholder:"",...t.getInputProps("name")}),(0,l.jsx)(k.g,{label:"描述",description:"",placeholder:"",...t.getInputProps("description")})]}),(0,l.jsx)(u.i,{my:"sm"}),(0,l.jsx)(d.D,{order:5,children:"数据源设置"}),(0,l.jsxs)(c.x,{mx:"auto",children:[(0,l.jsx)(S.S,{withAsterisk:!0,accept:".md,.txt,.html,.pdf",name:"file",label:"选择文档",description:(0,l.jsxs)("div",{children:[" 选择本地文件上传，支持 .txt,.md,.html文件 ,",(0,l.jsx)("a",{href:"/agentcraft.md",download:!0,children:"下载AgentCraft教程文档"})]}),placeholder:"点击上传文档",icon:(0,l.jsx)(I.Z,{size:(0,P.h)(14)}),...t.getInputProps("file")}),(0,l.jsx)(w.o,{withAsterisk:!0,label:"标题",description:"标题内容作为检索的数据来源，用来展示检索结果",placeholder:"",...t.getInputProps("title")}),(0,l.jsx)(A.Y,{withAsterisk:!0,label:"文档切片大小",description:"",placeholder:"",...t.getInputProps("chunk_size")}),(0,l.jsx)(w.o,{label:"来源url",placeholder:"",...t.getInputProps("url")})]})]})}var O=a(31194),C=a(91939),M=a(61494),T=a(64529),N=a(782),D=a(86105),E=a(23824);(n=i||(i={}))[n.LLM_PROXY=0]="LLM_PROXY",n[n.DATA_ALL=1]="DATA_ALL",n[n.KNOWLEDGE_BASE=2]="KNOWLEDGE_BASE";let z=(0,T.Ue)((0,N.tJ)(e=>({autoQuickStart:!0,activeStep:0,dataSetId:[],modelId:"",configStepStatus:{llm_proxy_config_ready:!1,llm_proxy_create_loading:!1,data_all_config_ready:!1,data_all_create_loading:!1,knowledge_base_config_ready:!1,knowledge_base_create_loading:!1},quickStartConfig:{llm_proxy_config:{},data_all_config:{},knowledge_base_config:{}},setDataSetId:t=>e(()=>({dataSetId:t})),setModelId:t=>e(()=>({modelId:t})),setConfigStepStatus:t=>{e({configStepStatus:t})},setQuickStartConfig:t=>{e({quickStartConfig:t})},setActiveStep:t=>{e({activeStep:t})},setAutoQuickStart:t=>{e({autoQuickStart:t})}}),{name:D.NH}));async function createFoundationModelOnly(e){var t;let a={description:e.description,region:e.region,apiKey:e.apiKey,model:e.model},n=await (0,E.W)("/api/infra/alibaba-cloud/createApp?template=fc-qwen",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}});return null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.name}async function checkFoundationModelStatusAndLLMProxy(e,t){var a,n;let i=await new Promise((t,a)=>{let n=setInterval(async()=>{try{let a=await (0,E.W)("/api/infra/alibaba-cloud/getApp?appName=".concat(e)),i=a.data.lastRelease;"published"===i.status&&(clearInterval(n),t(i))}catch(e){a(e)}},4e3)}),l=null==i?void 0:null===(a=i.output)||void 0===a?void 0:a.deploy.client,r=null==l?void 0:null===(n=l.customDomains[0])||void 0===n?void 0:n.domainName,s={name:t.model,name_alias:t.name_alias,url:"http://".concat(r,"/v1/chat/completions"),token:"",description:"",timeout:600},o=await (0,E.W)("/api/model/create",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}});return o.data.id}async function createDataAll(e){let t={name:e.name,dataset_type:2,description:e.description||"数据集"},a=await (0,E.W)("/api/dataset/create",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),n=a.data.id,i=new FormData;return i.append("file",e.file),i.append("title",e.title),i.append("chunk_size",e.chunk_size),i.append("url",e.url),await (0,E.W)("/api/dataset/".concat(n,"/datasource/upload"),{method:"POST",body:i,headers:{}}),n}async function createKnowledgeBaseApp(e){let t={name:e.name,description:e.description},a=await (0,E.W)("/api/application/create",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}),n=a.data.id;return e.app_id=n,await (0,E.W)("/api/knowledgeBase/create",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),n}var B=a(13962);function KnowledgeBase(e){let{form:t}=e,a=(0,C.s6)().modelList,n=(0,M.s6)().dataSetList,{dataSetId:i,modelId:s}=z(),o=a.map(e=>({label:e.name_alias,value:e.id})),p=n.filter(e=>e.dataset_type==B.I.DOCUMENT).map(e=>({label:e.name,value:e.id}));return(0,r.useEffect)(()=>{(0,C.fZ)(),(0,M.ln)(),t.setFieldValue("model_id",s),t.setFieldValue("fuzzy_datasets",i)},[i,s]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.D,{order:5,children:"应用基本信息"}),(0,l.jsxs)(c.x,{mx:"auto",children:[(0,l.jsx)(w.o,{withAsterisk:!0,label:"应用名称",description:"",placeholder:"",...t.getInputProps("name")}),(0,l.jsx)(k.g,{label:"描述",description:"",placeholder:"",minRows:2,...t.getInputProps("description")})]}),(0,l.jsx)(u.i,{my:"sm"}),(0,l.jsx)(d.D,{order:5,children:"领域知识智能体设置"}),(0,l.jsxs)(c.x,{pl:4,pr:4,children:[(0,l.jsx)(k.g,{label:"系统提示词",placeholder:"输入系统提示词",...t.getInputProps("system_message"),minRows:2,description:"系统提示词作为第一个输入给大语言模型的文本，往往用来设定角色"}),(0,l.jsx)(k.g,{label:"提示词模板",placeholder:"",...t.getInputProps("prompt_template"),minRows:2,description:"提示词模板可以将检索的结果context和用户的输入query整合到一起，最后整体输入给大语言模型"})]}),(0,l.jsx)(c.x,{pl:4,pr:4,children:(0,l.jsx)(j.Z,{grow:!0,children:(0,l.jsx)(O.NU,{withAsterisk:!0,data:p,description:"",label:"数据集",placeholder:"添加模糊数据集",...t.getInputProps("fuzzy_datasets")})})}),(0,l.jsx)(c.x,{pl:4,pr:4,mb:12,children:(0,l.jsx)(b.Ph,{withAsterisk:!0,data:o,description:"",label:"LLM代理",placeholder:"",...t.getInputProps("model_id")})})]})}var U=a(26373);function quickStart_QuickStart(){let e=(0,g.useRouter)(),[t,a]=(0,r.useState)(""),n=(0,f.c)({initialValues:{name_alias:"通义千问Plus版本",description:"",region:"cn-hangzhou",apiKey:"",model:"qwen-plus"},validate:{name_alias:e=>e?null:"LLM代理名称必填",region:e=>e?null:"LLM代理所在地域必填",apiKey:e=>e?null:"API Key必填"}}),s=(0,f.c)({initialValues:{name:"AgentCraft快速入门数据集",title:"AgentCraft快速入门数据集",chunk_size:521,url:"".concat(window.location.protocol,"/").concat(window.location.host,"/agentcraft.md"),file:""},validate:{name:e=>e?null:"名称必填",chunk_size:e=>e?null:"切片数字必填",file:e=>e?null:"上传文档必填"}}),c=(0,f.c)({initialValues:{name:"AgentCraft快速入门智能体",prompt_template:D.Gf,description:"",app_id:"",exact_datasets:[],fuzzy_datasets:[],exact_search_similarity:.9,fuzzy_search_similarity:.6,temperature:.5,top_p:1,n_sequences:1,max_tokens:1024,stop:[],presence_penalty:0,frequency_penalty:0,logit_bias:"",model_id:"",redis_ip_ex:0,redis_history_ex:0,model_ip_limit:0,llm_history_len:0,system_message:D.cl,exact_search_limit:1,fuzzy_search_limit:3},validate:{name:e=>e?null:"智能体名称必填"}}),{activeStep:p,configStepStatus:u,setDataSetId:w,setModelId:b,setActiveStep:v,setConfigStepStatus:k,setAutoQuickStart:L}=z(),{llm_proxy_config_ready:S,llm_proxy_create_loading:P,data_all_config_ready:A,data_all_create_loading:I,knowledge_base_config_ready:O,knowledge_base_create_loading:C}=u,createLLMProxy=async()=>{if(n.validate(),!n.isValid())return;u.llm_proxy_create_loading=!0,k(u);let e=n.values;try{let t=await createFoundationModelOnly(e);a(t);let n=await checkFoundationModelStatusAndLLMProxy(t,e);u.llm_proxy_create_loading=!1,u.llm_proxy_config_ready=!0,k(u),b(n),U.N9.show({title:"基础模型和LLM代理配置成功",message:"您已完成基础模型和LLM代理配置",color:"green"});let i=p<2?p+1:p;v(i)}catch(e){U.N9.show({title:"异常",message:e.message,color:"red"}),u.llm_proxy_create_loading=!1,u.llm_proxy_config_ready=!1,k(u)}},createAppAll=async()=>{if(s.validate(),s.isValid()){u.data_all_create_loading=!0,k(u);try{let e=await createDataAll(s.values);u.data_all_create_loading=!1,u.data_all_config_ready=!0,k(u),w([e]),U.N9.show({title:"恭喜数据集创建成功",message:"数据集创建成功",color:"green"});let t=p<2?p+1:p;v(t)}catch(e){U.N9.show({title:"异常",message:e.message,color:"red"}),u.data_all_create_loading=!1,u.data_all_config_ready=!1,k(u)}}},createKnowledgeBase=async()=>{if(c.validate(),c.isValid())try{u.knowledge_base_create_loading=!0,k(u);let t=await createKnowledgeBaseApp(c.values);u.knowledge_base_create_loading=!1,u.knowledge_base_config_ready=!0,k(u),L(!1),U.N9.show({title:"恭喜您完成智能体应用创建",message:"前往智能体详列表查看",color:"green"}),e.push("/app/".concat(t,"/knowledgeBase"))}catch(e){U.N9.show({title:"异常",message:e.message,color:"red"}),u.knowledge_base_create_loading=!1,u.knowledge_base_config_ready=!1,k(u)}},nextStep=async()=>{p===i.LLM_PROXY&&await createLLMProxy(),p===i.DATA_ALL&&await createAppAll(),p===i.KNOWLEDGE_BASE&&await createKnowledgeBase()};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(o.k,{align:"center",mb:18,children:[(0,l.jsx)(d.D,{order:3,children:"快速开始"}),(0,l.jsx)(m.z,{onClick:()=>{L(!1)},compact:!0,variant:"subtle",children:"关闭"})]}),(0,l.jsxs)(y.v,{active:p,onStepClick:v,children:[(0,l.jsx)(y.v.Step,{label:"基础模型&LLM代理",description:"进行LLM基础模型的创建以及LLM代理关联",loading:P,children:(0,l.jsxs)("div",{style:{position:"relative"},children:[(0,l.jsx)(x.f,{loader:(0,l.jsxs)(o.k,{align:"center",direction:"column",children:[(0,l.jsxs)(o.k,{align:"center",children:["部署基础模型和LLM代理预计需要5分钟，请耐心等待",(0,l.jsx)(_.a,{variant:"bars",color:"pink",ml:12})]}),(0,l.jsx)(h.e,{href:"https://fcnext.console.aliyun.com/applications/".concat(t,"/env/default?tab=envDetail"),target:"_blank",children:"点击查看应用创建日志"})]}),overlayOpacity:.3,overlayColor:"#c5c5c5",visible:P}),(0,l.jsx)("div",{style:{padding:20},children:(0,l.jsx)(QuickStart,{form:n})})]})}),(0,l.jsx)(y.v.Step,{label:"创建数据集&数据源",description:"创建数据集，上传数据源文件",loading:I,children:(0,l.jsxs)("div",{style:{position:"relative"},children:[(0,l.jsx)(x.f,{loader:(0,l.jsx)(o.k,{align:"center",direction:"column",children:(0,l.jsxs)(o.k,{align:"center",children:["创建数据集&数据源预计花费1-2分钟，请耐心等待",(0,l.jsx)(_.a,{variant:"bars",color:"pink",ml:12})]})}),overlayOpacity:.3,overlayColor:"#c5c5c5",visible:I}),(0,l.jsx)("div",{style:{padding:20},children:(0,l.jsx)(DataAll,{form:s})})]})}),(0,l.jsx)(y.v.Step,{label:"智能体应用创建",description:"创建智能体",loading:C,children:(0,l.jsxs)("div",{style:{position:"relative"},children:[(0,l.jsx)(x.f,{loaderProps:{size:"sm",color:"pink",variant:"bars"},overlayOpacity:.3,overlayColor:"#c5c5c5",visible:C}),(0,l.jsx)("div",{style:{padding:20},children:(0,l.jsx)(KnowledgeBase,{form:c})})]})})]}),(0,l.jsxs)(j.Z,{mt:"xl",children:[p>i.LLM_PROXY?(0,l.jsx)(m.z,{variant:"default",onClick:()=>{let e=p>0?p-1:p;v(e)},children:"上一步"}):null,p===i.LLM_PROXY?(0,l.jsx)(m.z,{onClick:nextStep,disabled:P,children:"下一步"}):null,p===i.DATA_ALL?(0,l.jsx)(m.z,{onClick:nextStep,disabled:I,children:"下一步"}):null,p===i.KNOWLEDGE_BASE?(0,l.jsx)(m.z,{onClick:nextStep,disabled:C,children:"完成"}):null]})]})}var F=a(29235);function OverView(){let{autoQuickStart:e,setAutoQuickStart:t}=z(),a=(0,F.s6)().accessUrl,n=(0,F.s6)().setAccessUrl;return(0,r.useEffect)(()=>{(async()=>{let e=await (0,F.Sk)(),t=e.data||{openApiUrl:"",innerApiUrl:""};n(t)})()},[]),(0,l.jsxs)(l.Fragment,{children:[e&&(0,l.jsx)(s.X,{shadow:"xs",p:"xl",children:(0,l.jsx)(quickStart_QuickStart,{})}),!e&&(0,l.jsx)("div",{children:(0,l.jsxs)(o.k,{gap:"xs",children:[(0,l.jsxs)(o.k,{direction:"column",style:{width:"68%"},children:[(0,l.jsxs)(s.X,{shadow:"xs",p:"xl",mb:24,withBorder:!0,children:[(0,l.jsx)(d.D,{order:3,mb:8,children:"功能指引"}),(0,l.jsx)("div",{style:{textAlign:"center"},children:(0,l.jsx)("img",{src:"https://img.alicdn.com/imgextra/i2/O1CN01phVIf61Iceu25Q6Gk_!!6000000000914-2-tps-1968-1378.png",alt:"AgentCraft流程指引",style:{width:"80%"}})})]}),(0,l.jsxs)(s.X,{shadow:"xs",p:"xl",mb:24,withBorder:!0,children:[(0,l.jsx)(d.D,{order:3,children:"基本概念"}),(0,l.jsxs)(c.x,{pl:4,pr:4,mt:18,children:[(0,l.jsx)(d.D,{order:4,children:"基础模型"}),(0,l.jsx)(p.x,{children:"由函数计算提供的基础模型包含丰富的AI领域模型，包括LLM类别的通义千问，Chatglm,Llama2等，以及绘画类别的Stable Diffusion,通义万相等，以及Bert算法模型，Ocr模型"}),(0,l.jsx)(u.i,{my:"sm"}),(0,l.jsx)(d.D,{order:4,children:"LLM代理"}),(0,l.jsx)(p.x,{children:"LLM代理可以更好的兼容不同的LLM服务，使用相同的数据输入和输出格式，这样做的好处是，在应用侧可以无缝的切换LLM模型，而应用本身不受影响，可以更方便的对比不同的LLM模型效果"}),(0,l.jsx)(u.i,{my:"sm"}),(0,l.jsx)(d.D,{order:4,children:"数据集"}),(0,l.jsx)(p.x,{children:"数据集是业务层面的高层抽象，方便业务聚合自己的业务场景，本身没有实际的数据，数据集本身分为两种类型 文档数据集和问答数据集，其中文档数据集是为了泛化知识内容，而问答数据集则是精准的问答知识"}),(0,l.jsx)(u.i,{my:"sm"}),(0,l.jsx)(d.D,{order:4,children:"数据源"}),(0,l.jsx)(p.x,{children:"数据源是真实的数据，来自于markdown,pdf,text等文件，也可以手动独条录入，数据源是智能体检索的真实数据，数据源跟数据集是从属关系，一个数据集可以包含多条数据源。数据源类型同样也是分为文档类型和问答类型"}),(0,l.jsx)(u.i,{my:"sm"}),(0,l.jsx)(d.D,{order:4,children:"应用"}),(0,l.jsx)(p.x,{children:"应用是业务高层的抽象，为了区分不同的业务场景，本身没有实际操作意义"}),(0,l.jsx)(u.i,{my:"sm"}),(0,l.jsx)(d.D,{order:4,children:"智能体（Agent）"}),(0,l.jsx)(p.x,{children:"智能体是只能应用的核心，具备上下文记忆，工具处理，自然语言认知等能力，智能体分为领域知识智能体，工具智能体和综合智能体，其中领域知识智能体是专门针对领域的知识进行智能化的问答，通过增强检索技术 增加问答知识的准确率，通过生成式UI，加强知识的交付效果"}),(0,l.jsx)(u.i,{my:"sm"})]})]})]}),(0,l.jsxs)(o.k,{direction:"column",style:{width:"30%"},children:[(0,l.jsxs)(s.X,{shadow:"xs",p:"xl",mb:24,withBorder:!0,children:[(0,l.jsx)(d.D,{order:3,children:"常用信息"}),(0,l.jsxs)(o.k,{align:"center",mb:8,justify:"space-between",mt:8,children:[(0,l.jsx)("div",{style:{width:"50%"},children:(0,l.jsx)(h.e,{href:"https://github.com/devsapp/agentcraft",target:"_blank",mr:8,children:"AgentCarft项目地址"})}),(0,l.jsx)("div",{style:{width:"50%"},children:(0,l.jsx)(h.e,{href:"https://www.serverless-devs.com/",target:"_blank",children:"ServerlessDevs地址"})})]}),(0,l.jsx)(o.k,{align:"center",mb:8,justify:"space-between",mt:8,children:(0,l.jsx)(h.e,{href:a.openApiUrl,target:"_blank",mr:8,children:"当前项目API地址"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(d.D,{order:4,mt:8,children:"交流群"}),(0,l.jsx)("img",{style:{width:160,height:160},src:"https://img.alicdn.com/imgextra/i2/O1CN01zGJ4fS21GMJy6Okd8_!!6000000006957-0-tps-470-472.jpg",alt:"交流群"})]})]}),(0,l.jsxs)(s.X,{shadow:"xs",p:"xl",mb:24,withBorder:!0,children:[(0,l.jsx)(d.D,{order:3,children:"新手引导"}),(0,l.jsx)(m.z,{compact:!0,variant:"subtle",onClick:()=>t(!0),mb:12,children:"打开快速引导"})]}),(0,l.jsxs)(s.X,{shadow:"xs",p:"xl",mb:24,withBorder:!0,children:[(0,l.jsx)(d.D,{order:3,children:"算力资源相关"}),(0,l.jsxs)(o.k,{align:"center",mb:8,justify:"space-between",mt:8,children:[(0,l.jsx)("div",{style:{width:"50%"},children:(0,l.jsx)(h.e,{href:"https://www.aliyun.com/product/fc?spm=agentcraft",target:"_blank",mr:8,children:"函数计算FC"})}),(0,l.jsx)("div",{style:{width:"50%"},children:(0,l.jsx)(h.e,{href:"https://www.aliyun.com/product/rds/postgresql?spm=agentcraft",target:"_blank",children:"云数据库 RDS PostgreSQL 版"})})]}),(0,l.jsxs)(o.k,{align:"center",justify:"space-between",children:[(0,l.jsx)("div",{style:{width:"50%"},children:(0,l.jsx)(h.e,{href:"https://www.aliyun.com/product/rocketmq?spm=agentcraft",target:"_blank",mr:8,children:"云消息队列 RocketMQ 版"})}),(0,l.jsx)("div",{style:{width:"50%"},children:(0,l.jsx)(h.e,{href:"https://www.aliyun.com/product/aliware/eventbridge?spm=agentcraft",target:"_blank",children:"事件总线 EventBridge"})})]})]}),(0,l.jsxs)(s.X,{shadow:"xs",p:"xl",mb:24,withBorder:!0,children:[(0,l.jsx)(d.D,{order:3,children:"相关阅读"}),(0,l.jsxs)(o.k,{align:"start",mb:8,justify:"space-between",mt:8,children:[(0,l.jsx)("div",{style:{width:"50%"},children:(0,l.jsx)(h.e,{href:"https://www.gatesnotes.com/AI-agents",target:"_blank",children:"人工智能即将彻底改变你使用计算机的方式"})}),(0,l.jsx)("div",{style:{width:"50%"},children:(0,l.jsx)(h.e,{href:"https://zhuanlan.zhihu.com/p/640634046",target:"_blank",mr:8,children:"Agent介绍"})})]}),(0,l.jsxs)(o.k,{align:"center",justify:"space-between",children:[(0,l.jsx)("div",{style:{width:"50%"},children:(0,l.jsx)(h.e,{href:"https://github.com/tensorchord/Awesome-LLMOps",target:"_blank",mr:8,children:"Awesome-LLMOPs"})}),(0,l.jsx)("div",{style:{width:"50%"},children:(0,l.jsx)(h.e,{href:"https://langchain.com/",target:"_blank",children:"LangChain"})})]})]})]})]})})]})}function IndexPage(){return(0,l.jsx)(OverView,{})}},61494:function(e,t,a){"use strict";a.d(t,{cv:function(){return addDataSet},ln:function(){return getDataSetList},s6:function(){return r},uo:function(){return deleteDataSet}});var n=a(64529),i=a(782),l=a(23824);let r=(0,n.Ue)()((0,i.mW)(e=>({dataSetList:[],open:!1,loading:!1,updateDataSetList:t=>e(e=>({dataSetList:t})),setLoading:t=>e(e=>({loading:t})),setOpen:t=>e(e=>({open:t}))})));async function getDataSetList(){let e=r.getState(),t=e.updateDataSetList,a=await (0,l.W)("/api/dataset/list"),n=a.data;n&&t(n)}async function deleteDataSet(e){return await (0,l.W)("/api/dataset/delete?id=".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})}async function addDataSet(e){return await (0,l.W)("/api/dataset/create",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},29235:function(e,t,a){"use strict";a.d(t,{CH:function(){return updateKnowledgeBase},Co:function(){return getKnowledgeBaseList},IV:function(){return getKnowledgeBase},Sk:function(){return getAccessUrl},g$:function(){return refreshToken},s6:function(){return r},uA:function(){return addKnowledgeBase}});var n=a(64529),i=a(782),l=a(23824);let r=(0,n.Ue)()((0,i.mW)(e=>({knowledgeBaseList:[],knowledgeBaseChatList:[],open:!1,chatDrawer:!1,loading:!1,isEdit:!1,accessUrl:{openApiUrl:"",innerApiUrl:""},currentKnowledgeBase:void 0,updateCurrentKnowledgeBase:t=>e(e=>({currentKnowledgeBase:t})),setChatDrawer:t=>e(e=>({chatDrawer:t})),setAccessUrl:t=>e(e=>({accessUrl:t})),setEditStatus:t=>e(e=>({isEdit:t})),setLoading:t=>e(e=>({loading:t})),setOpen:t=>e(e=>({open:t})),updateKnowledgeBaseList:t=>e(e=>({knowledgeBaseList:t}))})));async function getKnowledgeBaseList(e){let t=r.getState(),a=t.updateKnowledgeBaseList,n=await (0,l.W)("/api/knowledgeBase/list?appId=".concat(e)),i=n.data;i&&a(i)}async function getKnowledgeBase(e){let t=await (0,l.W)("/api/knowledgeBase/get?id=".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});return t.data}async function addKnowledgeBase(e){return await (0,l.W)("/api/knowledgeBase/create",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}async function updateKnowledgeBase(e,t){return await (0,l.W)("/api/knowledgeBase/update?id=".concat(e),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}async function refreshToken(e){return await (0,l.W)("/api/knowledgeBase/token?agentId=".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}})}async function getAccessUrl(){let e=await (0,l.W)("/api/knowledgeBase/getAccessUrl",{method:"GET",headers:{"Content-Type":"application/json"}});return e}},91939:function(e,t,a){"use strict";a.d(t,{$s:function(){return deleteModel},QB:function(){return updateModel},fZ:function(){return getModelList},mS:function(){return addModel},s6:function(){return r}});var n=a(64529),i=a(782),l=a(23824);let r=(0,n.Ue)()((0,i.mW)(e=>({modelList:[],loading:!1,open:!1,isEdit:!1,updateCurrentModel:t=>e(e=>({currentModel:t})),setEditStatus:t=>e(e=>({isEdit:t})),setLoading:t=>e(e=>({loading:t})),setOpen:t=>e(e=>({open:t})),updateModelList:t=>e(e=>({modelList:t}))})));async function getModelList(){let e=r.getState(),t=e.updateModelList,a=await (0,l.W)("/api/model/list"),n=await a.data;n&&t(n)}async function deleteModel(e){return await (0,l.W)("/api/model/delete?id=".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})}async function addModel(e){return await (0,l.W)("/api/model/create",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}async function updateModel(e,t){return await (0,l.W)("/api/model/update?id=".concat(e),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}},13962:function(e,t,a){"use strict";var n,i;a.d(t,{I:function(){return n}}),(i=n||(n={}))[i.QUESTION=1]="QUESTION",i[i.DOCUMENT=2]="DOCUMENT"}},function(e){e.O(0,[871,754,855,194,774,888,179],function(){return e(e.s=56655)}),_N_E=e.O()}]);