(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{89301:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app",function(){return n(81950)}])},3658:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var i=n(85893),r=n(92716),a=n(95117),l=n(64523),c=n(69876),s=n(19236),o=n(91759);function d(t){let{detail:e,title:n}=t,[l,{open:c,close:s}]=(0,o.q)(!1);return(0,i.jsx)(i.Fragment,{children:e?(0,i.jsxs)("div",{children:[(0,i.jsx)(r.d,{opened:l,onClose:s,title:n,children:(0,i.jsx)(a.x,{children:e})}),(0,i.jsx)(a.x,{onClick:()=>c(),children:"信息"})]}):null})}function h(t){let{title:e,description:n,detail:r,mt:o,mb:h}=t;return(0,i.jsxs)(l.x,{mt:o||24,mb:h||24,children:[(0,i.jsxs)(c.k,{mih:20,gap:"md",justify:"flex-start",align:"flex-start",direction:"row",wrap:"wrap",children:[(0,i.jsx)(s.D,{order:2,children:e}),(0,i.jsx)(d,{title:e,detail:r})]}),n?(0,i.jsx)(a.x,{lineClamp:4,children:n}):null]})}},98442:function(t,e,n){"use strict";n.d(e,{L:function(){return P}});var i=n(85893),r=n(67294),a=n(41664),l=n.n(a),c=n(95117),s=n(95033),o=n(67841),d=n(64523),h=n(49737),p=n(95078),u=n(94491),x=n(80061),j=n(52615),f=n(54685),g=n(93284),m=n(77248),w=n(73344),C=n(64529),y=n(782),S=n(71791);let v=(0,C.Ue)()((0,y.mW)(t=>({appList:[],open:!1,loading:!1,updateAppList:e=>t(t=>({appList:e})),setLoading:e=>t(t=>({loading:e})),setOpen:e=>t(t=>({open:e}))})));async function k(){let t=v.getState(),e=t.updateAppList,n=await (0,S.W)("/api/application/list"),i=n.data;i&&e(i)}async function _(t){return await (0,S.W)("/api/application/delete?id=".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}})}async function E(t){return await (0,S.W)("/api/application/create",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}var L=n(3658),b=n(48847),O=n(61407);function A(){let t=v().appList,e=v().loading,n=v().setLoading,a=t=>{let{id:e,name:r}=t;w.qk.openConfirmModal({title:"删除应用",centered:!0,children:(0,i.jsx)(c.x,{size:"sm",children:(0,i.jsx)(s.y,{highlight:r,children:"确定删除 ".concat(r,"?")})}),labels:{confirm:"确定",cancel:"取消"},onCancel:()=>console.log("Cancel"),confirmProps:{color:"red"},onConfirm:async()=>{n(!0),await _(e),await k(),n(!1)}})},u=async()=>{n(!0),await k(),n(!1)},x=t.map(t=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:t.id}),(0,i.jsx)("td",{children:(0,i.jsx)(l(),{href:"/app/".concat(t.id,"/knowledgeBase"),children:t.name})}),(0,i.jsx)("td",{children:t.description}),(0,i.jsx)("td",{children:(0,b.o)(t.created)}),(0,i.jsx)("td",{children:(0,b.o)(t.modified)}),(0,i.jsxs)("td",{children:[" ",(0,i.jsx)(o.z,{variant:"filled",color:"red",size:"xs",onClick:()=>a(t),children:"删除"})]})]},t.id));return(0,r.useEffect)(()=>{u()},[]),(0,i.jsxs)(d.x,{pos:"relative",children:[(0,i.jsx)(h.f,{visible:e,overlayOpacity:.3}),(0,i.jsxs)(p.i,{striped:!0,withBorder:!0,withColumnBorders:!0,mt:12,children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"应用id"}),(0,i.jsx)("th",{children:"应用名"}),(0,i.jsx)("th",{children:"应用描述"}),(0,i.jsx)("th",{children:"创建时间"}),(0,i.jsx)("th",{children:"修改时间"}),(0,i.jsx)("th",{children:"操作"})]})}),(0,i.jsx)("tbody",{children:x})]})]})}function N(){let t=v().open,e=v().setOpen,n=v().setLoading,r=(0,m.c)({initialValues:{name:"",description:""},validate:{name:t=>t?null:"应用名必填"}});return(0,i.jsxs)(u.u,{opened:t,onClose:()=>{e(!1)},title:"创建应用",centered:!0,children:[(0,i.jsxs)(d.x,{maw:O.hE,mx:"auto",children:[(0,i.jsx)(x.o,{withAsterisk:!0,label:"名称",placeholder:"输入应用名",...r.getInputProps("name")}),(0,i.jsx)(j.g,{label:"描述",placeholder:"输入应用描述",...r.getInputProps("description")})]}),(0,i.jsx)(d.x,{maw:O.hE,mx:"auto",pt:12,style:{textAlign:"right"},children:(0,i.jsx)(o.z,{onClick:async()=>{if(r.validate(),r.isValid()){n(!0);let t=(null==r?void 0:r.values)||{};await E(t),await k(),e(!1),n(!1)}},children:"确认"})})]})}function P(){let t=[{title:"AgentCraft",href:"#"},{title:"应用",href:"/application"}].map((t,e)=>(0,i.jsx)(f.e,{href:t.href,children:t.title},e)),e=v().setOpen;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.O,{children:t}),(0,i.jsx)(L.Z,{title:"应用",description:"AgentCraft的应用是对应业务场景的抽象，您可以聚合同类业务到同一个应用里面，在一个应用下您可以构建多个知识库服务及agent服务"}),(0,i.jsx)(d.x,{mt:12,children:(0,i.jsx)(o.z,{onClick:()=>e(!0),children:"新建应用"})}),(0,i.jsx)(N,{}),(0,i.jsx)(A,{})]})}},81950:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return a}});var i=n(85893),r=n(98442);function a(){return(0,i.jsx)(r.L,{})}},48847:function(t,e,n){"use strict";function i(t){let e=new Date(t),n=e.getFullYear(),i=(1+e.getMonth()).toString().padStart(2,"0"),r=e.getDate().toString().padStart(2,"0"),a=e.getHours().toString().padStart(2,"0"),l=e.getMinutes().toString().padStart(2,"0"),c=e.getSeconds().toString().padStart(2,"0");return"".concat(n,"-").concat(i,"-").concat(r," ").concat(a,":").concat(l,":").concat(c)}n.d(e,{o:function(){return i}})}},function(t){t.O(0,[121,586,664,152,774,888,179],function(){return t(t.s=89301)}),_N_E=t.O()}]);