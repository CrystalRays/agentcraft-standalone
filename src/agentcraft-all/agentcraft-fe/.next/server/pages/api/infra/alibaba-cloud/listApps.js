"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/infra/alibaba-cloud/listApps";
exports.ids = ["pages/api/infra/alibaba-cloud/listApps"];
exports.modules = {

/***/ "@alicloud/fc-open20210406":
/*!********************************************!*\
  !*** external "@alicloud/fc-open20210406" ***!
  \********************************************/
/***/ ((module) => {

module.exports = require("@alicloud/fc-open20210406");

/***/ }),

/***/ "@alicloud/openapi-client":
/*!*******************************************!*\
  !*** external "@alicloud/openapi-client" ***!
  \*******************************************/
/***/ ((module) => {

module.exports = require("@alicloud/openapi-client");

/***/ }),

/***/ "@alicloud/ram20150501":
/*!****************************************!*\
  !*** external "@alicloud/ram20150501" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@alicloud/ram20150501");

/***/ }),

/***/ "@alicloud/serverless20210924":
/*!***********************************************!*\
  !*** external "@alicloud/serverless20210924" ***!
  \***********************************************/
/***/ ((module) => {

module.exports = require("@alicloud/serverless20210924");

/***/ }),

/***/ "@alicloud/sts20150401":
/*!****************************************!*\
  !*** external "@alicloud/sts20150401" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@alicloud/sts20150401");

/***/ }),

/***/ "@alicloud/tea-util":
/*!*************************************!*\
  !*** external "@alicloud/tea-util" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("@alicloud/tea-util");

/***/ }),

/***/ "(api)/./constants/cloud-resources.ts":
/*!**************************************!*\
  !*** ./constants/cloud-resources.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ASSUME_ROLE_FOR_FC_CONSOLE\": () => (/* binding */ ASSUME_ROLE_FOR_FC_CONSOLE),\n/* harmony export */   \"ASSUME_ROLE_POLICY_DOCUMENT\": () => (/* binding */ ASSUME_ROLE_POLICY_DOCUMENT),\n/* harmony export */   \"DEFAULT_REGION\": () => (/* binding */ DEFAULT_REGION),\n/* harmony export */   \"DEVS_API_ENDPOINT\": () => (/* binding */ DEVS_API_ENDPOINT),\n/* harmony export */   \"FC_CONSOLE_ACCOUNTID\": () => (/* binding */ FC_CONSOLE_ACCOUNTID),\n/* harmony export */   \"FC_CONSOLE_UPDATECODE_FUNCTIONNAME\": () => (/* binding */ FC_CONSOLE_UPDATECODE_FUNCTIONNAME),\n/* harmony export */   \"FC_CONSOLE_WEBIDE_FUNCTIONNAME\": () => (/* binding */ FC_CONSOLE_WEBIDE_FUNCTIONNAME),\n/* harmony export */   \"FC_CONSOLE_WEBIDE_SERVICENAME\": () => (/* binding */ FC_CONSOLE_WEBIDE_SERVICENAME),\n/* harmony export */   \"FC_DEFAULT_ROLE_NAME\": () => (/* binding */ FC_DEFAULT_ROLE_NAME),\n/* harmony export */   \"INVOKE_GET_WEBIDE_DATA\": () => (/* binding */ INVOKE_GET_WEBIDE_DATA),\n/* harmony export */   \"INVOKE_UPDATE_CODE_DATA\": () => (/* binding */ INVOKE_UPDATE_CODE_DATA),\n/* harmony export */   \"SERVERLESS_DEVS_POLICIES\": () => (/* binding */ SERVERLESS_DEVS_POLICIES),\n/* harmony export */   \"STS_ASSUME_ROLE_PAYLOAD\": () => (/* binding */ STS_ASSUME_ROLE_PAYLOAD)\n/* harmony export */ });\nconst FC_CONSOLE_ACCOUNTID = \"\"; // fc-console 账号id\nconst FC_CONSOLE_WEBIDE_SERVICENAME = \"fc-webide-service\"; // fc-console webide service\nconst FC_CONSOLE_WEBIDE_FUNCTIONNAME = \"GetOrCreateAppWorkSpace\"; // fc-console 创建或者查询webide\nconst FC_CONSOLE_UPDATECODE_FUNCTIONNAME = \"DeployUserFunctionCode\"; // fc-console 更新代码\nconst ASSUME_ROLE_FOR_FC_CONSOLE = process.env.FcConsoleAssumeRoleName; // 授权的账号名\nconst FC_DEFAULT_ROLE_NAME = \"AliyunFCServerlessDevsRole\"; // serverless devs 检查角色\nconst DEVS_API_ENDPOINT = \"serverless-dualstack.ap-southeast-1.aliyuncs.com\";\nconst DEFAULT_REGION = \"cn-hangzhou\";\nconst INVOKE_GET_WEBIDE_DATA = {\n    serviceName: FC_CONSOLE_WEBIDE_SERVICENAME,\n    functionName: FC_CONSOLE_WEBIDE_FUNCTIONNAME\n};\nconst INVOKE_UPDATE_CODE_DATA = {\n    serviceName: FC_CONSOLE_WEBIDE_SERVICENAME,\n    functionName: FC_CONSOLE_UPDATECODE_FUNCTIONNAME\n};\nconst STS_ASSUME_ROLE_PAYLOAD = {\n    roleArn: `acs:ram::${FC_CONSOLE_ACCOUNTID}:role/${ASSUME_ROLE_FOR_FC_CONSOLE}`,\n    roleSessionName: ASSUME_ROLE_FOR_FC_CONSOLE // 这个角色是需要fc-console授权\n};\nconst ASSUME_ROLE_POLICY_DOCUMENT = {\n    \"Statement\": [\n        {\n            \"Action\": \"sts:AssumeRole\",\n            \"Effect\": \"Allow\",\n            \"Principal\": {\n                \"Service\": [\n                    \"fc.aliyuncs.com\"\n                ]\n            }\n        }\n    ],\n    \"Version\": \"1\"\n};\nconst SERVERLESS_DEVS_POLICIES = [\n    \"AliyunFCServerlessDevsRolePolicy\",\n    \"AliyunFCDefaultRolePolicy\",\n    \"AliyunFCFullAccess\",\n    \"AliyunNASFullAccess\",\n    \"AliyunVPCFullAccess\"\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9jb25zdGFudHMvY2xvdWQtcmVzb3VyY2VzLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTyxNQUFNQSx1QkFBdUIsR0FBRyxDQUFDLGtCQUFrQjtBQUNuRCxNQUFNQyxnQ0FBZ0Msb0JBQW9CLENBQUMsNEJBQTRCO0FBQ3ZGLE1BQU1DLGlDQUFpQywwQkFBMEIsQ0FBQywwQkFBMEI7QUFDNUYsTUFBTUMscUNBQXFDLHlCQUF5QixDQUFDLGtCQUFrQjtBQUN2RixNQUFNQyw2QkFBNkJDLFFBQVFDLEdBQUcsQ0FBQ0MsdUJBQXVCLENBQUMsQ0FBQyxTQUFTO0FBQ2pGLE1BQU1DLHVCQUF1Qiw2QkFBNkIsQ0FBRSx1QkFBdUI7QUFDbkYsTUFBTUMsb0JBQW9CLG1EQUFtRDtBQUU3RSxNQUFNQyxpQkFBaUIsY0FBYztBQUVyQyxNQUFNQyx5QkFBeUI7SUFDbENDLGFBQWFYO0lBQ2JZLGNBQWNYO0FBQ2xCLEVBQUM7QUFFTSxNQUFNWSwwQkFBMEI7SUFDbkNGLGFBQWFYO0lBQ2JZLGNBQWNWO0FBQ2xCLEVBQUM7QUFFTSxNQUFNWSwwQkFBMEI7SUFDbkNDLFNBQVMsQ0FBQyxTQUFTLEVBQUVoQixxQkFBcUIsTUFBTSxFQUFFSSwyQkFBMkIsQ0FBQztJQUM5RWEsaUJBQWlCYiwyQkFBNEIsc0JBQXNCO0FBQ3ZFLEVBQUM7QUFFTSxNQUFNYyw4QkFBOEI7SUFDdkMsYUFBYTtRQUNUO1lBQ0ksVUFBVTtZQUNWLFVBQVU7WUFDVixhQUFhO2dCQUNULFdBQVc7b0JBQ1A7aUJBQ0g7WUFDTDtRQUNKO0tBQ0g7SUFDRCxXQUFXO0FBQ2YsRUFBQztBQUVNLE1BQU1DLDJCQUEyQjtJQUFDO0lBQW9DO0lBQTZCO0lBQXNCO0lBQXVCO0NBQXNCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZ2VudGNyYWZ0LXVpLy4vY29uc3RhbnRzL2Nsb3VkLXJlc291cmNlcy50cz8zZmYxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBGQ19DT05TT0xFX0FDQ09VTlRJRCA9ICcnOyAvLyBmYy1jb25zb2xlIOi0puWPt2lkXG5leHBvcnQgY29uc3QgRkNfQ09OU09MRV9XRUJJREVfU0VSVklDRU5BTUUgPSAnZmMtd2ViaWRlLXNlcnZpY2UnOyAvLyBmYy1jb25zb2xlIHdlYmlkZSBzZXJ2aWNlXG5leHBvcnQgY29uc3QgRkNfQ09OU09MRV9XRUJJREVfRlVOQ1RJT05OQU1FID0gJ0dldE9yQ3JlYXRlQXBwV29ya1NwYWNlJzsgLy8gZmMtY29uc29sZSDliJvlu7rmiJbogIXmn6Xor6J3ZWJpZGVcbmV4cG9ydCBjb25zdCBGQ19DT05TT0xFX1VQREFURUNPREVfRlVOQ1RJT05OQU1FID0gJ0RlcGxveVVzZXJGdW5jdGlvbkNvZGUnOyAvLyBmYy1jb25zb2xlIOabtOaWsOS7o+eggVxuZXhwb3J0IGNvbnN0IEFTU1VNRV9ST0xFX0ZPUl9GQ19DT05TT0xFID0gcHJvY2Vzcy5lbnYuRmNDb25zb2xlQXNzdW1lUm9sZU5hbWU7IC8vIOaOiOadg+eahOi0puWPt+WQjVxuZXhwb3J0IGNvbnN0IEZDX0RFRkFVTFRfUk9MRV9OQU1FID0gJ0FsaXl1bkZDU2VydmVybGVzc0RldnNSb2xlJzsgIC8vIHNlcnZlcmxlc3MgZGV2cyDmo4Dmn6Xop5LoibJcbmV4cG9ydCBjb25zdCBERVZTX0FQSV9FTkRQT0lOVCA9ICdzZXJ2ZXJsZXNzLWR1YWxzdGFjay5hcC1zb3V0aGVhc3QtMS5hbGl5dW5jcy5jb20nO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9SRUdJT04gPSAnY24taGFuZ3pob3UnO1xuXG5leHBvcnQgY29uc3QgSU5WT0tFX0dFVF9XRUJJREVfREFUQSA9IHtcbiAgICBzZXJ2aWNlTmFtZTogRkNfQ09OU09MRV9XRUJJREVfU0VSVklDRU5BTUUsXG4gICAgZnVuY3Rpb25OYW1lOiBGQ19DT05TT0xFX1dFQklERV9GVU5DVElPTk5BTUVcbn1cblxuZXhwb3J0IGNvbnN0IElOVk9LRV9VUERBVEVfQ09ERV9EQVRBID0ge1xuICAgIHNlcnZpY2VOYW1lOiBGQ19DT05TT0xFX1dFQklERV9TRVJWSUNFTkFNRSxcbiAgICBmdW5jdGlvbk5hbWU6IEZDX0NPTlNPTEVfVVBEQVRFQ09ERV9GVU5DVElPTk5BTUVcbn1cblxuZXhwb3J0IGNvbnN0IFNUU19BU1NVTUVfUk9MRV9QQVlMT0FEID0ge1xuICAgIHJvbGVBcm46IGBhY3M6cmFtOjoke0ZDX0NPTlNPTEVfQUNDT1VOVElEfTpyb2xlLyR7QVNTVU1FX1JPTEVfRk9SX0ZDX0NPTlNPTEV9YCxcbiAgICByb2xlU2Vzc2lvbk5hbWU6IEFTU1VNRV9ST0xFX0ZPUl9GQ19DT05TT0xFICAvLyDov5nkuKrop5LoibLmmK/pnIDopoFmYy1jb25zb2xl5o6I5p2DXG59XG5cbmV4cG9ydCBjb25zdCBBU1NVTUVfUk9MRV9QT0xJQ1lfRE9DVU1FTlQgPSB7XG4gICAgXCJTdGF0ZW1lbnRcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcIkFjdGlvblwiOiBcInN0czpBc3N1bWVSb2xlXCIsXG4gICAgICAgICAgICBcIkVmZmVjdFwiOiBcIkFsbG93XCIsXG4gICAgICAgICAgICBcIlByaW5jaXBhbFwiOiB7XG4gICAgICAgICAgICAgICAgXCJTZXJ2aWNlXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJmYy5hbGl5dW5jcy5jb21cIlxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIF0sXG4gICAgXCJWZXJzaW9uXCI6IFwiMVwiXG59XG5cbmV4cG9ydCBjb25zdCBTRVJWRVJMRVNTX0RFVlNfUE9MSUNJRVMgPSBbJ0FsaXl1bkZDU2VydmVybGVzc0RldnNSb2xlUG9saWN5JywgJ0FsaXl1bkZDRGVmYXVsdFJvbGVQb2xpY3knLCAnQWxpeXVuRkNGdWxsQWNjZXNzJywgJ0FsaXl1bk5BU0Z1bGxBY2Nlc3MnLCAnQWxpeXVuVlBDRnVsbEFjY2VzcyddOyJdLCJuYW1lcyI6WyJGQ19DT05TT0xFX0FDQ09VTlRJRCIsIkZDX0NPTlNPTEVfV0VCSURFX1NFUlZJQ0VOQU1FIiwiRkNfQ09OU09MRV9XRUJJREVfRlVOQ1RJT05OQU1FIiwiRkNfQ09OU09MRV9VUERBVEVDT0RFX0ZVTkNUSU9OTkFNRSIsIkFTU1VNRV9ST0xFX0ZPUl9GQ19DT05TT0xFIiwicHJvY2VzcyIsImVudiIsIkZjQ29uc29sZUFzc3VtZVJvbGVOYW1lIiwiRkNfREVGQVVMVF9ST0xFX05BTUUiLCJERVZTX0FQSV9FTkRQT0lOVCIsIkRFRkFVTFRfUkVHSU9OIiwiSU5WT0tFX0dFVF9XRUJJREVfREFUQSIsInNlcnZpY2VOYW1lIiwiZnVuY3Rpb25OYW1lIiwiSU5WT0tFX1VQREFURV9DT0RFX0RBVEEiLCJTVFNfQVNTVU1FX1JPTEVfUEFZTE9BRCIsInJvbGVBcm4iLCJyb2xlU2Vzc2lvbk5hbWUiLCJBU1NVTUVfUk9MRV9QT0xJQ1lfRE9DVU1FTlQiLCJTRVJWRVJMRVNTX0RFVlNfUE9MSUNJRVMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./constants/cloud-resources.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/fc/fcClient.ts":
/*!******************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/fc/fcClient.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FcClient)\n/* harmony export */ });\n/* harmony import */ var _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/fc-open20210406 */ \"@alicloud/fc-open20210406\");\n/* harmony import */ var _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_0__);\n\nclass FcClient extends (_alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_0___default()) {\n    constructor(config){\n        super(config);\n    }\n    async getOrCreateAppWorkSpace() {}\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9mYy9mY0NsaWVudC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDMEM7QUFJM0IsTUFBTUMsaUJBQWlCRCxrRUFBRUE7SUFDcENFLFlBQVlDLE1BQXVCLENBQUU7UUFDakMsS0FBSyxDQUFDQTtJQUNWO0lBQ0EsTUFBTUMsMEJBQTBCLENBRWhDO0FBQ0osQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FnZW50Y3JhZnQtdWkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9mYy9mY0NsaWVudC50cz9hYWEzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IEZjIGZyb20gJ0BhbGljbG91ZC9mYy1vcGVuMjAyMTA0MDYnXG5pbXBvcnQgKiBhcyAkT3BlbkFwaSBmcm9tICdAYWxpY2xvdWQvb3BlbmFwaS1jbGllbnQnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZjQ2xpZW50IGV4dGVuZHMgRmMge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogJE9wZW5BcGkuQ29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgfVxuICAgIGFzeW5jIGdldE9yQ3JlYXRlQXBwV29ya1NwYWNlKCkge1xuXG4gICAgfVxufVxuXG4iXSwibmFtZXMiOlsiRmMiLCJGY0NsaWVudCIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiZ2V0T3JDcmVhdGVBcHBXb3JrU3BhY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/fc/fcClient.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/fc/index.ts":
/*!***************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/fc/index.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ServerlessBridgeFc\": () => (/* binding */ ServerlessBridgeFc),\n/* harmony export */   \"ServerlessBridgeServerlessDevs\": () => (/* binding */ ServerlessBridgeServerlessDevs),\n/* harmony export */   \"invokeFunction\": () => (/* binding */ invokeFunction),\n/* harmony export */   \"listFunctions\": () => (/* binding */ listFunctions)\n/* harmony export */ });\n/* harmony import */ var _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/openapi-client */ \"@alicloud/openapi-client\");\n/* harmony import */ var _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @alicloud/serverless20210924 */ \"@alicloud/serverless20210924\");\n/* harmony import */ var _alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @alicloud/tea-util */ \"@alicloud/tea-util\");\n/* harmony import */ var _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @alicloud/fc-open20210406 */ \"@alicloud/fc-open20210406\");\n/* harmony import */ var _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _serverlessDevsClient__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./serverlessDevsClient */ \"(api)/./infra/alibaba-cloud/open-apis/fc/serverlessDevsClient.ts\");\n/* harmony import */ var _fcClient__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fcClient */ \"(api)/./infra/alibaba-cloud/open-apis/fc/fcClient.ts\");\n\n\n\n\n\n\nclass ServerlessBridgeServerlessDevs {\n    constructor(config){\n        this.client = this.createServerlessDevsClient(config);\n    }\n    createServerlessDevsClient(config) {\n        const credential = config ?? {\n            accessKeyId: process.env.AK,\n            accessKeySecret: process.env.SK\n        };\n        credential.endpoint = `serverless-dualstack.ap-southeast-1.aliyuncs.com`;\n        const _config = new _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__.Config(credential);\n        return new _serverlessDevsClient__WEBPACK_IMPORTED_MODULE_4__[\"default\"](_config);\n    }\n    async createApplication(payload) {\n        const createAppData = new _alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_1__.CreateApplicationRequest(payload);\n        const data = await this.client.createApplication(createAppData);\n        return data;\n    }\n    async deleteApplication(appName) {\n        const data = await this.client.deleteApplication(appName);\n        return data;\n    }\n    async getApplication(appName) {\n        return await this.client.getApplication(appName);\n    }\n    async listApplications() {\n        const listApplicationData = new _alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_1__.ListApplicationsRequest({});\n        const data = await this.client.listApplications(listApplicationData);\n        return data;\n    }\n}\nclass ServerlessBridgeFc {\n    constructor(accountId, config){\n        this.client = this.createFcClient(accountId, config);\n    }\n    createFcClient(accountId, config) {\n        const credential = config ?? {\n            accessKeyId: process.env.AK,\n            accessKeySecret: process.env.SK\n        };\n        credential.endpoint = `${accountId}.${process.env.Region}.fc.aliyuncs.com`;\n        const _config = new _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__.Config(credential);\n        return new _fcClient__WEBPACK_IMPORTED_MODULE_5__[\"default\"](_config);\n    }\n    async invokeFunction(fcInvokeData, payload) {\n        const invokeFunctionHeaders = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.InvokeFunctionHeaders({});\n        const invokeFunctionRequest = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.InvokeFunctionRequest({\n            body: _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2___default().toBytes(JSON.stringify(payload))\n        });\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__.RuntimeOptions({});\n        return await this.client.invokeFunctionWithOptions(fcInvokeData.serviceName, fcInvokeData.functionName, invokeFunctionRequest, invokeFunctionHeaders, runtime);\n    }\n    async listFunctions(payload) {\n        const listFunctionsHeaders = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.ListFunctionsHeaders({});\n        const listFunctionsRequest = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.ListFunctionsRequest(payload);\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__.RuntimeOptions({});\n        return await this.client.listFunctionsWithOptions(\"\", listFunctionsRequest, listFunctionsHeaders, runtime);\n    }\n}\nasync function invokeFunction(client, fcInvokeData, payload) {\n    const invokeFunctionHeaders = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.InvokeFunctionHeaders({});\n    const invokeFunctionRequest = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.InvokeFunctionRequest({\n        body: _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2___default().toBytes(JSON.stringify(payload))\n    });\n    const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__.RuntimeOptions({});\n    return await client.invokeFunctionWithOptions(fcInvokeData.serviceName, fcInvokeData.functionName, invokeFunctionRequest, invokeFunctionHeaders, runtime);\n}\nasync function listFunctions(client, payload) {\n    const listFunctionsHeaders = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.ListFunctionsHeaders({});\n    const listFunctionsRequest = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.ListFunctionsRequest(payload);\n    const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__.RuntimeOptions({});\n    return await client.listFunctionsWithOptions(\"\", listFunctionsRequest, listFunctionsHeaders, runtime);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9mYy9pbmRleC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUNxRDtBQUM0QztBQUMvQztBQUNtRjtBQUMzRTtBQUN4QjtBQU8zQixNQUFNVztJQUVUQyxZQUFZQyxNQUFzQixDQUFFO1FBQ2hDLElBQUksQ0FBQ0MsTUFBTSxHQUFHLElBQUksQ0FBQ0MsMEJBQTBCLENBQUNGO0lBQ2xEO0lBQ0FFLDJCQUEyQkYsTUFBc0IsRUFBRTtRQUMvQyxNQUFNRyxhQUFhSCxVQUFVO1lBQ3pCSSxhQUFhQyxRQUFRQyxHQUFHLENBQUNDLEVBQUU7WUFDM0JDLGlCQUFpQkgsUUFBUUMsR0FBRyxDQUFDRyxFQUFFO1FBQ25DO1FBQ0FOLFdBQVdPLFFBQVEsR0FBRyxDQUFDLGdEQUFnRCxDQUFDO1FBQ3hFLE1BQU1DLFVBQVUsSUFBSXhCLDREQUFlLENBQUNnQjtRQUNwQyxPQUFPLElBQUlQLDZEQUFvQkEsQ0FBQ2U7SUFDcEM7SUFFQSxNQUFNRSxrQkFBa0JDLE9BQVksRUFBRTtRQUNsQyxNQUFNQyxnQkFBZ0IsSUFBSTNCLGtGQUF3QkEsQ0FBQzBCO1FBQ25ELE1BQU1FLE9BQU8sTUFBTSxJQUFJLENBQUNmLE1BQU0sQ0FBQ1ksaUJBQWlCLENBQUNFO1FBQ2pELE9BQU9DO0lBQ1g7SUFFQSxNQUFNQyxrQkFBa0JDLE9BQWUsRUFBRTtRQUVyQyxNQUFNRixPQUFPLE1BQU0sSUFBSSxDQUFDZixNQUFNLENBQUNnQixpQkFBaUIsQ0FBQ0M7UUFDakQsT0FBT0Y7SUFDWDtJQUVBLE1BQU1HLGVBQWVELE9BQWUsRUFBRTtRQUNsQyxPQUFPLE1BQU0sSUFBSSxDQUFDakIsTUFBTSxDQUFDa0IsY0FBYyxDQUFDRDtJQUM1QztJQUVBLE1BQU1FLG1CQUFtQjtRQUNyQixNQUFNQyxzQkFBc0IsSUFBSWhDLGlGQUF1QkEsQ0FBQyxDQUFDO1FBQ3pELE1BQU0yQixPQUFPLE1BQU0sSUFBSSxDQUFDZixNQUFNLENBQUNtQixnQkFBZ0IsQ0FBQ0M7UUFDaEQsT0FBT0w7SUFDWDtBQUNKLENBQUM7QUFHTSxNQUFNTTtJQUVUdkIsWUFBWXdCLFNBQWlCLEVBQUV2QixNQUFzQixDQUFFO1FBQ25ELElBQUksQ0FBQ0MsTUFBTSxHQUFHLElBQUksQ0FBQ3VCLGNBQWMsQ0FBQ0QsV0FBV3ZCO0lBQ2pEO0lBQ0F3QixlQUFlRCxTQUFpQixFQUFFdkIsTUFBc0IsRUFBRTtRQUN0RCxNQUFNRyxhQUFhSCxVQUFVO1lBQ3pCSSxhQUFhQyxRQUFRQyxHQUFHLENBQUNDLEVBQUU7WUFDM0JDLGlCQUFpQkgsUUFBUUMsR0FBRyxDQUFDRyxFQUFFO1FBQ25DO1FBQ0FOLFdBQVdPLFFBQVEsR0FBRyxDQUFDLEVBQUVhLFVBQVUsQ0FBQyxFQUFFbEIsUUFBUUMsR0FBRyxDQUFDbUIsTUFBTSxDQUFDLGdCQUFnQixDQUFDO1FBQzFFLE1BQU1kLFVBQVUsSUFBSXhCLDREQUFlLENBQUNnQjtRQUNwQyxPQUFPLElBQUlOLGlEQUFRQSxDQUFDYztJQUN4QjtJQUVBLE1BQU1lLGVBQWVDLFlBQWlCLEVBQUViLE9BQVksRUFBRTtRQUVsRCxNQUFNYyx3QkFBd0IsSUFBSW5DLDRFQUFxQkEsQ0FBQyxDQUFDO1FBQ3pELE1BQU1vQyx3QkFBd0IsSUFBSXJDLDRFQUFxQkEsQ0FBQztZQUFFc0MsTUFBTXhDLGlFQUFZLENBQUMwQyxLQUFLQyxTQUFTLENBQUNuQjtRQUFVO1FBQ3RHLE1BQU1vQixVQUFVLElBQUkzQyw4REFBb0IsQ0FBQyxDQUFDO1FBQzFDLE9BQU8sTUFBTSxJQUFJLENBQUNVLE1BQU0sQ0FBQ21DLHlCQUF5QixDQUFDVCxhQUFhVSxXQUFXLEVBQUVWLGFBQWFXLFlBQVksRUFBRVQsdUJBQXVCRCx1QkFBdUJNO0lBQzFKO0lBRUEsTUFBTUssY0FBY3pCLE9BQVksRUFBRTtRQUM5QixNQUFNMEIsdUJBQXVCLElBQUk5QywyRUFBb0JBLENBQUMsQ0FBQztRQUN2RCxNQUFNK0MsdUJBQXVCLElBQUk5QywyRUFBb0JBLENBQUNtQjtRQUN0RCxNQUFNb0IsVUFBVSxJQUFJM0MsOERBQW9CLENBQUMsQ0FBQztRQUMxQyxPQUFPLE1BQU0sSUFBSSxDQUFDVSxNQUFNLENBQUN5Qyx3QkFBd0IsQ0FBQyxJQUFJRCxzQkFBc0JELHNCQUFzQk47SUFDdEc7QUFDSixDQUFDO0FBR00sZUFBZVIsZUFBZXpCLE1BQWdCLEVBQUUwQixZQUFpQixFQUFFYixPQUFZLEVBQUU7SUFFcEYsTUFBTWMsd0JBQXdCLElBQUluQyw0RUFBcUJBLENBQUMsQ0FBQztJQUV6RCxNQUFNb0Msd0JBQXdCLElBQUlyQyw0RUFBcUJBLENBQUM7UUFBRXNDLE1BQU14QyxpRUFBWSxDQUFDMEMsS0FBS0MsU0FBUyxDQUFDbkI7SUFBVTtJQUN0RyxNQUFNb0IsVUFBVSxJQUFJM0MsOERBQW9CLENBQUMsQ0FBQztJQUMxQyxPQUFPLE1BQU1VLE9BQU9tQyx5QkFBeUIsQ0FBQ1QsYUFBYVUsV0FBVyxFQUFFVixhQUFhVyxZQUFZLEVBQUVULHVCQUF1QkQsdUJBQXVCTTtBQUNySixDQUFDO0FBR00sZUFBZUssY0FBY3RDLE1BQWdCLEVBQUVhLE9BQVksRUFBRTtJQUNoRSxNQUFNMEIsdUJBQXVCLElBQUk5QywyRUFBb0JBLENBQUMsQ0FBQztJQUN2RCxNQUFNK0MsdUJBQXVCLElBQUk5QywyRUFBb0JBLENBQUNtQjtJQUN0RCxNQUFNb0IsVUFBVSxJQUFJM0MsOERBQW9CLENBQUMsQ0FBQztJQUMxQyxPQUFPLE1BQU1VLE9BQU95Qyx3QkFBd0IsQ0FBQyxJQUFJRCxzQkFBc0JELHNCQUFzQk47QUFDakcsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FnZW50Y3JhZnQtdWkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9mYy9pbmRleC50cz9hNDhlIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0ICogYXMgJE9wZW5BcGkgZnJvbSAnQGFsaWNsb3VkL29wZW5hcGktY2xpZW50JztcbmltcG9ydCB7IENyZWF0ZUFwcGxpY2F0aW9uUmVxdWVzdCwgTGlzdEFwcGxpY2F0aW9uc1JlcXVlc3QgfSBmcm9tICdAYWxpY2xvdWQvc2VydmVybGVzczIwMjEwOTI0JztcbmltcG9ydCBVdGlsLCAqIGFzICRVdGlsIGZyb20gJ0BhbGljbG91ZC90ZWEtdXRpbCc7XG5pbXBvcnQgeyBJbnZva2VGdW5jdGlvblJlcXVlc3QsIEludm9rZUZ1bmN0aW9uSGVhZGVycywgTGlzdEZ1bmN0aW9uc0hlYWRlcnMsIExpc3RGdW5jdGlvbnNSZXF1ZXN0IH0gZnJvbSAnQGFsaWNsb3VkL2ZjLW9wZW4yMDIxMDQwNic7XG5pbXBvcnQgU2VydmVybGVzc0RldnNDbGllbnQgZnJvbSBcIi4vc2VydmVybGVzc0RldnNDbGllbnRcIjtcbmltcG9ydCBGY0NsaWVudCBmcm9tIFwiLi9mY0NsaWVudFwiO1xuaW1wb3J0IHsgT3BlbkFwaUNvbmZpZyB9IGZyb20gJy4uL3R5cGVzJztcblxuXG5cblxuXG5leHBvcnQgY2xhc3MgU2VydmVybGVzc0JyaWRnZVNlcnZlcmxlc3NEZXZzIHtcbiAgICBjbGllbnQ6IFNlcnZlcmxlc3NEZXZzQ2xpZW50O1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZz86IE9wZW5BcGlDb25maWcpIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSB0aGlzLmNyZWF0ZVNlcnZlcmxlc3NEZXZzQ2xpZW50KGNvbmZpZyk7XG4gICAgfVxuICAgIGNyZWF0ZVNlcnZlcmxlc3NEZXZzQ2xpZW50KGNvbmZpZz86IE9wZW5BcGlDb25maWcpIHtcbiAgICAgICAgY29uc3QgY3JlZGVudGlhbCA9IGNvbmZpZyA/PyB7XG4gICAgICAgICAgICBhY2Nlc3NLZXlJZDogcHJvY2Vzcy5lbnYuQUssXG4gICAgICAgICAgICBhY2Nlc3NLZXlTZWNyZXQ6IHByb2Nlc3MuZW52LlNLLFxuICAgICAgICB9XG4gICAgICAgIGNyZWRlbnRpYWwuZW5kcG9pbnQgPSBgc2VydmVybGVzcy1kdWFsc3RhY2suYXAtc291dGhlYXN0LTEuYWxpeXVuY3MuY29tYFxuICAgICAgICBjb25zdCBfY29uZmlnID0gbmV3ICRPcGVuQXBpLkNvbmZpZyhjcmVkZW50aWFsKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXJ2ZXJsZXNzRGV2c0NsaWVudChfY29uZmlnKTtcbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGVBcHBsaWNhdGlvbihwYXlsb2FkOiBhbnkpIHtcbiAgICAgICAgY29uc3QgY3JlYXRlQXBwRGF0YSA9IG5ldyBDcmVhdGVBcHBsaWNhdGlvblJlcXVlc3QocGF5bG9hZCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmNsaWVudC5jcmVhdGVBcHBsaWNhdGlvbihjcmVhdGVBcHBEYXRhKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVsZXRlQXBwbGljYXRpb24oYXBwTmFtZTogc3RyaW5nKSB7XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuY2xpZW50LmRlbGV0ZUFwcGxpY2F0aW9uKGFwcE5hbWUpXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGFzeW5jIGdldEFwcGxpY2F0aW9uKGFwcE5hbWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQuZ2V0QXBwbGljYXRpb24oYXBwTmFtZSk7XG4gICAgfVxuXG4gICAgYXN5bmMgbGlzdEFwcGxpY2F0aW9ucygpIHtcbiAgICAgICAgY29uc3QgbGlzdEFwcGxpY2F0aW9uRGF0YSA9IG5ldyBMaXN0QXBwbGljYXRpb25zUmVxdWVzdCh7fSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmNsaWVudC5saXN0QXBwbGljYXRpb25zKGxpc3RBcHBsaWNhdGlvbkRhdGEpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIFNlcnZlcmxlc3NCcmlkZ2VGYyB7XG4gICAgY2xpZW50OiBGY0NsaWVudDtcbiAgICBjb25zdHJ1Y3RvcihhY2NvdW50SWQ6IHN0cmluZywgY29uZmlnPzogT3BlbkFwaUNvbmZpZykge1xuICAgICAgICB0aGlzLmNsaWVudCA9IHRoaXMuY3JlYXRlRmNDbGllbnQoYWNjb3VudElkLCBjb25maWcpO1xuICAgIH1cbiAgICBjcmVhdGVGY0NsaWVudChhY2NvdW50SWQ6IHN0cmluZywgY29uZmlnPzogT3BlbkFwaUNvbmZpZykge1xuICAgICAgICBjb25zdCBjcmVkZW50aWFsID0gY29uZmlnID8/IHtcbiAgICAgICAgICAgIGFjY2Vzc0tleUlkOiBwcm9jZXNzLmVudi5BSyxcbiAgICAgICAgICAgIGFjY2Vzc0tleVNlY3JldDogcHJvY2Vzcy5lbnYuU0ssXG4gICAgICAgIH1cbiAgICAgICAgY3JlZGVudGlhbC5lbmRwb2ludCA9IGAke2FjY291bnRJZH0uJHtwcm9jZXNzLmVudi5SZWdpb259LmZjLmFsaXl1bmNzLmNvbWBcbiAgICAgICAgY29uc3QgX2NvbmZpZyA9IG5ldyAkT3BlbkFwaS5Db25maWcoY3JlZGVudGlhbCk7XG4gICAgICAgIHJldHVybiBuZXcgRmNDbGllbnQoX2NvbmZpZyk7XG4gICAgfVxuXG4gICAgYXN5bmMgaW52b2tlRnVuY3Rpb24oZmNJbnZva2VEYXRhOiBhbnksIHBheWxvYWQ6IGFueSkge1xuXG4gICAgICAgIGNvbnN0IGludm9rZUZ1bmN0aW9uSGVhZGVycyA9IG5ldyBJbnZva2VGdW5jdGlvbkhlYWRlcnMoe30pO1xuICAgICAgICBjb25zdCBpbnZva2VGdW5jdGlvblJlcXVlc3QgPSBuZXcgSW52b2tlRnVuY3Rpb25SZXF1ZXN0KHsgYm9keTogVXRpbC50b0J5dGVzKEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKSB9KTtcbiAgICAgICAgY29uc3QgcnVudGltZSA9IG5ldyAkVXRpbC5SdW50aW1lT3B0aW9ucyh7fSk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5pbnZva2VGdW5jdGlvbldpdGhPcHRpb25zKGZjSW52b2tlRGF0YS5zZXJ2aWNlTmFtZSwgZmNJbnZva2VEYXRhLmZ1bmN0aW9uTmFtZSwgaW52b2tlRnVuY3Rpb25SZXF1ZXN0LCBpbnZva2VGdW5jdGlvbkhlYWRlcnMsIHJ1bnRpbWUpO1xuICAgIH1cblxuICAgIGFzeW5jIGxpc3RGdW5jdGlvbnMocGF5bG9hZDogYW55KSB7XG4gICAgICAgIGNvbnN0IGxpc3RGdW5jdGlvbnNIZWFkZXJzID0gbmV3IExpc3RGdW5jdGlvbnNIZWFkZXJzKHt9KTtcbiAgICAgICAgY29uc3QgbGlzdEZ1bmN0aW9uc1JlcXVlc3QgPSBuZXcgTGlzdEZ1bmN0aW9uc1JlcXVlc3QocGF5bG9hZCk7XG4gICAgICAgIGNvbnN0IHJ1bnRpbWUgPSBuZXcgJFV0aWwuUnVudGltZU9wdGlvbnMoe30pO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQubGlzdEZ1bmN0aW9uc1dpdGhPcHRpb25zKFwiXCIsIGxpc3RGdW5jdGlvbnNSZXF1ZXN0LCBsaXN0RnVuY3Rpb25zSGVhZGVycywgcnVudGltZSk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbnZva2VGdW5jdGlvbihjbGllbnQ6IEZjQ2xpZW50LCBmY0ludm9rZURhdGE6IGFueSwgcGF5bG9hZDogYW55KSB7XG5cbiAgICBjb25zdCBpbnZva2VGdW5jdGlvbkhlYWRlcnMgPSBuZXcgSW52b2tlRnVuY3Rpb25IZWFkZXJzKHt9KTtcblxuICAgIGNvbnN0IGludm9rZUZ1bmN0aW9uUmVxdWVzdCA9IG5ldyBJbnZva2VGdW5jdGlvblJlcXVlc3QoeyBib2R5OiBVdGlsLnRvQnl0ZXMoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpIH0pO1xuICAgIGNvbnN0IHJ1bnRpbWUgPSBuZXcgJFV0aWwuUnVudGltZU9wdGlvbnMoe30pO1xuICAgIHJldHVybiBhd2FpdCBjbGllbnQuaW52b2tlRnVuY3Rpb25XaXRoT3B0aW9ucyhmY0ludm9rZURhdGEuc2VydmljZU5hbWUsIGZjSW52b2tlRGF0YS5mdW5jdGlvbk5hbWUsIGludm9rZUZ1bmN0aW9uUmVxdWVzdCwgaW52b2tlRnVuY3Rpb25IZWFkZXJzLCBydW50aW1lKTtcbn1cblxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbGlzdEZ1bmN0aW9ucyhjbGllbnQ6IEZjQ2xpZW50LCBwYXlsb2FkOiBhbnkpIHtcbiAgICBjb25zdCBsaXN0RnVuY3Rpb25zSGVhZGVycyA9IG5ldyBMaXN0RnVuY3Rpb25zSGVhZGVycyh7fSk7XG4gICAgY29uc3QgbGlzdEZ1bmN0aW9uc1JlcXVlc3QgPSBuZXcgTGlzdEZ1bmN0aW9uc1JlcXVlc3QocGF5bG9hZCk7XG4gICAgY29uc3QgcnVudGltZSA9IG5ldyAkVXRpbC5SdW50aW1lT3B0aW9ucyh7fSk7XG4gICAgcmV0dXJuIGF3YWl0IGNsaWVudC5saXN0RnVuY3Rpb25zV2l0aE9wdGlvbnMoXCJcIiwgbGlzdEZ1bmN0aW9uc1JlcXVlc3QsIGxpc3RGdW5jdGlvbnNIZWFkZXJzLCBydW50aW1lKTtcbn0iXSwibmFtZXMiOlsiJE9wZW5BcGkiLCJDcmVhdGVBcHBsaWNhdGlvblJlcXVlc3QiLCJMaXN0QXBwbGljYXRpb25zUmVxdWVzdCIsIlV0aWwiLCIkVXRpbCIsIkludm9rZUZ1bmN0aW9uUmVxdWVzdCIsIkludm9rZUZ1bmN0aW9uSGVhZGVycyIsIkxpc3RGdW5jdGlvbnNIZWFkZXJzIiwiTGlzdEZ1bmN0aW9uc1JlcXVlc3QiLCJTZXJ2ZXJsZXNzRGV2c0NsaWVudCIsIkZjQ2xpZW50IiwiU2VydmVybGVzc0JyaWRnZVNlcnZlcmxlc3NEZXZzIiwiY29uc3RydWN0b3IiLCJjb25maWciLCJjbGllbnQiLCJjcmVhdGVTZXJ2ZXJsZXNzRGV2c0NsaWVudCIsImNyZWRlbnRpYWwiLCJhY2Nlc3NLZXlJZCIsInByb2Nlc3MiLCJlbnYiLCJBSyIsImFjY2Vzc0tleVNlY3JldCIsIlNLIiwiZW5kcG9pbnQiLCJfY29uZmlnIiwiQ29uZmlnIiwiY3JlYXRlQXBwbGljYXRpb24iLCJwYXlsb2FkIiwiY3JlYXRlQXBwRGF0YSIsImRhdGEiLCJkZWxldGVBcHBsaWNhdGlvbiIsImFwcE5hbWUiLCJnZXRBcHBsaWNhdGlvbiIsImxpc3RBcHBsaWNhdGlvbnMiLCJsaXN0QXBwbGljYXRpb25EYXRhIiwiU2VydmVybGVzc0JyaWRnZUZjIiwiYWNjb3VudElkIiwiY3JlYXRlRmNDbGllbnQiLCJSZWdpb24iLCJpbnZva2VGdW5jdGlvbiIsImZjSW52b2tlRGF0YSIsImludm9rZUZ1bmN0aW9uSGVhZGVycyIsImludm9rZUZ1bmN0aW9uUmVxdWVzdCIsImJvZHkiLCJ0b0J5dGVzIiwiSlNPTiIsInN0cmluZ2lmeSIsInJ1bnRpbWUiLCJSdW50aW1lT3B0aW9ucyIsImludm9rZUZ1bmN0aW9uV2l0aE9wdGlvbnMiLCJzZXJ2aWNlTmFtZSIsImZ1bmN0aW9uTmFtZSIsImxpc3RGdW5jdGlvbnMiLCJsaXN0RnVuY3Rpb25zSGVhZGVycyIsImxpc3RGdW5jdGlvbnNSZXF1ZXN0IiwibGlzdEZ1bmN0aW9uc1dpdGhPcHRpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/fc/index.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/fc/serverlessDevsClient.ts":
/*!******************************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/fc/serverlessDevsClient.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ServerlessDevsClient)\n/* harmony export */ });\n/* harmony import */ var _alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/serverless20210924 */ \"@alicloud/serverless20210924\");\n/* harmony import */ var _alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_0__);\n\nclass ServerlessDevsClient extends (_alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_0___default()) {\n    constructor(config){\n        super(config);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9mYy9zZXJ2ZXJsZXNzRGV2c0NsaWVudC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDeUQ7QUFJMUMsTUFBTUMsNkJBQTZCRCxxRUFBY0E7SUFDNURFLFlBQVlDLE1BQXVCLENBQUU7UUFDakMsS0FBSyxDQUFDQTtJQUNWO0FBRUosQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FnZW50Y3JhZnQtdWkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9mYy9zZXJ2ZXJsZXNzRGV2c0NsaWVudC50cz80YTE4Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IFNlcnZlcmxlc3NEZXZzIGZyb20gJ0BhbGljbG91ZC9zZXJ2ZXJsZXNzMjAyMTA5MjQnXG5pbXBvcnQgKiBhcyAkT3BlbkFwaSBmcm9tICdAYWxpY2xvdWQvb3BlbmFwaS1jbGllbnQnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlcnZlcmxlc3NEZXZzQ2xpZW50IGV4dGVuZHMgU2VydmVybGVzc0RldnMge1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZzogJE9wZW5BcGkuQ29uZmlnKSB7XG4gICAgICAgIHN1cGVyKGNvbmZpZyk7XG4gICAgfVxuICAgXG59XG5cbiJdLCJuYW1lcyI6WyJTZXJ2ZXJsZXNzRGV2cyIsIlNlcnZlcmxlc3NEZXZzQ2xpZW50IiwiY29uc3RydWN0b3IiLCJjb25maWciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/fc/serverlessDevsClient.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/ram/index.ts":
/*!****************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/ram/index.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ServerlessBridgeRam\": () => (/* binding */ ServerlessBridgeRam)\n/* harmony export */ });\n/* harmony import */ var _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/openapi-client */ \"@alicloud/openapi-client\");\n/* harmony import */ var _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @alicloud/tea-util */ \"@alicloud/tea-util\");\n/* harmony import */ var _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @alicloud/ram20150501 */ \"@alicloud/ram20150501\");\n/* harmony import */ var _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _ramClient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ramClient */ \"(api)/./infra/alibaba-cloud/open-apis/ram/ramClient.ts\");\n\n\n\n\nclass ServerlessBridgeRam {\n    constructor(config){\n        this.client = this.createRameClient(config);\n    }\n    createRameClient(config) {\n        const credential = config ?? {\n            accessKeyId: process.env.AK,\n            accessKeySecret: process.env.SK\n        };\n        credential.endpoint = `ram.aliyuncs.com`;\n        const _config = new _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__.Config(credential);\n        return new _ramClient__WEBPACK_IMPORTED_MODULE_3__[\"default\"](_config);\n    }\n    async createUser(payload) {\n        const createUserRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.CreateUserRequest(payload);\n        const result = await this.client.createUser(createUserRequest);\n    }\n    async getRole(roleName) {\n        const getRoleRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.GetRoleRequest({\n            roleName\n        });\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n        const result = await this.client.getRoleWithOptions(getRoleRequest, runtime);\n        return result.body;\n    }\n    async getUser(userName) {\n        try {\n            const getUserRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.GetUserRequest({\n                userName\n            });\n            const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n            const result = await this.client.getUserWithOptions(getUserRequest, runtime);\n            return result.body;\n        } catch (e) {\n            return {\n                error: e\n            };\n        }\n    }\n    async deleteAccessKey(userName, userAccessKeyId) {\n        const deleteAccessKeyRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.DeleteAccessKeyRequest({\n            userAccessKeyId,\n            userName\n        });\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n        const result = await this.client.deleteAccessKeyWithOptions(deleteAccessKeyRequest, runtime);\n        return result.body;\n    }\n    async createAccessKey(userName) {\n        const createAccessKeyRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.CreateAccessKeyRequest({\n            userName\n        });\n        const result = await this.client.createAccessKey(createAccessKeyRequest);\n        return result.body;\n    }\n    async listAccessKeys(userName) {\n        try {\n            const listAccessKeysRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.ListAccessKeysRequest({\n                userName\n            });\n            const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n            const result = await this.client.listAccessKeysWithOptions(listAccessKeysRequest, runtime); //sdk 定义的是大驼峰，然而实际返回的是小驼峰\n            return result.body?.accessKeys.accessKey;\n        } catch (e) {\n            return [];\n        }\n    }\n    async createRole(payload) {\n        const createRoleRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.CreateRoleRequest(payload);\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n        const result = await this.client.createRoleWithOptions(createRoleRequest, runtime);\n        return result.body;\n    }\n    async attactRolePolicy(payload) {\n        const attachPolicyToRoleRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.AttachPolicyToRoleRequest(payload);\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions;\n        const result = await this.client.attachPolicyToRoleWithOptions(attachPolicyToRoleRequest, runtime);\n        return result.body;\n    }\n    async attachPolicyToUser(payload) {\n        try {\n            const attachPolicyToUserRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.AttachPolicyToUserRequest(payload);\n            const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n            const result = await this.client.attachPolicyToUserWithOptions(attachPolicyToUserRequest, runtime);\n            return result.body;\n        } catch (e) {\n            return {\n                error: e\n            };\n        }\n    }\n    async detachPolicyFromUser(payload) {\n        try {\n            const detachPolicyFromUserRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.DetachPolicyFromUserRequest(payload);\n            const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n            const result = await this.client.detachPolicyFromUserWithOptions(detachPolicyFromUserRequest, runtime);\n            return result.body;\n        } catch (e) {\n            return {\n                error: e\n            };\n        }\n    }\n    async createPolicy(payload) {\n        try {\n            const createPolicyRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.CreatePolicyRequest(payload);\n            const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n            return await this.client.createPolicyWithOptions(createPolicyRequest, runtime);\n        } catch (e) {\n            return {\n                error: e\n            };\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9yYW0vaW5kZXgudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDcUQ7QUFDVDtBQUNnUDtBQUl4UDtBQXFCN0IsTUFBTWM7SUFFVEMsWUFBWUMsTUFBc0IsQ0FBRTtRQUNoQyxJQUFJLENBQUNDLE1BQU0sR0FBRyxJQUFJLENBQUNDLGdCQUFnQixDQUFDRjtJQUN4QztJQUNBRSxpQkFBaUJGLE1BQXNCLEVBQUU7UUFDckMsTUFBTUcsYUFBYUgsVUFBVTtZQUN6QkksYUFBYUMsUUFBUUMsR0FBRyxDQUFDQyxFQUFFO1lBQzNCQyxpQkFBaUJILFFBQVFDLEdBQUcsQ0FBQ0csRUFBRTtRQUNuQztRQUNBTixXQUFXTyxRQUFRLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQztRQUN4QyxNQUFNQyxVQUFVLElBQUkzQiw0REFBZSxDQUFDbUI7UUFDcEMsT0FBTyxJQUFJTixrREFBU0EsQ0FBQ2M7SUFDekI7SUFDQSxNQUFNRSxXQUFXQyxPQUEwQixFQUFFO1FBRXpDLE1BQU1DLG9CQUFvQixJQUFJN0Isb0VBQWlCQSxDQUFDNEI7UUFDaEQsTUFBTUUsU0FBUyxNQUFNLElBQUksQ0FBQ2YsTUFBTSxDQUFDWSxVQUFVLENBQUNFO0lBQ2hEO0lBRUEsTUFBTUUsUUFBUUMsUUFBZ0IsRUFBRTtRQUM1QixNQUFNQyxpQkFBaUIsSUFBSTFCLGlFQUFjQSxDQUFDO1lBQ3RDeUI7UUFDSjtRQUNBLE1BQU1FLFVBQVUsSUFBSW5DLDhEQUFvQixDQUFDLENBQUM7UUFDMUMsTUFBTStCLFNBQVMsTUFBTSxJQUFJLENBQUNmLE1BQU0sQ0FBQ3FCLGtCQUFrQixDQUFDSCxnQkFBZ0JDO1FBQ3BFLE9BQU9KLE9BQU9PLElBQUk7SUFDdEI7SUFFQSxNQUFNQyxRQUFRQyxRQUFnQixFQUFnQjtRQUMxQyxJQUFJO1lBQ0EsTUFBTUMsaUJBQWlCLElBQUluQyxpRUFBY0EsQ0FBQztnQkFDdENrQztZQUNKO1lBQ0EsTUFBTUws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R0FBRztZQUNSLE9BQU87Z0JBQUVDLE9BQU9EO1lBQUU7UUFDdEI7SUFFSjtJQUVBLE1BQU15QixhQUFhdkMsT0FBVyxFQUFnQjtRQUMxQyxJQUFJO1lBQ0EsTUFBTXdDLHNCQUFzQixJQUFJbkUsc0VBQW1CQSxDQUFDMkI7WUFDcEQsTUFBTU0sVUFBVSxJQUFJbkMsOERBQW9CLENBQUMsQ0FBQztZQUMxQyxPQUFPLE1BQU0sSUFBSSxDQUFDZ0IsTUFBTSxDQUFDc0QsdUJBQXVCLENBQUNELHFCQUFxQmxDO1FBQzFFLEVBQUUsT0FBT1EsR0FBRztZQUNSLE9BQU87Z0JBQ0hDLE9BQU9EO1lBQ1g7UUFDSjtJQUNKO0FBRUosQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FnZW50Y3JhZnQtdWkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9yYW0vaW5kZXgudHM/ZDc5YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCAqIGFzICRPcGVuQXBpIGZyb20gJ0BhbGljbG91ZC9vcGVuYXBpLWNsaWVudCc7XG5pbXBvcnQgKiBhcyAkVXRpbCBmcm9tICdAYWxpY2xvdWQvdGVhLXV0aWwnO1xuaW1wb3J0IHsgQ3JlYXRlVXNlclJlcXVlc3QsIENyZWF0ZVBvbGljeVJlcXVlc3QsIENyZWF0ZUFjY2Vzc0tleVJlcXVlc3QsIENyZWF0ZVJvbGVSZXF1ZXN0LCBBdHRhY2hQb2xpY3lUb1VzZXJSZXF1ZXN0LCBHZXRVc2VyUmVxdWVzdCwgRGVsZXRlQWNjZXNzS2V5UmVxdWVzdCwgR2V0Um9sZVJlcXVlc3QsIEF0dGFjaFBvbGljeVRvUm9sZVJlcXVlc3QsIERldGFjaFBvbGljeUZyb21Vc2VyUmVxdWVzdCwgTGlzdEFjY2Vzc0tleXNSZXF1ZXN0IH0gZnJvbSAnQGFsaWNsb3VkL3JhbTIwMTUwNTAxJztcblxuXG5cbmltcG9ydCBSYW1DbGllbnQgZnJvbSBcIi4vcmFtQ2xpZW50XCI7XG5cbmltcG9ydCB7IE9wZW5BcGlDb25maWcgfSBmcm9tICcuLi90eXBlcyc7XG5cblxuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVVc2VyUGF5bG9hZCB7XG4gICAgdXNlck5hbWU6IHN0cmluZyxcbiAgICBkaXNwbGF5TmFtZT86IHN0cmluZyxcbiAgICBtb2JpbGVQaG9uZT86IHN0cmluZyxcbiAgICBlbWFpbD86IHN0cmluZyxcbiAgICBjb21tZW50cz86IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVJvbGVQYXlsb2FkIHtcbiAgICByb2xlTmFtZTogc3RyaW5nLFxuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nLFxuICAgIGFzc3VtZVJvbGVQb2xpY3lEb2N1bWVudDogYW55LFxuICAgIG1hc1Nlc3Npb25EdXJhdGlvbj86IG51bWJlclxufVxuXG5cbmV4cG9ydCBjbGFzcyBTZXJ2ZXJsZXNzQnJpZGdlUmFtIHtcbiAgICBjbGllbnQ6IFJhbUNsaWVudDtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc/OiBPcGVuQXBpQ29uZmlnKSB7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gdGhpcy5jcmVhdGVSYW1lQ2xpZW50KGNvbmZpZyk7XG4gICAgfVxuICAgIGNyZWF0ZVJhbWVDbGllbnQoY29uZmlnPzogT3BlbkFwaUNvbmZpZykge1xuICAgICAgICBjb25zdCBjcmVkZW50aWFsID0gY29uZmlnID8/IHtcbiAgICAgICAgICAgIGFjY2Vzc0tleUlkOiBwcm9jZXNzLmVudi5BSyxcbiAgICAgICAgICAgIGFjY2Vzc0tleVNlY3JldDogcHJvY2Vzcy5lbnYuU0ssXG4gICAgICAgIH1cbiAgICAgICAgY3JlZGVudGlhbC5lbmRwb2ludCA9IGByYW0uYWxpeXVuY3MuY29tYDtcbiAgICAgICAgY29uc3QgX2NvbmZpZyA9IG5ldyAkT3BlbkFwaS5Db25maWcoY3JlZGVudGlhbCk7XG4gICAgICAgIHJldHVybiBuZXcgUmFtQ2xpZW50KF9jb25maWcpO1xuICAgIH1cbiAgICBhc3luYyBjcmVhdGVVc2VyKHBheWxvYWQ6IENyZWF0ZVVzZXJQYXlsb2FkKSB7XG5cbiAgICAgICAgY29uc3QgY3JlYXRlVXNlclJlcXVlc3QgPSBuZXcgQ3JlYXRlVXNlclJlcXVlc3QocGF5bG9hZCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY2xpZW50LmNyZWF0ZVVzZXIoY3JlYXRlVXNlclJlcXVlc3QpO1xuICAgIH1cblxuICAgIGFzeW5jIGdldFJvbGUocm9sZU5hbWU6IHN0cmluZykge1xuICAgICAgICBjb25zdCBnZXRSb2xlUmVxdWVzdCA9IG5ldyBHZXRSb2xlUmVxdWVzdCh7XG4gICAgICAgICAgICByb2xlTmFtZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcnVudGltZSA9IG5ldyAkVXRpbC5SdW50aW1lT3B0aW9ucyh7fSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY2xpZW50LmdldFJvbGVXaXRoT3B0aW9ucyhnZXRSb2xlUmVxdWVzdCwgcnVudGltZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuYm9keTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRVc2VyKHVzZXJOYW1lOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZ2V0VXNlclJlcXVlc3QgPSBuZXcgR2V0VXNlclJlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHJ1bnRpbWUgPSBuZXcgJFV0aWwuUnVudGltZU9wdGlvbnMoe30pO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0VXNlcldpdGhPcHRpb25zKGdldFVzZXJSZXF1ZXN0LCBydW50aW1lKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuYm9keTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgZXJyb3I6IGUgfTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgYXN5bmMgZGVsZXRlQWNjZXNzS2V5KHVzZXJOYW1lOiBzdHJpbmcsIHVzZXJBY2Nlc3NLZXlJZDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGRlbGV0ZUFjY2Vzc0tleVJlcXVlc3QgPSBuZXcgRGVsZXRlQWNjZXNzS2V5UmVxdWVzdCh7XG4gICAgICAgICAgICB1c2VyQWNjZXNzS2V5SWQsXG4gICAgICAgICAgICB1c2VyTmFtZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcnVudGltZSA9IG5ldyAkVXRpbC5SdW50aW1lT3B0aW9ucyh7fSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY2xpZW50LmRlbGV0ZUFjY2Vzc0tleVdpdGhPcHRpb25zKGRlbGV0ZUFjY2Vzc0tleVJlcXVlc3QsIHJ1bnRpbWUpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmJvZHk7XG4gICAgfVxuXG4gICAgYXN5bmMgY3JlYXRlQWNjZXNzS2V5KHVzZXJOYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgY3JlYXRlQWNjZXNzS2V5UmVxdWVzdCA9IG5ldyBDcmVhdGVBY2Nlc3NLZXlSZXF1ZXN0KHtcbiAgICAgICAgICAgIHVzZXJOYW1lXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNsaWVudC5jcmVhdGVBY2Nlc3NLZXkoY3JlYXRlQWNjZXNzS2V5UmVxdWVzdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQuYm9keTtcblxuICAgIH1cblxuICAgIGFzeW5jIGxpc3RBY2Nlc3NLZXlzKHVzZXJOYW1lOiBzdHJpbmcpOiBQcm9taXNlPFtdPiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0QWNjZXNzS2V5c1JlcXVlc3QgPSBuZXcgTGlzdEFjY2Vzc0tleXNSZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICB1c2VyTmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBydW50aW1lID0gbmV3ICRVdGlsLlJ1bnRpbWVPcHRpb25zKHt9KTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogYW55ID0gYXdhaXQgdGhpcy5jbGllbnQubGlzdEFjY2Vzc0tleXNXaXRoT3B0aW9ucyhsaXN0QWNjZXNzS2V5c1JlcXVlc3QsIHJ1bnRpbWUpOyAvL3NkayDlrprkuYnnmoTmmK/lpKfpqbzls7DvvIznhLbogIzlrp7pmYXov5Tlm57nmoTmmK/lsI/pqbzls7BcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuYm9keT8uYWNjZXNzS2V5cy5hY2Nlc3NLZXk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgYXN5bmMgY3JlYXRlUm9sZShwYXlsb2FkOiBDcmVhdGVSb2xlUGF5bG9hZCkge1xuICAgICAgICBjb25zdCBjcmVhdGVSb2xlUmVxdWVzdCA9IG5ldyBDcmVhdGVSb2xlUmVxdWVzdChwYXlsb2FkKTtcbiAgICAgICAgY29uc3QgcnVudGltZSA9IG5ldyAkVXRpbC5SdW50aW1lT3B0aW9ucyh7fSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY2xpZW50LmNyZWF0ZVJvbGVXaXRoT3B0aW9ucyhjcmVhdGVSb2xlUmVxdWVzdCwgcnVudGltZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuYm9keTtcbiAgICB9XG5cblxuICAgIGFzeW5jIGF0dGFjdFJvbGVQb2xpY3kocGF5bG9hZDogYW55KSB7XG4gICAgICAgIGNvbnN0IGF0dGFjaFBvbGljeVRvUm9sZVJlcXVlc3QgPSBuZXcgQXR0YWNoUG9saWN5VG9Sb2xlUmVxdWVzdChwYXlsb2FkKTtcbiAgICAgICAgY29uc3QgcnVudGltZSA9IG5ldyAkVXRpbC5SdW50aW1lT3B0aW9ucztcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jbGllbnQuYXR0YWNoUG9saWN5VG9Sb2xlV2l0aE9wdGlvbnMoYXR0YWNoUG9saWN5VG9Sb2xlUmVxdWVzdCwgcnVudGltZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuYm9keTtcbiAgICB9XG5cbiAgICBhc3luYyBhdHRhY2hQb2xpY3lUb1VzZXIocGF5bG9hZDogYW55KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBhdHRhY2hQb2xpY3lUb1VzZXJSZXF1ZXN0ID0gbmV3IEF0dGFjaFBvbGljeVRvVXNlclJlcXVlc3QocGF5bG9hZCk7XG4gICAgICAgICAgICBjb25zdCBydW50aW1lID0gbmV3ICRVdGlsLlJ1bnRpbWVPcHRpb25zKHt9KTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY2xpZW50LmF0dGFjaFBvbGljeVRvVXNlcldpdGhPcHRpb25zKGF0dGFjaFBvbGljeVRvVXNlclJlcXVlc3QsIHJ1bnRpbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5ib2R5O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4geyBlcnJvcjogZSB9O1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBhc3luYyBkZXRhY2hQb2xpY3lGcm9tVXNlcihwYXlsb2FkOmFueSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGV0YWNoUG9saWN5RnJvbVVzZXJSZXF1ZXN0ID0gbmV3IERldGFjaFBvbGljeUZyb21Vc2VyUmVxdWVzdChwYXlsb2FkKTtcbiAgICAgICAgICAgIGNvbnN0IHJ1bnRpbWUgPSBuZXcgJFV0aWwuUnVudGltZU9wdGlvbnMoe30pO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jbGllbnQuZGV0YWNoUG9saWN5RnJvbVVzZXJXaXRoT3B0aW9ucyhkZXRhY2hQb2xpY3lGcm9tVXNlclJlcXVlc3QsIHJ1bnRpbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5ib2R5O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4geyBlcnJvcjogZSB9O1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGVQb2xpY3kocGF5bG9hZDphbnkpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlUG9saWN5UmVxdWVzdCA9IG5ldyBDcmVhdGVQb2xpY3lSZXF1ZXN0KHBheWxvYWQpO1xuICAgICAgICAgICAgY29uc3QgcnVudGltZSA9IG5ldyAkVXRpbC5SdW50aW1lT3B0aW9ucyh7fSk7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQuY3JlYXRlUG9saWN5V2l0aE9wdGlvbnMoY3JlYXRlUG9saWN5UmVxdWVzdCwgcnVudGltZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZXJyb3I6IGVcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiJdLCJuYW1lcyI6WyIkT3BlbkFwaSIsIiRVdGlsIiwiQ3JlYXRlVXNlclJlcXVlc3QiLCJDcmVhdGVQb2xpY3lSZXF1ZXN0IiwiQ3JlYXRlQWNjZXNzS2V5UmVxdWVzdCIsIkNyZWF0ZVJvbGVSZXF1ZXN0IiwiQXR0YWNoUG9saWN5VG9Vc2VyUmVxdWVzdCIsIkdldFVzZXJSZXF1ZXN0IiwiRGVsZXRlQWNjZXNzS2V5UmVxdWVzdCIsIkdldFJvbGVSZXF1ZXN0IiwiQXR0YWNoUG9saWN5VG9Sb2xlUmVxdWVzdCIsIkRldGFjaFBvbGljeUZyb21Vc2VyUmVxdWVzdCIsIkxpc3RBY2Nlc3NLZXlzUmVxdWVzdCIsIlJhbUNsaWVudCIsIlNlcnZlcmxlc3NCcmlkZ2VSYW0iLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImNsaWVudCIsImNyZWF0ZVJhbWVDbGllbnQiLCJjcmVkZW50aWFsIiwiYWNjZXNzS2V5SWQiLCJwcm9jZXNzIiwiZW52IiwiQUsiLCJhY2Nlc3NLZXlTZWNyZXQiLCJTSyIsImVuZHBvaW50IiwiX2NvbmZpZyIsIkNvbmZpZyIsImNyZWF0ZVVzZXIiLCJwYXlsb2FkIiwiY3JlYXRlVXNlclJlcXVlc3QiLCJyZXN1bHQiLCJnZXRSb2xlIiwicm9sZU5hbWUiLCJnZXRSb2xlUmVxdWVzdCIsInJ1bnRpbWUiLCJSdW50aW1lT3B0aW9ucyIsImdldFJvbGVXaXRoT3B0aW9ucyIsImJvZHkiLCJnZXRVc2VyIiwidXNlck5hbWUiLCJnZXRVc2VyUmVxdWVzdCIsImdldFVzZXJXaXRoT3B0aW9ucyIsImUiLCJlcnJvciIsImRlbGV0ZUFjY2Vzc0tleSIsInVzZXJBY2Nlc3NLZXlJZCIsImRlbGV0ZUFjY2Vzc0tleVJlcXVlc3QiLCJkZWxldGVBY2Nlc3NLZXlXaXRoT3B0aW9ucyIsImNyZWF0ZUFjY2Vzc0tleSIsImNyZWF0ZUFjY2Vzc0tleVJlcXVlc3QiLCJsaXN0QWNjZXNzS2V5cyIsImxpc3RBY2Nlc3NLZXlzUmVxdWVzdCIsImxpc3RBY2Nlc3NLZXlzV2l0aE9wdGlvbnMiLCJhY2Nlc3NLZXlzIiwiYWNjZXNzS2V5IiwiY3JlYXRlUm9sZSIsImNyZWF0ZVJvbGVSZXF1ZXN0IiwiY3JlYXRlUm9sZVdpdGhPcHRpb25zIiwiYXR0YWN0Um9sZVBvbGljeSIsImF0dGFjaFBvbGljeVRvUm9sZVJlcXVlc3QiLCJhdHRhY2hQb2xpY3lUb1JvbGVXaXRoT3B0aW9ucyIsImF0dGFjaFBvbGljeVRvVXNlciIsImF0dGFjaFBvbGljeVRvVXNlclJlcXVlc3QiLCJhdHRhY2hQb2xpY3lUb1VzZXJXaXRoT3B0aW9ucyIsImRldGFjaFBvbGljeUZyb21Vc2VyIiwiZGV0YWNoUG9saWN5RnJvbVVzZXJSZXF1ZXN0IiwiZGV0YWNoUG9saWN5RnJvbVVzZXJXaXRoT3B0aW9ucyIsImNyZWF0ZVBvbGljeSIsImNyZWF0ZVBvbGljeVJlcXVlc3QiLCJjcmVhdGVQb2xpY3lXaXRoT3B0aW9ucyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/ram/index.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/ram/ramClient.ts":
/*!********************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/ram/ramClient.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RamClient)\n/* harmony export */ });\n/* harmony import */ var _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/ram20150501 */ \"@alicloud/ram20150501\");\n/* harmony import */ var _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_0__);\n\nclass RamClient extends (_alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_0___default()) {\n    constructor(config){\n        super(config);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9yYW0vcmFtQ2xpZW50LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUN3QztBQUl6QixNQUFNQyxrQkFBa0JELDhEQUFHQTtJQUN0Q0UsWUFBWUMsTUFBdUIsQ0FBRTtRQUNqQyxLQUFLLENBQUNBO0lBQ1Y7QUFFSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWdlbnRjcmFmdC11aS8uL2luZnJhL2FsaWJhYmEtY2xvdWQvb3Blbi1hcGlzL3JhbS9yYW1DbGllbnQudHM/ZWNlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBSYW0gZnJvbSAnQGFsaWNsb3VkL3JhbTIwMTUwNTAxJztcbmltcG9ydCAqIGFzICRPcGVuQXBpIGZyb20gJ0BhbGljbG91ZC9vcGVuYXBpLWNsaWVudCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmFtQ2xpZW50IGV4dGVuZHMgUmFtIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6ICRPcGVuQXBpLkNvbmZpZykge1xuICAgICAgICBzdXBlcihjb25maWcpO1xuICAgIH1cbiBcbn1cblxuIl0sIm5hbWVzIjpbIlJhbSIsIlJhbUNsaWVudCIsImNvbnN0cnVjdG9yIiwiY29uZmlnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/ram/ramClient.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/sts/index.ts":
/*!****************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/sts/index.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ServerlessBridgeSts\": () => (/* binding */ ServerlessBridgeSts)\n/* harmony export */ });\n/* harmony import */ var _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/openapi-client */ \"@alicloud/openapi-client\");\n/* harmony import */ var _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @alicloud/sts20150401 */ \"@alicloud/sts20150401\");\n/* harmony import */ var _alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _stsClient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stsClient */ \"(api)/./infra/alibaba-cloud/open-apis/sts/stsClient.ts\");\n\n\n\nclass ServerlessBridgeSts {\n    constructor(config){\n        this.client = this.createStsClient(config);\n    }\n    createStsClient(config) {\n        const credential = config ?? {\n            accessKeyId: process.env.AK,\n            accessKeySecret: process.env.SK\n        };\n        credential.endpoint = `sts.${process.env.Region}.aliyuncs.com`;\n        const _config = new _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__.Config(credential);\n        return new _stsClient__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_config);\n    }\n    async assumeRole(payload) {\n        payload.roleArn = \"\"; //`acs:ram::${FC_CONSOLE_ACCOUNTID}:role/${process.env.FcConsoleAssumeRoleName}`;\n        const assumeRoleRequest = new _alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_1__.AssumeRoleRequest(payload);\n        const result = await this.client.assumeRole(assumeRoleRequest);\n        return result.body;\n    }\n    async getCallerIdentity() {\n        return await this.client.getCallerIdentity();\n    }\n    async assumeRoleWithSAML() {}\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9zdHMvaW5kZXgudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ3FEO0FBQ0s7QUFFdEI7QUF5QjdCLE1BQU1HO0lBRVRDLFlBQVlDLE1BQXNCLENBQUU7UUFDaEMsSUFBSSxDQUFDQyxNQUFNLEdBQUcsSUFBSSxDQUFDQyxlQUFlLENBQUNGO0lBQ3ZDO0lBQ0FFLGdCQUFnQkYsTUFBc0IsRUFBRTtRQUNwQyxNQUFNRyxhQUFhSCxVQUFVO1lBQ3pCSSxhQUFhQyxRQUFRQyxHQUFHLENBQUNDLEVBQUU7WUFDM0JDLGlCQUFpQkgsUUFBUUMsR0FBRyxDQUFDRyxFQUFFO1FBQ25DO1FBQ0FOLFdBQVdPLFFBQVEsR0FBRyxDQUFDLElBQUksRUFBRUwsUUFBUUMsR0FBRyxDQUFDSyxNQUFNLENBQUMsYUFBYSxDQUFDO1FBQzlELE1BQU1DLFVBQVUsSUFBSWpCLDREQUFlLENBQUNRO1FBQ3BDLE9BQU8sSUFBSU4sa0RBQVNBLENBQUNlO0lBQ3pCO0lBQ0EsTUFBTUUsV0FBV0MsT0FBaUMsRUFBRTtRQUNoREEsUUFBUUMsT0FBTyxHQUFHLElBQUcsaUZBQWlGO1FBQ3RHLE1BQU1DLG9CQUFvQixJQUFJckIsb0VBQWlCQSxDQUFDbUI7UUFDaEQsTUFBTUcsU0FBVSxNQUFNLElBQUksQ0FBQ2pCLE1BQU0sQ0FBQ2EsVUFBVSxDQUFDRztRQUM3QyxPQUFPQyxPQUFPQyxJQUFJO0lBRXRCO0lBQ0EsTUFBTUMsb0JBQW9CO1FBQ3RCLE9BQU8sTUFBTSxJQUFJLENBQUNuQixNQUFNLENBQUNtQixpQkFBaUI7SUFDOUM7SUFDQSxNQUFNQyxxQkFBcUIsQ0FFM0I7QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWdlbnRjcmFmdC11aS8uL2luZnJhL2FsaWJhYmEtY2xvdWQvb3Blbi1hcGlzL3N0cy9pbmRleC50cz85OTUzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0ICogYXMgJE9wZW5BcGkgZnJvbSAnQGFsaWNsb3VkL29wZW5hcGktY2xpZW50JztcbmltcG9ydCB7IEFzc3VtZVJvbGVSZXF1ZXN0IH0gZnJvbSAnQGFsaWNsb3VkL3N0czIwMTUwNDAxJztcblxuaW1wb3J0IFN0c0NsaWVudCBmcm9tIFwiLi9zdHNDbGllbnRcIjtcblxuaW1wb3J0IHsgT3BlbkFwaUNvbmZpZyB9IGZyb20gJy4uL3R5cGVzJztcblxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQXNzdW1lUm9sZVJlcXVlc3RQYXlsb2FkIHtcbiAgICBkdXJhdGlvblNlY29uZHM/OiBudW1iZXIsXG4gICAgcG9saWN5Pzogc3RyaW5nLFxuICAgIHJvbGVBcm46IHN0cmluZyxcbiAgICByb2xlU2Vzc2lvbk5hbWU6IHN0cmluZyxcbiAgICBleHRlcm5hbElkPzogc3RyaW5nXG5cbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIEFzc3VtZVJvbGVSZXNwb25zZSB7XG4gICAgRHVyYXRpb25TZWNvbmRzPzogbnVtYmVyLFxuICAgIFBvbGljeT86IHN0cmluZyxcbiAgICBSb2xlQXJuOiBzdHJpbmcsXG4gICAgUm9sZVNlc3Npb25OYW1lOiBzdHJpbmcsXG4gICAgRXh0ZXJuYWxJZD86IHN0cmluZ1xuXG59XG5cbmV4cG9ydCBjbGFzcyBTZXJ2ZXJsZXNzQnJpZGdlU3RzIHtcbiAgICBjbGllbnQ7XG4gICAgY29uc3RydWN0b3IoY29uZmlnPzogT3BlbkFwaUNvbmZpZykge1xuICAgICAgICB0aGlzLmNsaWVudCA9IHRoaXMuY3JlYXRlU3RzQ2xpZW50KGNvbmZpZyk7XG4gICAgfVxuICAgIGNyZWF0ZVN0c0NsaWVudChjb25maWc/OiBPcGVuQXBpQ29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWwgPSBjb25maWcgPz8ge1xuICAgICAgICAgICAgYWNjZXNzS2V5SWQ6IHByb2Nlc3MuZW52LkFLLFxuICAgICAgICAgICAgYWNjZXNzS2V5U2VjcmV0OiBwcm9jZXNzLmVudi5TSyxcbiAgICAgICAgfVxuICAgICAgICBjcmVkZW50aWFsLmVuZHBvaW50ID0gYHN0cy4ke3Byb2Nlc3MuZW52LlJlZ2lvbn0uYWxpeXVuY3MuY29tYDtcbiAgICAgICAgY29uc3QgX2NvbmZpZyA9IG5ldyAkT3BlbkFwaS5Db25maWcoY3JlZGVudGlhbCk7XG4gICAgICAgIHJldHVybiBuZXcgU3RzQ2xpZW50KF9jb25maWcpO1xuICAgIH1cbiAgICBhc3luYyBhc3N1bWVSb2xlKHBheWxvYWQ6IEFzc3VtZVJvbGVSZXF1ZXN0UGF5bG9hZCkge1xuICAgICAgICBwYXlsb2FkLnJvbGVBcm4gPSAnJzsvL2BhY3M6cmFtOjoke0ZDX0NPTlNPTEVfQUNDT1VOVElEfTpyb2xlLyR7cHJvY2Vzcy5lbnYuRmNDb25zb2xlQXNzdW1lUm9sZU5hbWV9YDtcbiAgICAgICAgY29uc3QgYXNzdW1lUm9sZVJlcXVlc3QgPSBuZXcgQXNzdW1lUm9sZVJlcXVlc3QocGF5bG9hZCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9ICBhd2FpdCB0aGlzLmNsaWVudC5hc3N1bWVSb2xlKGFzc3VtZVJvbGVSZXF1ZXN0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5ib2R5O1xuXG4gICAgfVxuICAgIGFzeW5jIGdldENhbGxlcklkZW50aXR5KCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQuZ2V0Q2FsbGVySWRlbnRpdHkoKTtcbiAgICB9XG4gICAgYXN5bmMgYXNzdW1lUm9sZVdpdGhTQU1MKCkge1xuXG4gICAgfVxufVxuXG4iXSwibmFtZXMiOlsiJE9wZW5BcGkiLCJBc3N1bWVSb2xlUmVxdWVzdCIsIlN0c0NsaWVudCIsIlNlcnZlcmxlc3NCcmlkZ2VTdHMiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImNsaWVudCIsImNyZWF0ZVN0c0NsaWVudCIsImNyZWRlbnRpYWwiLCJhY2Nlc3NLZXlJZCIsInByb2Nlc3MiLCJlbnYiLCJBSyIsImFjY2Vzc0tleVNlY3JldCIsIlNLIiwiZW5kcG9pbnQiLCJSZWdpb24iLCJfY29uZmlnIiwiQ29uZmlnIiwiYXNzdW1lUm9sZSIsInBheWxvYWQiLCJyb2xlQXJuIiwiYXNzdW1lUm9sZVJlcXVlc3QiLCJyZXN1bHQiLCJib2R5IiwiZ2V0Q2FsbGVySWRlbnRpdHkiLCJhc3N1bWVSb2xlV2l0aFNBTUwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/sts/index.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/sts/stsClient.ts":
/*!********************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/sts/stsClient.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ StsClient)\n/* harmony export */ });\n/* harmony import */ var _alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/sts20150401 */ \"@alicloud/sts20150401\");\n/* harmony import */ var _alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_0__);\n\nclass StsClient extends (_alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_0___default()) {\n    constructor(config){\n        super(config);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9zdHMvc3RzQ2xpZW50LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUN3QztBQUl6QixNQUFNQyxrQkFBa0JELDhEQUFHQTtJQUN0Q0UsWUFBWUMsTUFBdUIsQ0FBRTtRQUNqQyxLQUFLLENBQUNBO0lBQ1Y7QUFFSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWdlbnRjcmFmdC11aS8uL2luZnJhL2FsaWJhYmEtY2xvdWQvb3Blbi1hcGlzL3N0cy9zdHNDbGllbnQudHM/MjZiOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBTdHMgZnJvbSAnQGFsaWNsb3VkL3N0czIwMTUwNDAxJztcbmltcG9ydCAqIGFzICRPcGVuQXBpIGZyb20gJ0BhbGljbG91ZC9vcGVuYXBpLWNsaWVudCc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RzQ2xpZW50IGV4dGVuZHMgU3RzIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6ICRPcGVuQXBpLkNvbmZpZykge1xuICAgICAgICBzdXBlcihjb25maWcpO1xuICAgIH1cbiBcbn1cblxuIl0sIm5hbWVzIjpbIlN0cyIsIlN0c0NsaWVudCIsImNvbnN0cnVjdG9yIiwiY29uZmlnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/sts/stsClient.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/services/serverless-app.ts":
/*!********************************************************!*\
  !*** ./infra/alibaba-cloud/services/serverless-app.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ServerlessBridgeService\": () => (/* binding */ ServerlessBridgeService)\n/* harmony export */ });\n/* harmony import */ var _infra_alibaba_cloud_open_apis_fc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/infra/alibaba-cloud/open-apis/fc */ \"(api)/./infra/alibaba-cloud/open-apis/fc/index.ts\");\n/* harmony import */ var _infra_alibaba_cloud_open_apis_ram__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/infra/alibaba-cloud/open-apis/ram */ \"(api)/./infra/alibaba-cloud/open-apis/ram/index.ts\");\n/* harmony import */ var _infra_alibaba_cloud_open_apis_sts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/infra/alibaba-cloud/open-apis/sts */ \"(api)/./infra/alibaba-cloud/open-apis/sts/index.ts\");\n/* harmony import */ var _constants_cloud_resources__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/constants/cloud-resources */ \"(api)/./constants/cloud-resources.ts\");\n\n\n\n\nclass ServerlessBridgeService {\n    constructor(config){\n        this.config = config;\n        this.serverlessBridgeRam = new _infra_alibaba_cloud_open_apis_ram__WEBPACK_IMPORTED_MODULE_1__.ServerlessBridgeRam(config);\n        this.serverlessBridgeSts = new _infra_alibaba_cloud_open_apis_sts__WEBPACK_IMPORTED_MODULE_2__.ServerlessBridgeSts(config);\n        this.serverlessBridgeServerlessDevs = new _infra_alibaba_cloud_open_apis_fc__WEBPACK_IMPORTED_MODULE_0__.ServerlessBridgeServerlessDevs(config);\n    }\n    getServerlessBridgeRam() {\n        return this.serverlessBridgeRam;\n    }\n    getServerlessBridgeSts() {\n        return this.serverlessBridgeSts;\n    }\n    getServerlessBridgeFc(accountId, config) {\n        return new _infra_alibaba_cloud_open_apis_fc__WEBPACK_IMPORTED_MODULE_0__.ServerlessBridgeFc(accountId, config);\n    }\n    getServerlessBridgeServerlessDevs() {\n        return this.serverlessBridgeServerlessDevs;\n    }\n    getServerlessSubBridgeServerlessDevs(config) {\n        return new _infra_alibaba_cloud_open_apis_fc__WEBPACK_IMPORTED_MODULE_0__.ServerlessBridgeServerlessDevs(config);\n    }\n    /**\n   * 获取当前主账号角色\n   * @returns \n   */ async getMainOrCreateAccountRole() {\n        try {\n            const serverlessBridgeRam = this.getServerlessBridgeRam();\n            const roleInfo = await serverlessBridgeRam.getRole(_constants_cloud_resources__WEBPACK_IMPORTED_MODULE_3__.FC_DEFAULT_ROLE_NAME);\n            return roleInfo;\n        } catch (e) {\n            await this.createServerlessDevsRoleAndAttactPolicy();\n        }\n    }\n    /**\n   * 创建serverlessdevs 默认角色 AliyunFCServerlessDevsRole, 然后给这个角色授予权限\n   */ async createServerlessDevsRoleAndAttactPolicy() {\n        const serverlessBridgeRam = this.getServerlessBridgeRam();\n        await serverlessBridgeRam.createRole({\n            roleName: _constants_cloud_resources__WEBPACK_IMPORTED_MODULE_3__.FC_DEFAULT_ROLE_NAME,\n            description: \"created by serverless bridge\",\n            assumeRolePolicyDocument: _constants_cloud_resources__WEBPACK_IMPORTED_MODULE_3__.ASSUME_ROLE_POLICY_DOCUMENT\n        });\n        for (const policyName of _constants_cloud_resources__WEBPACK_IMPORTED_MODULE_3__.SERVERLESS_DEVS_POLICIES){\n            await serverlessBridgeRam.attactRolePolicy({\n                policyType: \"System\",\n                policyName,\n                roleName: _constants_cloud_resources__WEBPACK_IMPORTED_MODULE_3__.FC_DEFAULT_ROLE_NAME\n            });\n        }\n    }\n    /**\n   * 授权子账号需要的Serverless 权限策略\n   * @param userName \n   */ async attachServerlessDevsPolicyToUser(userName) {\n        try {\n            const serverlessBridgeRam = this.getServerlessBridgeRam();\n            const roleAttachResult = {};\n            roleAttachResult[\"AliyunRAMFullAccess\"] = await serverlessBridgeRam.attachPolicyToUser({\n                policyType: \"System\",\n                policyName: \"AliyunRAMFullAccess\",\n                userName\n            });\n            roleAttachResult[\"AliyunSTSAssumeRoleAccess\"] = await serverlessBridgeRam.attachPolicyToUser({\n                policyType: \"System\",\n                policyName: \"AliyunSTSAssumeRoleAccess\",\n                userName\n            });\n            roleAttachResult[\"AliyunFCDefaultRolePolicy\"] = await serverlessBridgeRam.attachPolicyToUser({\n                policyType: \"System\",\n                policyName: \"AliyunFCDefaultRolePolicy\",\n                userName\n            });\n            roleAttachResult[\"AliyunFCServerlessDevsRolePolicy\"] = await serverlessBridgeRam.attachPolicyToUser({\n                policyType: \"System\",\n                policyName: \"AliyunFCServerlessDevsRolePolicy\",\n                userName\n            });\n            roleAttachResult[\"AliyunFCFullAccess\"] = await serverlessBridgeRam.attachPolicyToUser({\n                policyType: \"System\",\n                policyName: \"AliyunFCFullAccess\",\n                userName\n            });\n            roleAttachResult[\"AliyunVPCFullAccess\"] = await serverlessBridgeRam.attachPolicyToUser({\n                policyType: \"System\",\n                policyName: \"AliyunVPCFullAccess\",\n                userName\n            });\n            roleAttachResult[\"AliyunNASFullAccess\"] = await serverlessBridgeRam.attachPolicyToUser({\n                policyType: \"System\",\n                policyName: \"AliyunNASFullAccess\",\n                userName\n            });\n            // for (const policyName of SERVERLESS_DEVS_POLICIES) {\n            //   roleAttachResult[policyName] = await serverlessBridgeRam.attachPolicyToUser({ policyType: 'System', policyName, userName });\n            // }\n            return roleAttachResult;\n        } catch (e) {\n            throw e;\n        }\n    }\n    async reAttachSubAccountPolicy(userName, region) {\n        const policyDocument = `{\n      \"Version\": \"1\",\n      \"Statement\": [\n        {\n          \"Action\": \"ram:ListPoliciesForUser\",\n          \"Effect\": \"Allow\",\n          \"Resource\": \"*\"\n        },\n        {\n          \"Action\": [\n            \"fc:GetService\",\n            \"fc:ListServices\",\n            \"fc:GetResourceTags\"\n          ],\n          \"Effect\": \"Allow\",\n          \"Resource\": \"acs:fc:${region}:*:services/${userName}-service*\"\n        },\n        {\n          \"Action\": \"fc:ListFunctions\",\n          \"Effect\": \"Allow\",\n          \"Resource\": \"acs:fc:${region}:*:services/${userName}-service*/functions/*\"\n        },\n        {\n          \"Action\": [\n            \"fc:ListInstances\",\n            \"fc:UpdateFunction\",\n            \"fc:GetFunction\",\n            \"fc:GetFunctionCode\",\n            \"fc:ListFunctions\",\n            \"fc:InvokeFunction\",\n            \"fc:GrantTempCodeBucketPermission\"\n          ],\n          \"Effect\": \"Allow\",\n          \"Resource\": \"acs:fc:${region}:*:services/${userName}-service*/functions/*\"\n        }\n      ]\n    }`;\n        const policyName = `${userName}-customer-policy`;\n        await this.serverlessBridgeRam.createPolicy({\n            policyName: `${userName}-customer-policy`,\n            description: \"created by serverless-bridge dont remove\",\n            policyDocument\n        });\n        return await this.serverlessBridgeRam.attachPolicyToUser({\n            policyType: \"Custom\",\n            policyName,\n            userName\n        }); // 将专属策略attach到该子账号\n    }\n    /**\n   * 移除子账号的权限策略，防止子账号操作函数\n   * @param userName \n   */ async detachServerlessDevsPolicyFromUser(userName) {\n        const serverlessBridgeRam = this.getServerlessBridgeRam();\n        await serverlessBridgeRam.detachPolicyFromUser({\n            policyType: \"System\",\n            policyName: \"AliyunRAMFullAccess\",\n            userName\n        });\n        await serverlessBridgeRam.detachPolicyFromUser({\n            policyType: \"System\",\n            policyName: \"AliyunSTSAssumeRoleAccess\",\n            userName\n        });\n        await serverlessBridgeRam.detachPolicyFromUser({\n            policyType: \"System\",\n            policyName: \"AliyunFCDefaultRolePolicy\",\n            userName\n        });\n        await serverlessBridgeRam.detachPolicyFromUser({\n            policyType: \"System\",\n            policyName: \"AliyunFCServerlessDevsRolePolicy\",\n            userName\n        });\n        await serverlessBridgeRam.detachPolicyFromUser({\n            policyType: \"System\",\n            policyName: \"AliyunFCFullAccess\",\n            userName\n        });\n        await serverlessBridgeRam.detachPolicyFromUser({\n            policyType: \"System\",\n            policyName: \"AliyunVPCFullAccess\",\n            userName\n        });\n        await serverlessBridgeRam.detachPolicyFromUser({\n            policyType: \"System\",\n            policyName: \"AliyunNASFullAccess\",\n            userName\n        });\n    // for (const policyName of SERVERLESS_DEVS_POLICIES) {\n    //   await serverlessBridgeRam.detachPolicyFromUser({ policyType: 'System', policyName, userName });\n    // }\n    }\n    /**\n   * 删除子账号的ak, sk, 现在子账号的ak,sk 上限是2个\n   * @param userAccessKeyId \n   */ async deleteSubAccountAccessKey(userName, userAccessKeyId) {\n        try {\n            const serverlessBridgeRam = this.getServerlessBridgeRam();\n            const deleteSubAccountAkInfo = await serverlessBridgeRam.deleteAccessKey(userName, userAccessKeyId);\n            return deleteSubAccountAkInfo;\n        } catch (e) {\n            throw e;\n        }\n    }\n    /**\n   * 创建子账号的 ak,sk\n   * @param userName \n   * @returns \n   */ async createSubAccountAccessKey(userName) {\n        try {\n            const serverlessBridgeRam = this.getServerlessBridgeRam();\n            const currentAks = await serverlessBridgeRam.listAccessKeys(userName);\n            if (currentAks.length === 2) {\n                const currentAccessKeyId = currentAks[0].accessKeyId;\n                await serverlessBridgeRam.deleteAccessKey(userName, currentAccessKeyId);\n            }\n            const subAccountCredential = await serverlessBridgeRam.createAccessKey(userName);\n            return subAccountCredential;\n        } catch (e) {\n            throw e;\n        }\n    }\n    /**\n   * 查询以及创建子账号\n   * @param userName \n   * @returns \n   */ async getOrCreateSubAccount(userName) {\n        try {\n            const serverlessBridgeRam = this.getServerlessBridgeRam();\n            let accountInfo = await serverlessBridgeRam.getUser(userName);\n            if (accountInfo.error) {\n                accountInfo = await serverlessBridgeRam.createUser({\n                    userName\n                });\n            }\n            return accountInfo;\n        } catch (e) {\n            throw e;\n        }\n    }\n    /**\n   * 子账号创建应用\n   * @param accessKeyId \n   * @param accessKeySecret \n   * @param appPayload \n   * @returns \n   */ async createSubAccountApplication(accessKeyId, accessKeySecret, appPayload) {\n        try {\n            const serverlessDevsClient = this.getServerlessSubBridgeServerlessDevs({\n                accessKeyId,\n                accessKeySecret\n            });\n            const createAppResult = await serverlessDevsClient.createApplication(appPayload);\n            return createAppResult;\n        } catch (e) {\n            throw e;\n        }\n    }\n    /**\n   * 删除应用\n   * @param appName \n   * @returns \n   */ async deleteApplication(appName) {\n        const serverlessDevsClient = this.getServerlessBridgeServerlessDevs();\n        return await serverlessDevsClient.deleteApplication(appName);\n    }\n    async createMainAccountApplication(payload) {\n        const serverlessDevsClient = this.getServerlessBridgeServerlessDevs();\n        return await serverlessDevsClient.createApplication(payload);\n    }\n    /**\n   * 查询应用信息\n   * @param appName \n   * @returns \n   */ async getApplication(appName) {\n        const serverlessDevsClient = this.getServerlessBridgeServerlessDevs();\n        return await serverlessDevsClient.getApplication(appName);\n    }\n    /**\n   * 查询所有应用信息\n   * @param appName \n   * @returns \n   */ async listApplications() {\n        const serverlessDevsClient = this.getServerlessBridgeServerlessDevs();\n        return await serverlessDevsClient.listApplications();\n    }\n    /**\n   * 子账号授信fc-console权限\n   * @param payload \n   * @param credentials \n   * @returns \n   */ async subAccountAssumeRole(payload) {\n        const stsClient = this.getServerlessBridgeSts();\n        return await stsClient.assumeRole(payload);\n    }\n    /**\n   * \n   * @param accountId 函数执行主账号id\n   * @param stsConfig assumeRole后的credential \n   * @param fcInvokeData 执行函数的数据包括服务和函数\n   * @param payload 执行函数的请求数据\n   * @returns \n   */ async invokeFunction(accountId, stsConfig, fcInvokeData, payload) {\n        const fcClient = this.getServerlessBridgeFc(accountId, stsConfig);\n        return await fcClient.invokeFunction(fcInvokeData, payload);\n    }\n    /**\n   * 查询函数列表\n   * @param stsConfig \n   * @param payload \n   * @returns \n   */ async listFunctions(accountId, stsConfig, payload) {\n        const fcClient = this.getServerlessBridgeFc(accountId, stsConfig);\n        return await fcClient.listFunctions(payload);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL3NlcnZpY2VzL3NlcnZlcmxlc3MtYXBwLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ3dHO0FBQzlCO0FBQ0E7QUFDK0M7QUFHbEgsTUFBTU87SUFLWEMsWUFBWUMsTUFBc0IsQ0FBRTtRQUNsQyxJQUFJLENBQUNBLE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUNDLG1CQUFtQixHQUFHLElBQUlSLG1GQUFtQkEsQ0FBQ087UUFDbkQsSUFBSSxDQUFDRSxtQkFBbUIsR0FBRyxJQUFJUixtRkFBbUJBLENBQUNNO1FBQ25ELElBQUksQ0FBQ0csOEJBQThCLEdBQUcsSUFBSVgsNkZBQThCQSxDQUFDUTtJQUMzRTtJQUNBSSx5QkFBOEM7UUFDNUMsT0FBTyxJQUFJLENBQUNILG1CQUFtQjtJQUNqQztJQUVBSSx5QkFBOEM7UUFDNUMsT0FBTyxJQUFJLENBQUNILG1CQUFtQjtJQUNqQztJQUVBSSxzQkFBc0JDLFNBQWlCLEVBQUVQLE1BQXNCLEVBQXNCO1FBQ25GLE9BQU8sSUFBSVQsaUZBQWtCQSxDQUFDZ0IsV0FBV1A7SUFDM0M7SUFFQVEsb0NBQW9FO1FBQ2xFLE9BQU8sSUFBSSxDQUFDTCw4QkFBOEI7SUFDNUM7SUFHQU0scUNBQXFDVCxNQUFzQixFQUFrQztRQUUzRixPQUFPLElBQUlSLDZGQUE4QkEsQ0FBQ1E7SUFDNUM7SUFFQTs7O0dBR0MsR0FDRCxNQUFNVSw2QkFBMkM7UUFDL0MsSUFBSTtZQUNGLE1BQU1ULHNCQUFzQixJQUFJLENBQUNHLHNCQUFzQjtZQUN2RCxNQUFNTyxXQUFXLE1BQU1WLG9CQUFvQlcsT0FBTyxDQUFDakIsNEVBQW9CQTtZQUV2RSxPQUFPZ0I7UUFDVCxFQUFFLE9BQU9FLEdBQUc7WUFFVixNQUFNLElBQUksQ0FBQ0MsdUNBQXVDO1FBQ3BEO0lBRUY7SUFFQTs7R0FFQyxHQUNELE1BQU1BLDBDQUEwQztRQUM5QyxNQUFNYixzQkFBc0IsSUFBSSxDQUFDRyxzQkFBc0I7UUFDdkQs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aUNBQWlDO1FBQ25FLE9BQU8sTUFBTTRDLHFCQUFxQk8sY0FBYyxDQUFDSDtJQUNuRDtJQUVBOzs7O0dBSUMsR0FDRCxNQUFNSSxtQkFBaUM7UUFDckMsTUFBTVIsdUJBQXVCLElBQUksQ0FBQzVDLGlDQUFpQztRQUNuRSxPQUFPLE1BQU00QyxxQkFBcUJRLGdCQUFnQjtJQUNwRDtJQUNBOzs7OztHQUtDLEdBQ0QsTUFBTUMscUJBQXFCSCxPQUFZLEVBQWdCO1FBQ3JELE1BQU1JLFlBQVksSUFBSSxDQUFDekQsc0JBQXNCO1FBQzdDLE9BQU8sTUFBTXlELFVBQVVDLFVBQVUsQ0FBQ0w7SUFDcEM7SUFFQTs7Ozs7OztHQU9DLEdBQ0QsTUFBTU0sZUFBZXpELFNBQWlCLEVBQUUwRCxTQUFjLEVBQUVDLFlBQWlCLEVBQUVSLE9BQVksRUFBZ0I7UUFFckcsTUFBTVMsV0FBVyxJQUFJLENBQUM3RCxxQkFBcUIsQ0FBQ0MsV0FBVzBEO1FBQ3ZELE9BQU8sTUFBTUUsU0FBU0gsY0FBYyxDQUFDRSxjQUFjUjtJQUNyRDtJQUVBOzs7OztHQUtDLEdBQ0QsTUFBTVUsY0FBYzdELFNBQWlCLEVBQUUwRCxTQUFjLEVBQUVQLE9BQVksRUFBZ0I7UUFFakYsTUFBTVMsV0FBVyxJQUFJLENBQUM3RCxxQkFBcUIsQ0FBQ0MsV0FBVzBEO1FBQ3ZELE9BQU8sTUFBTUUsU0FBU0MsYUFBYSxDQUFDVjtJQUN0QztBQUNGLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZ2VudGNyYWZ0LXVpLy4vaW5mcmEvYWxpYmFiYS1jbG91ZC9zZXJ2aWNlcy9zZXJ2ZXJsZXNzLWFwcC50cz9lYTgzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgU2VydmVybGVzc0JyaWRnZUZjLCBTZXJ2ZXJsZXNzQnJpZGdlU2VydmVybGVzc0RldnMgfSBmcm9tICdAL2luZnJhL2FsaWJhYmEtY2xvdWQvb3Blbi1hcGlzL2ZjJztcbmltcG9ydCB7IFNlcnZlcmxlc3NCcmlkZ2VSYW0gfSBmcm9tICdAL2luZnJhL2FsaWJhYmEtY2xvdWQvb3Blbi1hcGlzL3JhbSc7XG5pbXBvcnQgeyBTZXJ2ZXJsZXNzQnJpZGdlU3RzIH0gZnJvbSAnQC9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9zdHMnO1xuaW1wb3J0IHsgRkNfREVGQVVMVF9ST0xFX05BTUUsIEFTU1VNRV9ST0xFX1BPTElDWV9ET0NVTUVOVCwgU0VSVkVSTEVTU19ERVZTX1BPTElDSUVTIH0gZnJvbSAnQC9jb25zdGFudHMvY2xvdWQtcmVzb3VyY2VzJ1xuaW1wb3J0IHsgT3BlbkFwaUNvbmZpZyB9IGZyb20gJ0AvaW5mcmEvYWxpYmFiYS1jbG91ZC9vcGVuLWFwaXMvL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIFNlcnZlcmxlc3NCcmlkZ2VTZXJ2aWNlIHtcbiAgc2VydmVybGVzc0JyaWRnZVJhbTogU2VydmVybGVzc0JyaWRnZVJhbTtcbiAgc2VydmVybGVzc0JyaWRnZVN0czogU2VydmVybGVzc0JyaWRnZVN0cztcbiAgc2VydmVybGVzc0JyaWRnZVNlcnZlcmxlc3NEZXZzOiBTZXJ2ZXJsZXNzQnJpZGdlU2VydmVybGVzc0RldnM7XG4gIGNvbmZpZzogT3BlbkFwaUNvbmZpZyB8IHVuZGVmaW5lZDtcbiAgY29uc3RydWN0b3IoY29uZmlnPzogT3BlbkFwaUNvbmZpZykge1xuICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuc2VydmVybGVzc0JyaWRnZVJhbSA9IG5ldyBTZXJ2ZXJsZXNzQnJpZGdlUmFtKGNvbmZpZyk7XG4gICAgdGhpcy5zZXJ2ZXJsZXNzQnJpZGdlU3RzID0gbmV3IFNlcnZlcmxlc3NCcmlkZ2VTdHMoY29uZmlnKTtcbiAgICB0aGlzLnNlcnZlcmxlc3NCcmlkZ2VTZXJ2ZXJsZXNzRGV2cyA9IG5ldyBTZXJ2ZXJsZXNzQnJpZGdlU2VydmVybGVzc0RldnMoY29uZmlnKTtcbiAgfVxuICBnZXRTZXJ2ZXJsZXNzQnJpZGdlUmFtKCk6IFNlcnZlcmxlc3NCcmlkZ2VSYW0ge1xuICAgIHJldHVybiB0aGlzLnNlcnZlcmxlc3NCcmlkZ2VSYW07XG4gIH1cblxuICBnZXRTZXJ2ZXJsZXNzQnJpZGdlU3RzKCk6IFNlcnZlcmxlc3NCcmlkZ2VTdHMge1xuICAgIHJldHVybiB0aGlzLnNlcnZlcmxlc3NCcmlkZ2VTdHM7XG4gIH1cblxuICBnZXRTZXJ2ZXJsZXNzQnJpZGdlRmMoYWNjb3VudElkOiBzdHJpbmcsIGNvbmZpZz86IE9wZW5BcGlDb25maWcpOiBTZXJ2ZXJsZXNzQnJpZGdlRmMge1xuICAgIHJldHVybiBuZXcgU2VydmVybGVzc0JyaWRnZUZjKGFjY291bnRJZCwgY29uZmlnKTtcbiAgfVxuXG4gIGdldFNlcnZlcmxlc3NCcmlkZ2VTZXJ2ZXJsZXNzRGV2cygpOiBTZXJ2ZXJsZXNzQnJpZGdlU2VydmVybGVzc0RldnMge1xuICAgIHJldHVybiB0aGlzLnNlcnZlcmxlc3NCcmlkZ2VTZXJ2ZXJsZXNzRGV2cztcbiAgfVxuXG5cbiAgZ2V0U2VydmVybGVzc1N1YkJyaWRnZVNlcnZlcmxlc3NEZXZzKGNvbmZpZz86IE9wZW5BcGlDb25maWcpOiBTZXJ2ZXJsZXNzQnJpZGdlU2VydmVybGVzc0RldnMge1xuXG4gICAgcmV0dXJuIG5ldyBTZXJ2ZXJsZXNzQnJpZGdlU2VydmVybGVzc0RldnMoY29uZmlnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDojrflj5blvZPliY3kuLvotKblj7fop5LoibJcbiAgICogQHJldHVybnMgXG4gICAqL1xuICBhc3luYyBnZXRNYWluT3JDcmVhdGVBY2NvdW50Um9sZSgpOiBQcm9taXNlPGFueT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtID0gdGhpcy5nZXRTZXJ2ZXJsZXNzQnJpZGdlUmFtKCk7XG4gICAgICBjb25zdCByb2xlSW5mbyA9IGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uZ2V0Um9sZShGQ19ERUZBVUxUX1JPTEVfTkFNRSk7XG5cbiAgICAgIHJldHVybiByb2xlSW5mbztcbiAgICB9IGNhdGNoIChlKSB7XG5cbiAgICAgIGF3YWl0IHRoaXMuY3JlYXRlU2VydmVybGVzc0RldnNSb2xlQW5kQXR0YWN0UG9saWN5KCk7XG4gICAgfVxuXG4gIH1cblxuICAvKipcbiAgICog5Yib5bu6c2VydmVybGVzc2RldnMg6buY6K6k6KeS6ImyIEFsaXl1bkZDU2VydmVybGVzc0RldnNSb2xlLCDnhLblkI7nu5nov5nkuKrop5LoibLmjojkuojmnYPpmZBcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVNlcnZlcmxlc3NEZXZzUm9sZUFuZEF0dGFjdFBvbGljeSgpIHtcbiAgICBjb25zdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtID0gdGhpcy5nZXRTZXJ2ZXJsZXNzQnJpZGdlUmFtKCk7XG4gICAgYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5jcmVhdGVSb2xlKHtcbiAgICAgIHJvbGVOYW1lOiBGQ19ERUZBVUxUX1JPTEVfTkFNRSxcbiAgICAgIGRlc2NyaXB0aW9uOiAnY3JlYXRlZCBieSBzZXJ2ZXJsZXNzIGJyaWRnZScsXG4gICAgICBhc3N1bWVSb2xlUG9saWN5RG9jdW1lbnQ6IEFTU1VNRV9ST0xFX1BPTElDWV9ET0NVTUVOVFxuXG4gICAgfSk7XG4gICAgZm9yIChjb25zdCBwb2xpY3lOYW1lIG9mIFNFUlZFUkxFU1NfREVWU19QT0xJQ0lFUykge1xuICAgICAgYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5hdHRhY3RSb2xlUG9saWN5KHsgcG9saWN5VHlwZTogJ1N5c3RlbScsIHBvbGljeU5hbWUsIHJvbGVOYW1lOiBGQ19ERUZBVUxUX1JPTEVfTkFNRSB9KTtcbiAgICB9XG5cbiAgfVxuXG4gIC8qKlxuICAgKiDmjojmnYPlrZDotKblj7fpnIDopoHnmoRTZXJ2ZXJsZXNzIOadg+mZkOetlueVpVxuICAgKiBAcGFyYW0gdXNlck5hbWUgXG4gICAqL1xuXG4gIGFzeW5jIGF0dGFjaFNlcnZlcmxlc3NEZXZzUG9saWN5VG9Vc2VyKHVzZXJOYW1lOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2VydmVybGVzc0JyaWRnZVJhbSA9IHRoaXMuZ2V0U2VydmVybGVzc0JyaWRnZVJhbSgpO1xuICAgICAgY29uc3Qgcm9sZUF0dGFjaFJlc3VsdDogYW55ID0ge307XG4gICAgICByb2xlQXR0YWNoUmVzdWx0WydBbGl5dW5SQU1GdWxsQWNjZXNzJ10gPSBhd2FpdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtLmF0dGFjaFBvbGljeVRvVXNlcih7IHBvbGljeVR5cGU6ICdTeXN0ZW0nLCBwb2xpY3lOYW1lOiAnQWxpeXVuUkFNRnVsbEFjY2VzcycsIHVzZXJOYW1lIH0pO1xuICAgICAgcm9sZUF0dGFjaFJlc3VsdFsnQWxpeXVuU1RTQXNzdW1lUm9sZUFjY2VzcyddID0gYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5hdHRhY2hQb2xpY3lUb1VzZXIoeyBwb2xpY3lUeXBlOiAnU3lzdGVtJywgcG9saWN5TmFtZTogJ0FsaXl1blNUU0Fzc3VtZVJvbGVBY2Nlc3MnLCB1c2VyTmFtZSB9KTtcbiAgICAgIHJvbGVBdHRhY2hSZXN1bHRbJ0FsaXl1bkZDRGVmYXVsdFJvbGVQb2xpY3knXSA9IGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uYXR0YWNoUG9saWN5VG9Vc2VyKHsgcG9saWN5VHlwZTogJ1N5c3RlbScsIHBvbGljeU5hbWU6ICdBbGl5dW5GQ0RlZmF1bHRSb2xlUG9saWN5JywgdXNlck5hbWUgfSk7XG4gICAgICByb2xlQXR0YWNoUmVzdWx0WydBbGl5dW5GQ1NlcnZlcmxlc3NEZXZzUm9sZVBvbGljeSddID0gYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5hdHRhY2hQb2xpY3lUb1VzZXIoeyBwb2xpY3lUeXBlOiAnU3lzdGVtJywgcG9saWN5TmFtZTogJ0FsaXl1bkZDU2VydmVybGVzc0RldnNSb2xlUG9saWN5JywgdXNlck5hbWUgfSk7XG4gICAgICByb2xlQXR0YWNoUmVzdWx0WydBbGl5dW5GQ0Z1bGxBY2Nlc3MnXSA9IGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uYXR0YWNoUG9saWN5VG9Vc2VyKHsgcG9saWN5VHlwZTogJ1N5c3RlbScsIHBvbGljeU5hbWU6ICdBbGl5dW5GQ0Z1bGxBY2Nlc3MnLCB1c2VyTmFtZSB9KTtcbiAgICAgIHJvbGVBdHRhY2hSZXN1bHRbJ0FsaXl1blZQQ0Z1bGxBY2Nlc3MnXSA9IGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uYXR0YWNoUG9saWN5VG9Vc2VyKHsgcG9saWN5VHlwZTogJ1N5c3RlbScsIHBvbGljeU5hbWU6ICdBbGl5dW5WUENGdWxsQWNjZXNzJywgdXNlck5hbWUgfSk7XG4gICAgICByb2xlQXR0YWNoUmVzdWx0WydBbGl5dW5OQVNGdWxsQWNjZXNzJ10gPSBhd2FpdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtLmF0dGFjaFBvbGljeVRvVXNlcih7IHBvbGljeVR5cGU6ICdTeXN0ZW0nLCBwb2xpY3lOYW1lOiAnQWxpeXVuTkFTRnVsbEFjY2VzcycsIHVzZXJOYW1lIH0pO1xuXG4gICAgICAvLyBmb3IgKGNvbnN0IHBvbGljeU5hbWUgb2YgU0VSVkVSTEVTU19ERVZTX1BPTElDSUVTKSB7XG4gICAgICAvLyAgIHJvbGVBdHRhY2hSZXN1bHRbcG9saWN5TmFtZV0gPSBhd2FpdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtLmF0dGFjaFBvbGljeVRvVXNlcih7IHBvbGljeVR5cGU6ICdTeXN0ZW0nLCBwb2xpY3lOYW1lLCB1c2VyTmFtZSB9KTtcbiAgICAgIC8vIH1cblxuICAgICAgcmV0dXJuIHJvbGVBdHRhY2hSZXN1bHQ7XG4gICAgfSBjYXRjaCAoZSkge1xuXG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICB9XG5cbiAgYXN5bmMgcmVBdHRhY2hTdWJBY2NvdW50UG9saWN5KHVzZXJOYW1lOiBzdHJpbmcsIHJlZ2lvbjogc3RyaW5nKSB7XG4gICAgY29uc3QgcG9saWN5RG9jdW1lbnQgPSBge1xuICAgICAgXCJWZXJzaW9uXCI6IFwiMVwiLFxuICAgICAgXCJTdGF0ZW1lbnRcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgXCJBY3Rpb25cIjogXCJyYW06TGlzdFBvbGljaWVzRm9yVXNlclwiLFxuICAgICAgICAgIFwiRWZmZWN0XCI6IFwiQWxsb3dcIixcbiAgICAgICAgICBcIlJlc291cmNlXCI6IFwiKlwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcIkFjdGlvblwiOiBbXG4gICAgICAgICAgICBcImZjOkdldFNlcnZpY2VcIixcbiAgICAgICAgICAgIFwiZmM6TGlzdFNlcnZpY2VzXCIsXG4gICAgICAgICAgICBcImZjOkdldFJlc291cmNlVGFnc1wiXG4gICAgICAgICAgXSxcbiAgICAgICAgICBcIkVmZmVjdFwiOiBcIkFsbG93XCIsXG4gICAgICAgICAgXCJSZXNvdXJjZVwiOiBcImFjczpmYzoke3JlZ2lvbn06KjpzZXJ2aWNlcy8ke3VzZXJOYW1lfS1zZXJ2aWNlKlwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcIkFjdGlvblwiOiBcImZjOkxpc3RGdW5jdGlvbnNcIixcbiAgICAgICAgICBcIkVmZmVjdFwiOiBcIkFsbG93XCIsXG4gICAgICAgICAgXCJSZXNvdXJjZVwiOiBcImFjczpmYzoke3JlZ2lvbn06KjpzZXJ2aWNlcy8ke3VzZXJOYW1lfS1zZXJ2aWNlKi9mdW5jdGlvbnMvKlwiXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBcIkFjdGlvblwiOiBbXG4gICAgICAgICAgICBcImZjOkxpc3RJbnN0YW5jZXNcIixcbiAgICAgICAgICAgIFwiZmM6VXBkYXRlRnVuY3Rpb25cIixcbiAgICAgICAgICAgIFwiZmM6R2V0RnVuY3Rpb25cIixcbiAgICAgICAgICAgIFwiZmM6R2V0RnVuY3Rpb25Db2RlXCIsXG4gICAgICAgICAgICBcImZjOkxpc3RGdW5jdGlvbnNcIixcbiAgICAgICAgICAgIFwiZmM6SW52b2tlRnVuY3Rpb25cIixcbiAgICAgICAgICAgIFwiZmM6R3JhbnRUZW1wQ29kZUJ1Y2tldFBlcm1pc3Npb25cIlxuICAgICAgICAgIF0sXG4gICAgICAgICAgXCJFZmZlY3RcIjogXCJBbGxvd1wiLFxuICAgICAgICAgIFwiUmVzb3VyY2VcIjogXCJhY3M6ZmM6JHtyZWdpb259Oio6c2VydmljZXMvJHt1c2VyTmFtZX0tc2VydmljZSovZnVuY3Rpb25zLypcIlxuICAgICAgICB9XG4gICAgICBdXG4gICAgfWBcbiAgICBjb25zdCBwb2xpY3lOYW1lID0gYCR7dXNlck5hbWV9LWN1c3RvbWVyLXBvbGljeWA7XG4gICAgYXdhaXQgdGhpcy5zZXJ2ZXJsZXNzQnJpZGdlUmFtLmNyZWF0ZVBvbGljeSh7ICAvLyDmn6Xor6LlubbliJvlu7rlvZPliY3lrZDotKblj7fnmoTkuJPlsZ7nrZbnlaVcbiAgICAgIHBvbGljeU5hbWU6IGAke3VzZXJOYW1lfS1jdXN0b21lci1wb2xpY3lgLFxuICAgICAgZGVzY3JpcHRpb246ICdjcmVhdGVkIGJ5IHNlcnZlcmxlc3MtYnJpZGdlIGRvbnQgcmVtb3ZlJyxcbiAgICAgIHBvbGljeURvY3VtZW50XG4gICAgfSk7XG5cblxuICAgIHJldHVybiBhd2FpdCB0aGlzLnNlcnZlcmxlc3NCcmlkZ2VSYW0uYXR0YWNoUG9saWN5VG9Vc2VyKHsgcG9saWN5VHlwZTogJ0N1c3RvbScsIHBvbGljeU5hbWUsIHVzZXJOYW1lIH0pOyAgIC8vIOWwhuS4k+WxnuetlueVpWF0dGFjaOWIsOivpeWtkOi0puWPt1xuXG5cbiAgfVxuXG4gIC8qKlxuICAgKiDnp7vpmaTlrZDotKblj7fnmoTmnYPpmZDnrZbnlaXvvIzpmLLmraLlrZDotKblj7fmk43kvZzlh73mlbBcbiAgICogQHBhcmFtIHVzZXJOYW1lIFxuICAgKi9cbiAgYXN5bmMgZGV0YWNoU2VydmVybGVzc0RldnNQb2xpY3lGcm9tVXNlcih1c2VyTmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3Qgc2VydmVybGVzc0JyaWRnZVJhbSA9IHRoaXMuZ2V0U2VydmVybGVzc0JyaWRnZVJhbSgpO1xuICAgIGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uZGV0YWNoUG9saWN5RnJvbVVzZXIoeyBwb2xpY3lUeXBlOiAnU3lzdGVtJywgcG9saWN5TmFtZTogJ0FsaXl1blJBTUZ1bGxBY2Nlc3MnLCB1c2VyTmFtZSB9KTtcbiAgICBhd2FpdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtLmRldGFjaFBvbGljeUZyb21Vc2VyKHsgcG9saWN5VHlwZTogJ1N5c3RlbScsIHBvbGljeU5hbWU6ICdBbGl5dW5TVFNBc3N1bWVSb2xlQWNjZXNzJywgdXNlck5hbWUgfSk7XG4gICAgYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5kZXRhY2hQb2xpY3lGcm9tVXNlcih7IHBvbGljeVR5cGU6ICdTeXN0ZW0nLCBwb2xpY3lOYW1lOiAnQWxpeXVuRkNEZWZhdWx0Um9sZVBvbGljeScsIHVzZXJOYW1lIH0pO1xuICAgIGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uZGV0YWNoUG9saWN5RnJvbVVzZXIoeyBwb2xpY3lUeXBlOiAnU3lzdGVtJywgcG9saWN5TmFtZTogJ0FsaXl1bkZDU2VydmVybGVzc0RldnNSb2xlUG9saWN5JywgdXNlck5hbWUgfSk7XG4gICAgYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5kZXRhY2hQb2xpY3lGcm9tVXNlcih7IHBvbGljeVR5cGU6ICdTeXN0ZW0nLCBwb2xpY3lOYW1lOiAnQWxpeXVuRkNGdWxsQWNjZXNzJywgdXNlck5hbWUgfSk7XG4gICAgYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5kZXRhY2hQb2xpY3lGcm9tVXNlcih7IHBvbGljeVR5cGU6ICdTeXN0ZW0nLCBwb2xpY3lOYW1lOiAnQWxpeXVuVlBDRnVsbEFjY2VzcycsIHVzZXJOYW1lIH0pO1xuICAgIGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uZGV0YWNoUG9saWN5RnJvbVVzZXIoeyBwb2xpY3lUeXBlOiAnU3lzdGVtJywgcG9saWN5TmFtZTogJ0FsaXl1bk5BU0Z1bGxBY2Nlc3MnLCB1c2VyTmFtZSB9KTtcbiAgICAvLyBmb3IgKGNvbnN0IHBvbGljeU5hbWUgb2YgU0VSVkVSTEVTU19ERVZTX1BPTElDSUVTKSB7XG4gICAgLy8gICBhd2FpdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtLmRldGFjaFBvbGljeUZyb21Vc2VyKHsgcG9saWN5VHlwZTogJ1N5c3RlbScsIHBvbGljeU5hbWUsIHVzZXJOYW1lIH0pO1xuICAgIC8vIH1cbiAgfVxuXG4gIC8qKlxuICAgKiDliKDpmaTlrZDotKblj7fnmoRhaywgc2ssIOeOsOWcqOWtkOi0puWPt+eahGFrLHNrIOS4iumZkOaYrzLkuKpcbiAgICogQHBhcmFtIHVzZXJBY2Nlc3NLZXlJZCBcbiAgICovXG4gIGFzeW5jIGRlbGV0ZVN1YkFjY291bnRBY2Nlc3NLZXkodXNlck5hbWU6IHN0cmluZywgdXNlckFjY2Vzc0tleUlkOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2VydmVybGVzc0JyaWRnZVJhbSA9IHRoaXMuZ2V0U2VydmVybGVzc0JyaWRnZVJhbSgpO1xuICAgICAgY29uc3QgZGVsZXRlU3ViQWNjb3VudEFrSW5mbyA9IGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uZGVsZXRlQWNjZXNzS2V5KHVzZXJOYW1lLCB1c2VyQWNjZXNzS2V5SWQpO1xuICAgICAgcmV0dXJuIGRlbGV0ZVN1YkFjY291bnRBa0luZm87XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG5cbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7rlrZDotKblj7fnmoQgYWssc2tcbiAgICogQHBhcmFtIHVzZXJOYW1lIFxuICAgKiBAcmV0dXJucyBcbiAgICovXG4gIGFzeW5jIGNyZWF0ZVN1YkFjY291bnRBY2Nlc3NLZXkodXNlck5hbWU6IHN0cmluZykge1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNlcnZlcmxlc3NCcmlkZ2VSYW0gPSB0aGlzLmdldFNlcnZlcmxlc3NCcmlkZ2VSYW0oKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRBa3M6IGFueSA9IGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0ubGlzdEFjY2Vzc0tleXModXNlck5hbWUpO1xuICAgICAgaWYgKGN1cnJlbnRBa3MubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRBY2Nlc3NLZXlJZCA9IGN1cnJlbnRBa3NbMF0uYWNjZXNzS2V5SWQ7XG4gICAgICAgIGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uZGVsZXRlQWNjZXNzS2V5KHVzZXJOYW1lLCBjdXJyZW50QWNjZXNzS2V5SWQpO1xuICAgICAgfVxuICAgICAgY29uc3Qgc3ViQWNjb3VudENyZWRlbnRpYWwgPSBhd2FpdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtLmNyZWF0ZUFjY2Vzc0tleSh1c2VyTmFtZSk7XG4gICAgICByZXR1cm4gc3ViQWNjb3VudENyZWRlbnRpYWxcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICB9XG5cbiAgLyoqXG4gICAqIOafpeivouS7peWPiuWIm+W7uuWtkOi0puWPt1xuICAgKiBAcGFyYW0gdXNlck5hbWUgXG4gICAqIEByZXR1cm5zIFxuICAgKi9cbiAgYXN5bmMgZ2V0T3JDcmVhdGVTdWJBY2NvdW50KHVzZXJOYW1lOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2VydmVybGVzc0JyaWRnZVJhbSA9IHRoaXMuZ2V0U2VydmVybGVzc0JyaWRnZVJhbSgpO1xuICAgICAgbGV0IGFjY291bnRJbmZvID0gYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5nZXRVc2VyKHVzZXJOYW1lKTtcbiAgICAgIGlmIChhY2NvdW50SW5mby5lcnJvcikge1xuICAgICAgICBhY2NvdW50SW5mbyA9IGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uY3JlYXRlVXNlcih7IHVzZXJOYW1lIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWNjb3VudEluZm87XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG5cbiAgfVxuICAvKipcbiAgICog5a2Q6LSm5Y+35Yib5bu65bqU55SoXG4gICAqIEBwYXJhbSBhY2Nlc3NLZXlJZCBcbiAgICogQHBhcmFtIGFjY2Vzc0tleVNlY3JldCBcbiAgICogQHBhcmFtIGFwcFBheWxvYWQgXG4gICAqIEByZXR1cm5zIFxuICAgKi9cbiAgYXN5bmMgY3JlYXRlU3ViQWNjb3VudEFwcGxpY2F0aW9uKGFjY2Vzc0tleUlkOiBzdHJpbmcsIGFjY2Vzc0tleVNlY3JldDogc3RyaW5nLCBhcHBQYXlsb2FkOiBhbnkpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2VydmVybGVzc0RldnNDbGllbnQgPSB0aGlzLmdldFNlcnZlcmxlc3NTdWJCcmlkZ2VTZXJ2ZXJsZXNzRGV2cyh7XG4gICAgICAgIGFjY2Vzc0tleUlkLFxuICAgICAgICBhY2Nlc3NLZXlTZWNyZXQsXG4gICAgICB9KVxuICAgICAgY29uc3QgY3JlYXRlQXBwUmVzdWx0ID0gYXdhaXQgc2VydmVybGVzc0RldnNDbGllbnQuY3JlYXRlQXBwbGljYXRpb24oYXBwUGF5bG9hZCk7XG4gICAgICByZXR1cm4gY3JlYXRlQXBwUmVzdWx0O1xuICAgIH0gY2F0Y2ggKGUpIHtcblxuICAgICAgdGhyb3cgZTtcbiAgICB9XG5cbiAgfVxuXG5cblxuXG4gIC8qKlxuICAgKiDliKDpmaTlupTnlKhcbiAgICogQHBhcmFtIGFwcE5hbWUgXG4gICAqIEByZXR1cm5zIFxuICAgKi9cbiAgYXN5bmMgZGVsZXRlQXBwbGljYXRpb24oYXBwTmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3Qgc2VydmVybGVzc0RldnNDbGllbnQgPSB0aGlzLmdldFNlcnZlcmxlc3NCcmlkZ2VTZXJ2ZXJsZXNzRGV2cygpXG4gICAgcmV0dXJuIGF3YWl0IHNlcnZlcmxlc3NEZXZzQ2xpZW50LmRlbGV0ZUFwcGxpY2F0aW9uKGFwcE5hbWUpO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlTWFpbkFjY291bnRBcHBsaWNhdGlvbihwYXlsb2FkOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IHNlcnZlcmxlc3NEZXZzQ2xpZW50ID0gdGhpcy5nZXRTZXJ2ZXJsZXNzQnJpZGdlU2VydmVybGVzc0RldnMoKTtcbiAgICByZXR1cm4gYXdhaXQgc2VydmVybGVzc0RldnNDbGllbnQuY3JlYXRlQXBwbGljYXRpb24ocGF5bG9hZCk7XG4gIH1cblxuICAvKipcbiAgICog5p+l6K+i5bqU55So5L+h5oGvXG4gICAqIEBwYXJhbSBhcHBOYW1lIFxuICAgKiBAcmV0dXJucyBcbiAgICovXG4gIGFzeW5jIGdldEFwcGxpY2F0aW9uKGFwcE5hbWU6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3Qgc2VydmVybGVzc0RldnNDbGllbnQgPSB0aGlzLmdldFNlcnZlcmxlc3NCcmlkZ2VTZXJ2ZXJsZXNzRGV2cygpO1xuICAgIHJldHVybiBhd2FpdCBzZXJ2ZXJsZXNzRGV2c0NsaWVudC5nZXRBcHBsaWNhdGlvbihhcHBOYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmn6Xor6LmiYDmnInlupTnlKjkv6Hmga9cbiAgICogQHBhcmFtIGFwcE5hbWUgXG4gICAqIEByZXR1cm5zIFxuICAgKi9cbiAgYXN5bmMgbGlzdEFwcGxpY2F0aW9ucygpOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IHNlcnZlcmxlc3NEZXZzQ2xpZW50ID0gdGhpcy5nZXRTZXJ2ZXJsZXNzQnJpZGdlU2VydmVybGVzc0RldnMoKTtcbiAgICByZXR1cm4gYXdhaXQgc2VydmVybGVzc0RldnNDbGllbnQubGlzdEFwcGxpY2F0aW9ucygpO1xuICB9XG4gIC8qKlxuICAgKiDlrZDotKblj7fmjojkv6FmYy1jb25zb2xl5p2D6ZmQXG4gICAqIEBwYXJhbSBwYXlsb2FkIFxuICAgKiBAcGFyYW0gY3JlZGVudGlhbHMgXG4gICAqIEByZXR1cm5zIFxuICAgKi9cbiAgYXN5bmMgc3ViQWNjb3VudEFzc3VtZVJvbGUocGF5bG9hZDogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICBjb25zdCBzdHNDbGllbnQgPSB0aGlzLmdldFNlcnZlcmxlc3NCcmlkZ2VTdHMoKTtcbiAgICByZXR1cm4gYXdhaXQgc3RzQ2xpZW50LmFzc3VtZVJvbGUocGF5bG9hZCk7XG4gIH1cblxuICAvKipcbiAgICogXG4gICAqIEBwYXJhbSBhY2NvdW50SWQg5Ye95pWw5omn6KGM5Li76LSm5Y+3aWRcbiAgICogQHBhcmFtIHN0c0NvbmZpZyBhc3N1bWVSb2xl5ZCO55qEY3JlZGVudGlhbCBcbiAgICogQHBhcmFtIGZjSW52b2tlRGF0YSDmiafooYzlh73mlbDnmoTmlbDmja7ljIXmi6zmnI3liqHlkozlh73mlbBcbiAgICogQHBhcmFtIHBheWxvYWQg5omn6KGM5Ye95pWw55qE6K+35rGC5pWw5o2uXG4gICAqIEByZXR1cm5zIFxuICAgKi9cbiAgYXN5bmMgaW52b2tlRnVuY3Rpb24oYWNjb3VudElkOiBzdHJpbmcsIHN0c0NvbmZpZzogYW55LCBmY0ludm9rZURhdGE6IGFueSwgcGF5bG9hZDogYW55KTogUHJvbWlzZTxhbnk+IHtcblxuICAgIGNvbnN0IGZjQ2xpZW50ID0gdGhpcy5nZXRTZXJ2ZXJsZXNzQnJpZGdlRmMoYWNjb3VudElkLCBzdHNDb25maWcpO1xuICAgIHJldHVybiBhd2FpdCBmY0NsaWVudC5pbnZva2VGdW5jdGlvbihmY0ludm9rZURhdGEsIHBheWxvYWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIOafpeivouWHveaVsOWIl+ihqFxuICAgKiBAcGFyYW0gc3RzQ29uZmlnIFxuICAgKiBAcGFyYW0gcGF5bG9hZCBcbiAgICogQHJldHVybnMgXG4gICAqL1xuICBhc3luYyBsaXN0RnVuY3Rpb25zKGFjY291bnRJZDogc3RyaW5nLCBzdHNDb25maWc6IGFueSwgcGF5bG9hZDogYW55KTogUHJvbWlzZTxhbnk+IHtcblxuICAgIGNvbnN0IGZjQ2xpZW50ID0gdGhpcy5nZXRTZXJ2ZXJsZXNzQnJpZGdlRmMoYWNjb3VudElkLCBzdHNDb25maWcpO1xuICAgIHJldHVybiBhd2FpdCBmY0NsaWVudC5saXN0RnVuY3Rpb25zKHBheWxvYWQpO1xuICB9XG59XG5cbiJdLCJuYW1lcyI6WyJTZXJ2ZXJsZXNzQnJpZGdlRmMiLCJTZXJ2ZXJsZXNzQnJpZGdlU2VydmVybGVzc0RldnMiLCJTZXJ2ZXJsZXNzQnJpZGdlUmFtIiwiU2VydmVybGVzc0JyaWRnZVN0cyIsIkZDX0RFRkFVTFRfUk9MRV9OQU1FIiwiQVNTVU1FX1JPTEVfUE9MSUNZX0RPQ1VNRU5UIiwiU0VSVkVSTEVTU19ERVZTX1BPTElDSUVTIiwiU2VydmVybGVzc0JyaWRnZVNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsInNlcnZlcmxlc3NCcmlkZ2VSYW0iLCJzZXJ2ZXJsZXNzQnJpZGdlU3RzIiwic2VydmVybGVzc0JyaWRnZVNlcnZlcmxlc3NEZXZzIiwiZ2V0U2VydmVybGVzc0JyaWRnZVJhbSIsImdldFNlcnZlcmxlc3NCcmlkZ2VTdHMiLCJnZXRTZXJ2ZXJsZXNzQnJpZGdlRmMiLCJhY2NvdW50SWQiLCJnZXRTZXJ2ZXJsZXNzQnJpZGdlU2VydmVybGVzc0RldnMiLCJnZXRTZXJ2ZXJsZXNzU3ViQnJpZGdlU2VydmVybGVzc0RldnMiLCJnZXRNYWluT3JDcmVhdGVBY2NvdW50Um9sZSIsInJvbGVJbmZvIiwiZ2V0Um9sZSIsImUiLCJjcmVhdGVTZXJ2ZXJsZXNzRGV2c1JvbGVBbmRBdHRhY3RQb2xpY3kiLCJjcmVhdGVSb2xlIiwicm9sZU5hbWUiLCJkZXNjcmlwdGlvbiIsImFzc3VtZVJvbGVQb2xpY3lEb2N1bWVudCIsInBvbGljeU5hbWUiLCJhdHRhY3RSb2xlUG9saWN5IiwicG9saWN5VHlwZSIsImF0dGFjaFNlcnZlcmxlc3NEZXZzUG9saWN5VG9Vc2VyIiwidXNlck5hbWUiLCJyb2xlQXR0YWNoUmVzdWx0IiwiYXR0YWNoUG9saWN5VG9Vc2VyIiwicmVBdHRhY2hTdWJBY2NvdW50UG9saWN5IiwicmVnaW9uIiwicG9saWN5RG9jdW1lbnQiLCJjcmVhdGVQb2xpY3kiLCJkZXRhY2hTZXJ2ZXJsZXNzRGV2c1BvbGljeUZyb21Vc2VyIiwiZGV0YWNoUG9saWN5RnJvbVVzZXIiLCJkZWxldGVTdWJBY2NvdW50QWNjZXNzS2V5IiwidXNlckFjY2Vzc0tleUlkIiwiZGVsZXRlU3ViQWNjb3VudEFrSW5mbyIsImRlbGV0ZUFjY2Vzc0tleSIsImNyZWF0ZVN1YkFjY291bnRBY2Nlc3NLZXkiLCJjdXJyZW50QWtzIiwibGlzdEFjY2Vzc0tleXMiLCJsZW5ndGgiLCJjdXJyZW50QWNjZXNzS2V5SWQiLCJhY2Nlc3NLZXlJZCIsInN1YkFjY291bnRDcmVkZW50aWFsIiwiY3JlYXRlQWNjZXNzS2V5IiwiZ2V0T3JDcmVhdGVTdWJBY2NvdW50IiwiYWNjb3VudEluZm8iLCJnZXRVc2VyIiwiZXJyb3IiLCJjcmVhdGVVc2VyIiwiY3JlYXRlU3ViQWNjb3VudEFwcGxpY2F0aW9uIiwiYWNjZXNzS2V5U2VjcmV0IiwiYXBwUGF5bG9hZCIsInNlcnZlcmxlc3NEZXZzQ2xpZW50IiwiY3JlYXRlQXBwUmVzdWx0IiwiY3JlYXRlQXBwbGljYXRpb24iLCJkZWxldGVBcHBsaWNhdGlvbiIsImFwcE5hbWUiLCJjcmVhdGVNYWluQWNjb3VudEFwcGxpY2F0aW9uIiwicGF5bG9hZCIsImdldEFwcGxpY2F0aW9uIiwibGlzdEFwcGxpY2F0aW9ucyIsInN1YkFjY291bnRBc3N1bWVSb2xlIiwic3RzQ2xpZW50IiwiYXNzdW1lUm9sZSIsImludm9rZUZ1bmN0aW9uIiwic3RzQ29uZmlnIiwiZmNJbnZva2VEYXRhIiwiZmNDbGllbnQiLCJsaXN0RnVuY3Rpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/services/serverless-app.ts\n");

/***/ }),

/***/ "(api)/./pages/api/infra/alibaba-cloud/listApps.ts":
/*!***************************************************!*\
  !*** ./pages/api/infra/alibaba-cloud/listApps.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _infra_alibaba_cloud_services_serverless_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/infra/alibaba-cloud/services/serverless-app */ \"(api)/./infra/alibaba-cloud/services/serverless-app.ts\");\n\nconst AGENT_CRAFT = \"AgentCraft\";\nasync function handler(req, res) {\n    const headers = req.headers;\n    const accessKeyId = headers[\"x-fc-access-key-id\"];\n    const accessKeySecret = headers[\"x-fc-access-key-secret\"];\n    const securityToken = headers[\"x-fc-security-token\"];\n    let credential = undefined;\n    if (accessKeyId) {\n        credential = {\n            accessKeyId,\n            accessKeySecret,\n            securityToken\n        };\n    }\n    const serverlessBridgeService = new _infra_alibaba_cloud_services_serverless_app__WEBPACK_IMPORTED_MODULE_0__.ServerlessBridgeService(credential);\n    let status = 200;\n    let data = {\n        code: 200\n    };\n    try {\n        const result = await serverlessBridgeService.listApplications();\n        data.code = result.statusCode;\n        const agentCraftAppList = result.body.result;\n        data.data = agentCraftAppList.filter((item)=>item.name.indexOf(AGENT_CRAFT) === 0);\n    } catch (e) {\n        status = 500;\n        data.error = e.message;\n    }\n    res.status(status).json(data);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvaW5mcmEvYWxpYmFiYS1jbG91ZC9saXN0QXBwcy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUV3RjtBQUd4RixNQUFNQyxjQUFjO0FBR0wsZUFBZUMsUUFDMUJDLEdBQW1CLEVBQ25CQyxHQUFvQixFQUN0QjtJQUVFLE1BQU1DLFVBQVVGLElBQUlFLE9BQU87SUFDM0IsTUFBTUMsY0FBbUJELE9BQU8sQ0FBQyxxQkFBcUI7SUFDdEQsTUFBTUUsa0JBQXVCRixPQUFPLENBQUMseUJBQXlCO0lBQzlELE1BQU1HLGdCQUFxQkgsT0FBTyxDQUFDLHNCQUFzQjtJQUN6RCxJQUFJSSxhQUFhQztJQUNqQixJQUFJSixhQUFhO1FBQ2JHLGFBQWE7WUFDVEg7WUFDQUM7WUFDQUM7UUFDSjtJQUNKLENBQUM7SUFDRCxNQUFNRywwQkFBMEIsSUFBSVgsaUdBQXVCQSxDQUFDUztJQUU1RCxJQUFJRyxTQUFTO0lBQ2IsSUFBSUMsT0FBWTtRQUNaQyxNQUFNO0lBQ1Y7SUFDQSxJQUFJO1FBQ0EsTUFBTUMsU0FBUyxNQUFNSix3QkFBd0JLLGdCQUFnQjtRQUM3REgsS0FBS0MsSUFBSSxHQUFHQyxPQUFPRSxVQUFVO1FBQzdCLE1BQU1DLG9CQUFvQkgsT0FBT0ksSUFBSSxDQUFDSixNQUFNO1FBQzVDRixLQUFLQSxJQUFJLEdBQUdLLGtCQUFrQkUsTUFBTSxDQUFDLENBQUNDLE9BQWNBLEtBQUtDLElBQUksQ0FBQ0MsT0FBTyxDQUFDdEIsaUJBQWlCO0lBQzNGLEVBQUUsT0FBT3VCLEdBQVE7UUFDYlosU0FBUztRQUNUQyxLQUFLWSxLQUFLLEdBQUdELEVBQUVFLE9BQU87SUFDMUI7SUFDQXRCLElBQUlRLE1BQU0sQ0FBQ0EsUUFBUWUsSUFBSSxDQUFDZDtBQUM1QixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWdlbnRjcmFmdC11aS8uL3BhZ2VzL2FwaS9pbmZyYS9hbGliYWJhLWNsb3VkL2xpc3RBcHBzLnRzPzU0ZDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCdcblxuaW1wb3J0IHsgU2VydmVybGVzc0JyaWRnZVNlcnZpY2UgfSBmcm9tICdAL2luZnJhL2FsaWJhYmEtY2xvdWQvc2VydmljZXMvc2VydmVybGVzcy1hcHAnO1xuXG5cbmNvbnN0IEFHRU5UX0NSQUZUID0gJ0FnZW50Q3JhZnQnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXG4gICAgcmVxOiBOZXh0QXBpUmVxdWVzdCxcbiAgICByZXM6IE5leHRBcGlSZXNwb25zZVxuKSB7XG5cbiAgICBjb25zdCBoZWFkZXJzID0gcmVxLmhlYWRlcnM7XG4gICAgY29uc3QgYWNjZXNzS2V5SWQ6IGFueSA9IGhlYWRlcnNbJ3gtZmMtYWNjZXNzLWtleS1pZCddO1xuICAgIGNvbnN0IGFjY2Vzc0tleVNlY3JldDogYW55ID0gaGVhZGVyc1sneC1mYy1hY2Nlc3Mta2V5LXNlY3JldCddO1xuICAgIGNvbnN0IHNlY3VyaXR5VG9rZW46IGFueSA9IGhlYWRlcnNbJ3gtZmMtc2VjdXJpdHktdG9rZW4nXTtcbiAgICBsZXQgY3JlZGVudGlhbCA9IHVuZGVmaW5lZDtcbiAgICBpZiAoYWNjZXNzS2V5SWQpIHtcbiAgICAgICAgY3JlZGVudGlhbCA9IHtcbiAgICAgICAgICAgIGFjY2Vzc0tleUlkLFxuICAgICAgICAgICAgYWNjZXNzS2V5U2VjcmV0LFxuICAgICAgICAgICAgc2VjdXJpdHlUb2tlblxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNlcnZlcmxlc3NCcmlkZ2VTZXJ2aWNlID0gbmV3IFNlcnZlcmxlc3NCcmlkZ2VTZXJ2aWNlKGNyZWRlbnRpYWwpO1xuICBcbiAgICBsZXQgc3RhdHVzID0gMjAwO1xuICAgIGxldCBkYXRhOiBhbnkgPSB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2VydmVybGVzc0JyaWRnZVNlcnZpY2UubGlzdEFwcGxpY2F0aW9ucygpO1xuICAgICAgICBkYXRhLmNvZGUgPSByZXN1bHQuc3RhdHVzQ29kZTtcbiAgICAgICAgY29uc3QgYWdlbnRDcmFmdEFwcExpc3QgPSByZXN1bHQuYm9keS5yZXN1bHQ7XG4gICAgICAgIGRhdGEuZGF0YSA9IGFnZW50Q3JhZnRBcHBMaXN0LmZpbHRlcigoaXRlbTogYW55KSA9PiBpdGVtLm5hbWUuaW5kZXhPZihBR0VOVF9DUkFGVCkgPT09IDApO1xuICAgIH0gY2F0Y2ggKGU6IGFueSkge1xuICAgICAgICBzdGF0dXMgPSA1MDA7XG4gICAgICAgIGRhdGEuZXJyb3IgPSBlLm1lc3NhZ2U7XG4gICAgfVxuICAgIHJlcy5zdGF0dXMoc3RhdHVzKS5qc29uKGRhdGEpO1xufVxuIl0sIm5hbWVzIjpbIlNlcnZlcmxlc3NCcmlkZ2VTZXJ2aWNlIiwiQUdFTlRfQ1JBRlQiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiaGVhZGVycyIsImFjY2Vzc0tleUlkIiwiYWNjZXNzS2V5U2VjcmV0Iiwic2VjdXJpdHlUb2tlbiIsImNyZWRlbnRpYWwiLCJ1bmRlZmluZWQiLCJzZXJ2ZXJsZXNzQnJpZGdlU2VydmljZSIsInN0YXR1cyIsImRhdGEiLCJjb2RlIiwicmVzdWx0IiwibGlzdEFwcGxpY2F0aW9ucyIsInN0YXR1c0NvZGUiLCJhZ2VudENyYWZ0QXBwTGlzdCIsImJvZHkiLCJmaWx0ZXIiLCJpdGVtIiwibmFtZSIsImluZGV4T2YiLCJlIiwiZXJyb3IiLCJtZXNzYWdlIiwianNvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/infra/alibaba-cloud/listApps.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/infra/alibaba-cloud/listApps.ts"));
module.exports = __webpack_exports__;

})();