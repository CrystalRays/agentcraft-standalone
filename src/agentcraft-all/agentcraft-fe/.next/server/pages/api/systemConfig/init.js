"use strict";(()=>{var e={};e.id=196,e.ids=[196],e.modules={8113:e=>{e.exports=require("@alicloud/fc-open20210406")},3272:e=>{e.exports=require("@alicloud/openapi-client")},487:e=>{e.exports=require("@alicloud/ram20150501")},78:e=>{e.exports=require("@alicloud/serverless20210924")},319:e=>{e.exports=require("@alicloud/sts20150401")},2151:e=>{e.exports=require("@alicloud/tea-util")},2807:e=>{e.exports=require("@alicloud/vpc20160428")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6489:(e,r,c)=>{c.r(r),c.d(r,{config:()=>p,default:()=>d,routeModule:()=>l});var i={};c.r(i),c.d(i,{default:()=>handler});var a=c(1802),t=c(7153),o=c(6249),n=c(3502);let s={regionId:"cn-hangzhou",zoneId:"cn-hangzhou-k",cidrBlock:"10.0.0.0/24",vpcId:"",vSwitchName:"agentcraft-vpc",description:"由AgentCraft创建，配置数据库使用，请谨慎删除"};async function handler(e,r){let c;let i=e.headers,a=i["x-fc-account-id"]||process.env.MAIN_ACCOUNT_ID,t=i["x-fc-access-key-id"],o=i["x-fc-access-key-secret"],d=i["x-fc-security-token"],p=process.env.Region||"cn-hangzhou";t&&(c={accessKeyId:t,accessKeySecret:o,securityToken:d});let l=new n.G(c,a),u=200,v={code:200},f=process.env.beServiceName,g=process.env.beFunctionName;try{let e=await l.getFunction({serviceName:f,functionName:g,qualifier:"LATEST"}),r=e?.body?.environmentVariables?.EMBEDDING_URL,c=await l.getService({serviceName:f}),i=c?.body?.vpcConfig||{},a="";try{let e=await l.describeVpcs({vpcId:i.vpcId,regionId:p}),r=e?.body?.vpcs?.vpc[0]||{},{vpcName:c,vpcId:t}=r;a=c,s.vpcId=t,s.regionId=p,await l.createVSwitch(s)}catch(e){}v.data={EMBEDDING_URL:r,vpcInfo:{vpcName:a,vpcId:i.vpcId}}}catch(e){u=500,v.code=u,v.error=e.message}r.status(u).json(v)}let d=(0,o.l)(i,"default"),p=(0,o.l)(i,"config"),l=new a.PagesAPIRouteModule({definition:{kind:t.x.PAGES_API,page:"/api/systemConfig/init",pathname:"/api/systemConfig/init",bundlePath:"",filename:""},userland:i})}};var r=require("../../../webpack-api-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),c=r.X(0,[4222,3502],()=>__webpack_exec__(6489));module.exports=c})();