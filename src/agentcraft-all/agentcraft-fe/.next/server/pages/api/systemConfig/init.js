"use strict";(()=>{var e={};e.id=196,e.ids=[196],e.modules={8113:e=>{e.exports=require("@alicloud/fc-open20210406")},3272:e=>{e.exports=require("@alicloud/openapi-client")},487:e=>{e.exports=require("@alicloud/ram20150501")},78:e=>{e.exports=require("@alicloud/serverless20210924")},319:e=>{e.exports=require("@alicloud/sts20150401")},2151:e=>{e.exports=require("@alicloud/tea-util")},2807:e=>{e.exports=require("@alicloud/vpc20160428")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6489:(e,r,c)=>{c.r(r),c.d(r,{config:()=>l,default:()=>d,routeModule:()=>p});var i={};c.r(i),c.d(i,{default:()=>handler});var t=c(1802),a=c(7153),o=c(6249),n=c(3502);let s={regionId:"cn-hangzhou",zoneId:"cn-hangzhou-k",cidrBlock:"10.0.0.0/24",vpcId:"",vSwitchName:"agentcraft-vpc",description:"由AgentCraft创建，配置数据库使用，请谨慎删除"};async function handler(e,r){let c;let i=e.headers,t=i["x-fc-account-id"]||process.env.MAIN_ACCOUNT_ID,a=i["x-fc-access-key-id"],o=i["x-fc-access-key-secret"],d=i["x-fc-security-token"],l=process.env.Region||"cn-hangzhou";a&&(c={accessKeyId:a,accessKeySecret:o,securityToken:d});let p=new n.G(c,t),u=200,v={code:200},g=process.env.beServiceName,f=process.env.beFunctionName;try{let e=await p.getFunction({serviceName:g,functionName:f,qualifier:"LATEST"}),r=e?.body?.environmentVariables?.EMBEDDING_URL,c=await p.getService({serviceName:g}),i=c?.body?.vpcConfig||{},t="";try{let e=await p.describeVpcs({vpcId:i.vpcId,regionId:l}),r=e?.body?.vpcs?.vpc[0]||{},{vpcName:c,vpcId:a}=r;t=c,s.vpcId=a,s.regionId=l,await p.createVSwitch(s)}catch(e){console.log("vswitch create error:",e)}v.data={EMBEDDING_URL:r,vpcInfo:{vpcName:t,vpcId:i.vpcId}}}catch(e){u=500,v.code=u,v.error=e.message}r.status(u).json(v)}let d=(0,o.l)(i,"default"),l=(0,o.l)(i,"config"),p=new t.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/systemConfig/init",pathname:"/api/systemConfig/init",bundlePath:"",filename:""},userland:i})}};var r=require("../../../webpack-api-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),c=r.X(0,[4222,3502],()=>__webpack_exec__(6489));module.exports=c})();