"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/systemConfig/init";
exports.ids = ["pages/api/systemConfig/init"];
exports.modules = {

/***/ "@alicloud/fc-open20210406":
/*!********************************************!*\
  !*** external "@alicloud/fc-open20210406" ***!
  \********************************************/
/***/ ((module) => {

module.exports = require("@alicloud/fc-open20210406");

/***/ }),

/***/ "@alicloud/openapi-client":
/*!*******************************************!*\
  !*** external "@alicloud/openapi-client" ***!
  \*******************************************/
/***/ ((module) => {

module.exports = require("@alicloud/openapi-client");

/***/ }),

/***/ "@alicloud/ram20150501":
/*!****************************************!*\
  !*** external "@alicloud/ram20150501" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@alicloud/ram20150501");

/***/ }),

/***/ "@alicloud/serverless20210924":
/*!***********************************************!*\
  !*** external "@alicloud/serverless20210924" ***!
  \***********************************************/
/***/ ((module) => {

module.exports = require("@alicloud/serverless20210924");

/***/ }),

/***/ "@alicloud/sts20150401":
/*!****************************************!*\
  !*** external "@alicloud/sts20150401" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@alicloud/sts20150401");

/***/ }),

/***/ "@alicloud/tea-util":
/*!*************************************!*\
  !*** external "@alicloud/tea-util" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("@alicloud/tea-util");

/***/ }),

/***/ "@alicloud/vpc20160428":
/*!****************************************!*\
  !*** external "@alicloud/vpc20160428" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@alicloud/vpc20160428");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsystemConfig%2Finit&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2FsystemConfig%2Finit.ts&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsystemConfig%2Finit&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2FsystemConfig%2Finit.ts&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_systemConfig_init_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/systemConfig/init.ts */ \"(api)/./pages/api/systemConfig/init.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_systemConfig_init_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_systemConfig_init_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/systemConfig/init\",\n        pathname: \"/api/systemConfig/init\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_systemConfig_init_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnN5c3RlbUNvbmZpZyUyRmluaXQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRnN5c3RlbUNvbmZpZyUyRmluaXQudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDNkQ7QUFDN0Q7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLDREQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyw0REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZ2VudGNyYWZ0LXVpLz9hYmI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvc3lzdGVtQ29uZmlnL2luaXQudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zeXN0ZW1Db25maWcvaW5pdFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3N5c3RlbUNvbmZpZy9pbml0XCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsystemConfig%2Finit&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2FsystemConfig%2Finit.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./constants/cloud-resources.ts":
/*!**************************************!*\
  !*** ./constants/cloud-resources.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ASSUME_ROLE_FOR_FC_CONSOLE: () => (/* binding */ ASSUME_ROLE_FOR_FC_CONSOLE),\n/* harmony export */   ASSUME_ROLE_POLICY_DOCUMENT: () => (/* binding */ ASSUME_ROLE_POLICY_DOCUMENT),\n/* harmony export */   DEFAULT_REGION: () => (/* binding */ DEFAULT_REGION),\n/* harmony export */   DEVS_API_ENDPOINT: () => (/* binding */ DEVS_API_ENDPOINT),\n/* harmony export */   FC_CONSOLE_ACCOUNTID: () => (/* binding */ FC_CONSOLE_ACCOUNTID),\n/* harmony export */   FC_CONSOLE_UPDATECODE_FUNCTIONNAME: () => (/* binding */ FC_CONSOLE_UPDATECODE_FUNCTIONNAME),\n/* harmony export */   FC_CONSOLE_WEBIDE_FUNCTIONNAME: () => (/* binding */ FC_CONSOLE_WEBIDE_FUNCTIONNAME),\n/* harmony export */   FC_CONSOLE_WEBIDE_SERVICENAME: () => (/* binding */ FC_CONSOLE_WEBIDE_SERVICENAME),\n/* harmony export */   FC_DEFAULT_ROLE_NAME: () => (/* binding */ FC_DEFAULT_ROLE_NAME),\n/* harmony export */   INVOKE_GET_WEBIDE_DATA: () => (/* binding */ INVOKE_GET_WEBIDE_DATA),\n/* harmony export */   INVOKE_UPDATE_CODE_DATA: () => (/* binding */ INVOKE_UPDATE_CODE_DATA),\n/* harmony export */   SERVERLESS_DEVS_POLICIES: () => (/* binding */ SERVERLESS_DEVS_POLICIES),\n/* harmony export */   STS_ASSUME_ROLE_PAYLOAD: () => (/* binding */ STS_ASSUME_ROLE_PAYLOAD)\n/* harmony export */ });\nconst FC_CONSOLE_ACCOUNTID = \"\"; // fc-console 账号id\nconst FC_CONSOLE_WEBIDE_SERVICENAME = \"fc-webide-service\"; // fc-console webide service\nconst FC_CONSOLE_WEBIDE_FUNCTIONNAME = \"GetOrCreateAppWorkSpace\"; // fc-console 创建或者查询webide\nconst FC_CONSOLE_UPDATECODE_FUNCTIONNAME = \"DeployUserFunctionCode\"; // fc-console 更新代码\nconst ASSUME_ROLE_FOR_FC_CONSOLE = process.env.FcConsoleAssumeRoleName; // 授权的账号名\nconst FC_DEFAULT_ROLE_NAME = \"AliyunFCServerlessDevsRole\"; // serverless devs 检查角色\nconst DEVS_API_ENDPOINT = \"serverless-dualstack.ap-southeast-1.aliyuncs.com\";\nconst DEFAULT_REGION = \"cn-hangzhou\";\nconst INVOKE_GET_WEBIDE_DATA = {\n    serviceName: FC_CONSOLE_WEBIDE_SERVICENAME,\n    functionName: FC_CONSOLE_WEBIDE_FUNCTIONNAME\n};\nconst INVOKE_UPDATE_CODE_DATA = {\n    serviceName: FC_CONSOLE_WEBIDE_SERVICENAME,\n    functionName: FC_CONSOLE_UPDATECODE_FUNCTIONNAME\n};\nconst STS_ASSUME_ROLE_PAYLOAD = {\n    roleArn: `acs:ram::${FC_CONSOLE_ACCOUNTID}:role/${ASSUME_ROLE_FOR_FC_CONSOLE}`,\n    roleSessionName: ASSUME_ROLE_FOR_FC_CONSOLE // 这个角色是需要fc-console授权\n};\nconst ASSUME_ROLE_POLICY_DOCUMENT = {\n    \"Statement\": [\n        {\n            \"Action\": \"sts:AssumeRole\",\n            \"Effect\": \"Allow\",\n            \"Principal\": {\n                \"Service\": [\n                    \"fc.aliyuncs.com\"\n                ]\n            }\n        }\n    ],\n    \"Version\": \"1\"\n};\nconst SERVERLESS_DEVS_POLICIES = [\n    \"AliyunFCServerlessDevsRolePolicy\",\n    \"AliyunFCDefaultRolePolicy\",\n    \"AliyunFCFullAccess\",\n    \"AliyunNASFullAccess\",\n    \"AliyunVPCFullAccess\"\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9jb25zdGFudHMvY2xvdWQtcmVzb3VyY2VzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTyxNQUFNQSx1QkFBdUIsR0FBRyxDQUFDLGtCQUFrQjtBQUNuRCxNQUFNQyxnQ0FBZ0Msb0JBQW9CLENBQUMsNEJBQTRCO0FBQ3ZGLE1BQU1DLGlDQUFpQywwQkFBMEIsQ0FBQywwQkFBMEI7QUFDNUYsTUFBTUMscUNBQXFDLHlCQUF5QixDQUFDLGtCQUFrQjtBQUN2RixNQUFNQyw2QkFBNkJDLFFBQVFDLEdBQUcsQ0FBQ0MsdUJBQXVCLENBQUMsQ0FBQyxTQUFTO0FBQ2pGLE1BQU1DLHVCQUF1Qiw2QkFBNkIsQ0FBRSx1QkFBdUI7QUFDbkYsTUFBTUMsb0JBQW9CLG1EQUFtRDtBQUU3RSxNQUFNQyxpQkFBaUIsY0FBYztBQUVyQyxNQUFNQyx5QkFBeUI7SUFDbENDLGFBQWFYO0lBQ2JZLGNBQWNYO0FBQ2xCLEVBQUM7QUFFTSxNQUFNWSwwQkFBMEI7SUFDbkNGLGFBQWFYO0lBQ2JZLGNBQWNWO0FBQ2xCLEVBQUM7QUFFTSxNQUFNWSwwQkFBMEI7SUFDbkNDLFNBQVMsQ0FBQyxTQUFTLEVBQUVoQixxQkFBcUIsTUFBTSxFQUFFSSwyQkFBMkIsQ0FBQztJQUM5RWEsaUJBQWlCYiwyQkFBNEIsc0JBQXNCO0FBQ3ZFLEVBQUM7QUFFTSxNQUFNYyw4QkFBOEI7SUFDdkMsYUFBYTtRQUNUO1lBQ0ksVUFBVTtZQUNWLFVBQVU7WUFDVixhQUFhO2dCQUNULFdBQVc7b0JBQ1A7aUJBQ0g7WUFDTDtRQUNKO0tBQ0g7SUFDRCxXQUFXO0FBQ2YsRUFBQztBQUVNLE1BQU1DLDJCQUEyQjtJQUFDO0lBQW9DO0lBQTZCO0lBQXNCO0lBQXVCO0NBQXNCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZ2VudGNyYWZ0LXVpLy4vY29uc3RhbnRzL2Nsb3VkLXJlc291cmNlcy50cz8zZmYxIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBGQ19DT05TT0xFX0FDQ09VTlRJRCA9ICcnOyAvLyBmYy1jb25zb2xlIOi0puWPt2lkXG5leHBvcnQgY29uc3QgRkNfQ09OU09MRV9XRUJJREVfU0VSVklDRU5BTUUgPSAnZmMtd2ViaWRlLXNlcnZpY2UnOyAvLyBmYy1jb25zb2xlIHdlYmlkZSBzZXJ2aWNlXG5leHBvcnQgY29uc3QgRkNfQ09OU09MRV9XRUJJREVfRlVOQ1RJT05OQU1FID0gJ0dldE9yQ3JlYXRlQXBwV29ya1NwYWNlJzsgLy8gZmMtY29uc29sZSDliJvlu7rmiJbogIXmn6Xor6J3ZWJpZGVcbmV4cG9ydCBjb25zdCBGQ19DT05TT0xFX1VQREFURUNPREVfRlVOQ1RJT05OQU1FID0gJ0RlcGxveVVzZXJGdW5jdGlvbkNvZGUnOyAvLyBmYy1jb25zb2xlIOabtOaWsOS7o+eggVxuZXhwb3J0IGNvbnN0IEFTU1VNRV9ST0xFX0ZPUl9GQ19DT05TT0xFID0gcHJvY2Vzcy5lbnYuRmNDb25zb2xlQXNzdW1lUm9sZU5hbWU7IC8vIOaOiOadg+eahOi0puWPt+WQjVxuZXhwb3J0IGNvbnN0IEZDX0RFRkFVTFRfUk9MRV9OQU1FID0gJ0FsaXl1bkZDU2VydmVybGVzc0RldnNSb2xlJzsgIC8vIHNlcnZlcmxlc3MgZGV2cyDmo4Dmn6Xop5LoibJcbmV4cG9ydCBjb25zdCBERVZTX0FQSV9FTkRQT0lOVCA9ICdzZXJ2ZXJsZXNzLWR1YWxzdGFjay5hcC1zb3V0aGVhc3QtMS5hbGl5dW5jcy5jb20nO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9SRUdJT04gPSAnY24taGFuZ3pob3UnO1xuXG5leHBvcnQgY29uc3QgSU5WT0tFX0dFVF9XRUJJREVfREFUQSA9IHtcbiAgICBzZXJ2aWNlTmFtZTogRkNfQ09OU09MRV9XRUJJREVfU0VSVklDRU5BTUUsXG4gICAgZnVuY3Rpb25OYW1lOiBGQ19DT05TT0xFX1dFQklERV9GVU5DVElPTk5BTUVcbn1cblxuZXhwb3J0IGNvbnN0IElOVk9LRV9VUERBVEVfQ09ERV9EQVRBID0ge1xuICAgIHNlcnZpY2VOYW1lOiBGQ19DT05TT0xFX1dFQklERV9TRVJWSUNFTkFNRSxcbiAgICBmdW5jdGlvbk5hbWU6IEZDX0NPTlNPTEVfVVBEQVRFQ09ERV9GVU5DVElPTk5BTUVcbn1cblxuZXhwb3J0IGNvbnN0IFNUU19BU1NVTUVfUk9MRV9QQVlMT0FEID0ge1xuICAgIHJvbGVBcm46IGBhY3M6cmFtOjoke0ZDX0NPTlNPTEVfQUNDT1VOVElEfTpyb2xlLyR7QVNTVU1FX1JPTEVfRk9SX0ZDX0NPTlNPTEV9YCxcbiAgICByb2xlU2Vzc2lvbk5hbWU6IEFTU1VNRV9ST0xFX0ZPUl9GQ19DT05TT0xFICAvLyDov5nkuKrop5LoibLmmK/pnIDopoFmYy1jb25zb2xl5o6I5p2DXG59XG5cbmV4cG9ydCBjb25zdCBBU1NVTUVfUk9MRV9QT0xJQ1lfRE9DVU1FTlQgPSB7XG4gICAgXCJTdGF0ZW1lbnRcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcIkFjdGlvblwiOiBcInN0czpBc3N1bWVSb2xlXCIsXG4gICAgICAgICAgICBcIkVmZmVjdFwiOiBcIkFsbG93XCIsXG4gICAgICAgICAgICBcIlByaW5jaXBhbFwiOiB7XG4gICAgICAgICAgICAgICAgXCJTZXJ2aWNlXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJmYy5hbGl5dW5jcy5jb21cIlxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIF0sXG4gICAgXCJWZXJzaW9uXCI6IFwiMVwiXG59XG5cbmV4cG9ydCBjb25zdCBTRVJWRVJMRVNTX0RFVlNfUE9MSUNJRVMgPSBbJ0FsaXl1bkZDU2VydmVybGVzc0RldnNSb2xlUG9saWN5JywgJ0FsaXl1bkZDRGVmYXVsdFJvbGVQb2xpY3knLCAnQWxpeXVuRkNGdWxsQWNjZXNzJywgJ0FsaXl1bk5BU0Z1bGxBY2Nlc3MnLCAnQWxpeXVuVlBDRnVsbEFjY2VzcyddOyJdLCJuYW1lcyI6WyJGQ19DT05TT0xFX0FDQ09VTlRJRCIsIkZDX0NPTlNPTEVfV0VCSURFX1NFUlZJQ0VOQU1FIiwiRkNfQ09OU09MRV9XRUJJREVfRlVOQ1RJT05OQU1FIiwiRkNfQ09OU09MRV9VUERBVEVDT0RFX0ZVTkNUSU9OTkFNRSIsIkFTU1VNRV9ST0xFX0ZPUl9GQ19DT05TT0xFIiwicHJvY2VzcyIsImVudiIsIkZjQ29uc29sZUFzc3VtZVJvbGVOYW1lIiwiRkNfREVGQVVMVF9ST0xFX05BTUUiLCJERVZTX0FQSV9FTkRQT0lOVCIsIkRFRkFVTFRfUkVHSU9OIiwiSU5WT0tFX0dFVF9XRUJJREVfREFUQSIsInNlcnZpY2VOYW1lIiwiZnVuY3Rpb25OYW1lIiwiSU5WT0tFX1VQREFURV9DT0RFX0RBVEEiLCJTVFNfQVNTVU1FX1JPTEVfUEFZTE9BRCIsInJvbGVBcm4iLCJyb2xlU2Vzc2lvbk5hbWUiLCJBU1NVTUVfUk9MRV9QT0xJQ1lfRE9DVU1FTlQiLCJTRVJWRVJMRVNTX0RFVlNfUE9MSUNJRVMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./constants/cloud-resources.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/fc/fcClient.ts":
/*!******************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/fc/fcClient.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FcClient)\n/* harmony export */ });\n/* harmony import */ var _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/fc-open20210406 */ \"@alicloud/fc-open20210406\");\n/* harmony import */ var _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_0__);\n\nclass FcClient extends (_alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_0___default()) {\n    constructor(config){\n        super(config);\n    }\n    async getOrCreateAppWorkSpace() {}\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9mYy9mY0NsaWVudC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDMEM7QUFJM0IsTUFBTUMsaUJBQWlCRCxrRUFBRUE7SUFDcENFLFlBQVlDLE1BQXVCLENBQUU7UUFDakMsS0FBSyxDQUFDQTtJQUNWO0lBQ0EsTUFBTUMsMEJBQTBCLENBRWhDO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZ2VudGNyYWZ0LXVpLy4vaW5mcmEvYWxpYmFiYS1jbG91ZC9vcGVuLWFwaXMvZmMvZmNDbGllbnQudHM/YWFhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBGYyBmcm9tICdAYWxpY2xvdWQvZmMtb3BlbjIwMjEwNDA2J1xuaW1wb3J0ICogYXMgJE9wZW5BcGkgZnJvbSAnQGFsaWNsb3VkL29wZW5hcGktY2xpZW50JztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGY0NsaWVudCBleHRlbmRzIEZjIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6ICRPcGVuQXBpLkNvbmZpZykge1xuICAgICAgICBzdXBlcihjb25maWcpO1xuICAgIH1cbiAgICBhc3luYyBnZXRPckNyZWF0ZUFwcFdvcmtTcGFjZSgpIHtcblxuICAgIH1cbn1cblxuIl0sIm5hbWVzIjpbIkZjIiwiRmNDbGllbnQiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImdldE9yQ3JlYXRlQXBwV29ya1NwYWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/fc/fcClient.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/fc/index.ts":
/*!***************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/fc/index.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServerlessBridgeFc: () => (/* binding */ ServerlessBridgeFc),\n/* harmony export */   ServerlessBridgeServerlessDevs: () => (/* binding */ ServerlessBridgeServerlessDevs)\n/* harmony export */ });\n/* harmony import */ var _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/openapi-client */ \"@alicloud/openapi-client\");\n/* harmony import */ var _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @alicloud/serverless20210924 */ \"@alicloud/serverless20210924\");\n/* harmony import */ var _alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @alicloud/tea-util */ \"@alicloud/tea-util\");\n/* harmony import */ var _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @alicloud/fc-open20210406 */ \"@alicloud/fc-open20210406\");\n/* harmony import */ var _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _serverlessDevsClient__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./serverlessDevsClient */ \"(api)/./infra/alibaba-cloud/open-apis/fc/serverlessDevsClient.ts\");\n/* harmony import */ var _fcClient__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fcClient */ \"(api)/./infra/alibaba-cloud/open-apis/fc/fcClient.ts\");\n\n\n\n\n\n\nclass ServerlessBridgeServerlessDevs {\n    constructor(config){\n        this.client = this.createServerlessDevsClient(config);\n    }\n    createServerlessDevsClient(config) {\n        const credential = config ?? {\n            accessKeyId: process.env.AK,\n            accessKeySecret: process.env.SK\n        };\n        credential.endpoint = `serverless-dualstack.cn-hangzhou.aliyuncs.com`;\n        const _config = new _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__.Config(credential);\n        return new _serverlessDevsClient__WEBPACK_IMPORTED_MODULE_4__[\"default\"](_config);\n    }\n    async createApplication(payload) {\n        const createAppData = new _alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_1__.CreateApplicationRequest(payload);\n        const data = await this.client.createApplication(createAppData);\n        return data;\n    }\n    async deleteApplication(appName) {\n        const data = await this.client.deleteApplication(appName);\n        return data;\n    }\n    async getApplication(appName) {\n        const runtimeObject = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__.RuntimeOptions({\n            ReadTimeout: 60000\n        });\n        const headers = {};\n        return await this.client.getApplicationWithOptions(appName, headers, runtimeObject);\n    }\n    async listApplications() {\n        const listApplicationData = new _alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_1__.ListApplicationsRequest({});\n        const data = await this.client.listApplications(listApplicationData);\n        return data;\n    }\n}\nclass ServerlessBridgeFc {\n    constructor(config, accountId){\n        this.client = this.createFcClient(config, accountId);\n    }\n    createFcClient(config, accountId) {\n        const credential = config ?? {\n            accessKeyId: process.env.AK,\n            accessKeySecret: process.env.SK\n        };\n        credential.endpoint = `${accountId}.${process.env.Region}.fc.aliyuncs.com`;\n        const _config = new _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__.Config(credential);\n        return new _fcClient__WEBPACK_IMPORTED_MODULE_5__[\"default\"](_config);\n    }\n    async invokeFunction(fcInvokeData, payload) {\n        const invokeFunctionHeaders = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.InvokeFunctionHeaders({});\n        const invokeFunctionRequest = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.InvokeFunctionRequest({\n            body: _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2___default().toBytes(JSON.stringify(payload))\n        });\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__.RuntimeOptions({});\n        return await this.client.invokeFunctionWithOptions(fcInvokeData.serviceName, fcInvokeData.functionName, invokeFunctionRequest, invokeFunctionHeaders, runtime);\n    }\n    async listFunctions(payload) {\n        const listFunctionsHeaders = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.ListFunctionsHeaders({});\n        const listFunctionsRequest = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.ListFunctionsRequest(payload);\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__.RuntimeOptions({});\n        return await this.client.listFunctionsWithOptions(\"\", listFunctionsRequest, listFunctionsHeaders, runtime);\n    }\n    async updateFunction(payload) {\n        const updateFunctionHeaders = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.UpdateFunctionHeaders({});\n        const environmentVariables = payload.environmentVariables;\n        const updateFunctionRequest = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.UpdateFunctionRequest({\n            environmentVariables: environmentVariables\n        });\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__.RuntimeOptions({});\n        return await this.client.updateFunctionWithOptions(payload.serviceName, payload.functionName, updateFunctionRequest, updateFunctionHeaders, runtime);\n    }\n    async getService(payload) {\n        let getServiceHeaders = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.GetServiceHeaders({});\n        let getServiceRequest = new _alicloud_fc_open20210406__WEBPACK_IMPORTED_MODULE_3__.GetServiceRequest({});\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__.RuntimeOptions({});\n        return await this.client.getServiceWithOptions(payload.serviceName, getServiceRequest, getServiceHeaders, runtime);\n    }\n    async getFunction(payload) {\n        const params = new _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__.Params({\n            // 接口名称\n            action: \"GetFunction\",\n            // 接口版本\n            version: \"2021-04-06\",\n            // 接口协议\n            protocol: \"HTTPS\",\n            // 接口 HTTP 方法\n            method: \"GET\",\n            authType: \"AK\",\n            style: \"FC\",\n            // 接口 PATH\n            pathname: `/2021-04-06/services/${payload.serviceName}/functions/${payload.functionName}`,\n            // 接口请求体内容格式\n            reqBodyType: \"json\",\n            // 接口响应体内容格式\n            bodyType: \"json\"\n        });\n        // runtime options\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__.RuntimeOptions({});\n        const request = new _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__.OpenApiRequest({});\n        return await this.client.callApi(params, request, runtime);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9mYy9pbmRleC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFDcUQ7QUFDNkM7QUFDaEQ7QUFDdUs7QUFDL0o7QUFDeEI7QUFPM0IsTUFBTWU7SUFFVEMsWUFBWUMsTUFBc0IsQ0FBRTtRQUNoQyxJQUFJLENBQUNDLE1BQU0sR0FBRyxJQUFJLENBQUNDLDBCQUEwQixDQUFDRjtJQUNsRDtJQUNBRSwyQkFBMkJGLE1BQXNCLEVBQUU7UUFDL0MsTUFBTUcsYUFBYUgsVUFBVTtZQUN6QkksYUFBYUMsUUFBUUMsR0FBRyxDQUFDQyxFQUFFO1lBQzNCQyxpQkFBaUJILFFBQVFDLEdBQUcsQ0FBQ0csRUFBRTtRQUNuQztRQUNBTixXQUFXTyxRQUFRLEdBQUcsQ0FBQyw2Q0FBNkMsQ0FBQztRQUNyRSxNQUFNQyxVQUFVLElBQUk1Qiw0REFBZSxDQUFDb0I7UUFDcEMsT0FBTyxJQUFJUCw2REFBb0JBLENBQUNlO0lBQ3BDO0lBRUEsTUFBTUUsa0JBQWtCQyxPQUFZLEVBQUU7UUFDbEMsTUFBTUMsZ0JBQWdCLElBQUkvQixrRkFBd0JBLENBQUM4QjtRQUNuRCxNQUFNRSxPQUFPLE1BQU0sSUFBSSxDQUFDZixNQUFNLENBQUNZLGlCQUFpQixDQUFDRTtRQUNqRCxPQUFPQztJQUNYO0lBRUEsTUFBTUMsa0JBQWtCQyxPQUFlLEVBQUU7UUFFckMsTUFBTUYsT0FBTyxNQUFNLElBQUksQ0FBQ2YsTUFBTSxDQUFDZ0IsaUJBQWlCLENBQUNDO1FBQ2pELE9BQU9GO0lBQ1g7SUFFQSxNQUFNRyxlQUFlRCxPQUFlLEVBQUU7UUFDbEMsTUFBTUUsZ0JBQWdCLElBQUlqQyw4REFBb0IsQ0FBQztZQUFFbUMsYUFBYTtRQUFNO1FBQ3BFLE1BQU1DLFVBQXFDLENBQUM7UUFDNUMsT0FBTyxNQUFNLElBQUksQ0FBQ3RCLE1BQU0sQ0FBQ3VCLHlCQUF5QixDQUFDTixTQUFTSyxTQUFTSDtJQUN6RTtJQUVBLE1BQU1LLG1CQUFtQjtRQUNyQixNQUFNQyxzQkFBc0IsSUFBSXpDLGlGQUF1QkEsQ0FBQyxDQUFDO1FBQ3pELE1BQU0rQixPQUFPLE1BQU0sSUFBSSxDQUFDZixNQUFNLENBQUN3QixnQkFBZ0IsQ0FBQ0M7UUFDaEQsT0FBT1Y7SUFDWDtBQUNKO0FBT08sTUFBTVc7SUFFVDVCLFlBQVlDLE1BQXNCLEVBQUU0QixTQUFrQixDQUFFO1FBQ3BELElBQUksQ0FBQzNCLE1BQU0sR0FBRyxJQUFJLENBQUM0QixjQUFjLENBQUM3QixRQUFRNEI7SUFDOUM7SUFDQUMsZUFBZTdCLE1BQXNCLEVBQUU0QixTQUFrQixFQUFFO1FBQ3ZELE1BQU16QixhQUFhSCxVQUFVO1lBQ3pCSSxhQUFhQyxRQUFRQyxHQUFHLENBQUNDLEVBQUU7WUFDM0JDLGlCQUFpQkgsUUFBUUMsR0FBRyxDQUFDRyxFQUFFO1FBQ25DO1FBQ0FOLFdBQVdPLFFBQVEsR0FBRyxDQUFDLEVBQUVrQixVQUFVLENBQUMsRUFBRXZCLFFBQVFDLEdBQUcsQ0FBQ3dCLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztRQUMxRSxNQUFNbkIsVUFBVSxJQUFJNUIsNERBQWUsQ0FBQ29CO1FBQ3BDLE9BQU8sSUFBSU4saURBQVFBLENBQUNjO0lBQ3hCO0lBRUEsTUFBTW9CLGVBQWVDLFlBQWlCLEVBQUVsQixPQUFZLEVBQUU7UUFFbEQsTUFBTW1CLHdCQUF3QixJQUFJNUMsNEVBQXFCQSxDQUFDLENBQUM7UUFDekQsTUFBTTZDLHdCQUF3QixJQUFJOUMsNEVBQXFCQSxDQUFDO1lBQUUrQyxNQUFNakQsaUVBQVksQ0FBQ21ELEtBQUtDLFNBQVMsQ0FBQ3hCO1FBQVU7UUFDdEcsTUFBTXlCLFVBQVUsSUFBSXBELDhEQUFvQixDQUFDLENBQUM7UUFDMUMsT0FBTyxNQUFNLElBQUksQ0FBQ2MsTUFBTSxDQUFDdUMseUJBQXlCLENBQUNSLGFBQWFTLFdBQVcsRUFBRVQsYUFBYVUsWUFBWSxFQUFFUix1QkFBdUJELHVCQUF1Qk07SUFDMUo7SUFFQSxNQUFNSSxjQUFjN0IsT0FBWSxFQUFFO1FBQzlCLE1BQU04Qix1QkFBdUIsSUFBSXRELDJFQUFvQkEsQ0FBQyxDQUFDO1FBQ3ZELE1BQU11RCx1QkFBdUIsSUFBSXRELDJFQUFvQkEsQ0FBQ3VCO1FBQ3RELE1BQU15QixVQUFVLElBQUlwRCw4REFBb0IsQ0FBQyxDQUFDO1FBQzFDLE9BQU8sTUFBTSxJQUFJLENBQUNjLE1BQU0sQ0FBQzZDLHdCQUF3QixDQUFDLElBQUlELHNCQUFzQkQsc0JBQXNCTDtJQUN0RztJQUNBLE1BQU1RLGVBQWVqQyxPQUFrQyxFQUFFO1FBQ3JELE1BQU1rQyx3QkFBd0IsSUFBSXhELDRFQUFxQkEsQ0FBQyxDQUFDO1FBQ3pELE1BQU15RCx1QkFBdUJuQyxRQUFRbUMsb0JBQW9CO1FBQ3pELE1BQU1DLHdCQUF3QixJQUFJekQsNEVBQXFCQSxDQUFDO1lBQ3BEd0Qsc0JBQXNCQTtRQUMxQjtRQUNBLE1BQU1WLFVBQVUsSUFBSXBELDhEQUFvQixDQUFDLENBQUM7UUFDMUMsT0FBTyxNQUFNLElBQUksQ0FBQ2MsTUFBTSxDQUFDa0QseUJBQXlCLENBQUNyQyxRQUFRMkIsV0FBVyxFQUFFM0IsUUFBUTRCLFlBQVksRUFBRVEsdUJBQXVCRix1QkFBdUJUO0lBQ2hKO0lBRUEsTUFBTWEsV0FBV3RDLE9BQVksRUFBRTtRQUMzQixJQUFJdUMsb0JBQW9CLElBQUkzRCx3RUFBaUJBLENBQUMsQ0FBQztRQUMvQyxJQUFJNEQsb0JBQW9CLElBQUkzRCx3RUFBaUJBLENBQUMsQ0FBQztRQUMvQyxNQUFNNEMsVUFBVSxJQUFJcEQsOERBQW9CLENBQUMsQ0FBQztRQUMxQyxPQUFPLE1BQU0sSUFBSSxDQUFDYyxNQUFNLENBQUNzRCxxQkFBcUIsQ0FBQ3pDLFFBQVEyQixXQUFXLEVBQUVhLG1CQUFtQkQsbUJBQW1CZDtJQUM5RztJQUVBLE1BQU1pQixZQUFZMUMsT0FBa0MsRUFBRTtRQUNsRCxNQUFNMkMsU0FBUyxJQUFJMUUsNERBQWUsQ0FBQztZQUMvQixPQUFPO1lBQ1A0RSxRQUFRO1lBQ1IsT0FBTztZQUNQQyxTQUFTO1lBQ1QsT0FBTztZQUNQQyxVQUFVO1lBQ1YsYUFBYTtZQUNiQyxRQUFRO1lBQ1JDLFVBQVU7WUFDVkMsT0FBTztZQUNQLFVBQVU7WUFDVkMsVUFBVSxDQUFDLHFCQUFxQixFQUFFbkQsUUFBUTJCLFdBQVcsQ0FBQyxXQUFXLEVBQUUzQixRQUFRNEIsWUFBWSxDQUFDLENBQUM7WUFDekYsWUFBWTtZQUNad0IsYUFBYTtZQUNiLFlBQVk7WUFDWkMsVUFBVTtRQUNkO1FBQ0Esa0JBQWtCO1FBQ2xCLE1BQU01QixVQUFVLElBQUlwRCw4REFBb0IsQ0FBQyxDQUFDO1FBQzFDLE1BQU1pRixVQUFVLElBQUlyRixvRUFBdUIsQ0FBQyxDQUFDO1FBQzdDLE9BQU8sTUFBTSxJQUFJLENBQUNrQixNQUFNLENBQUNxRSxPQUFPLENBQUNiLFFBQVFXLFNBQVM3QjtJQUN0RDtBQUVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWdlbnRjcmFmdC11aS8uL2luZnJhL2FsaWJhYmEtY2xvdWQvb3Blbi1hcGlzL2ZjL2luZGV4LnRzP2E0OGUiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgKiBhcyAkT3BlbkFwaSBmcm9tICdAYWxpY2xvdWQvb3BlbmFwaS1jbGllbnQnO1xuaW1wb3J0IHsgQ3JlYXRlQXBwbGljYXRpb25SZXF1ZXN0LCBMaXN0QXBwbGljYXRpb25zUmVxdWVzdCwgfSBmcm9tICdAYWxpY2xvdWQvc2VydmVybGVzczIwMjEwOTI0JztcbmltcG9ydCBVdGlsLCAqIGFzICRVdGlsIGZyb20gJ0BhbGljbG91ZC90ZWEtdXRpbCc7XG5pbXBvcnQgeyBJbnZva2VGdW5jdGlvblJlcXVlc3QsIEludm9rZUZ1bmN0aW9uSGVhZGVycywgTGlzdEZ1bmN0aW9uc0hlYWRlcnMsIExpc3RGdW5jdGlvbnNSZXF1ZXN0LCBVcGRhdGVGdW5jdGlvbkhlYWRlcnMsIFVwZGF0ZUZ1bmN0aW9uUmVxdWVzdCwgR2V0U2VydmljZUhlYWRlcnMsIEdldFNlcnZpY2VSZXF1ZXN0IH0gZnJvbSAnQGFsaWNsb3VkL2ZjLW9wZW4yMDIxMDQwNic7XG5pbXBvcnQgU2VydmVybGVzc0RldnNDbGllbnQgZnJvbSBcIi4vc2VydmVybGVzc0RldnNDbGllbnRcIjtcbmltcG9ydCBGY0NsaWVudCBmcm9tIFwiLi9mY0NsaWVudFwiO1xuaW1wb3J0IHsgT3BlbkFwaUNvbmZpZyB9IGZyb20gJy4uL3R5cGVzJztcblxuXG5cblxuXG5leHBvcnQgY2xhc3MgU2VydmVybGVzc0JyaWRnZVNlcnZlcmxlc3NEZXZzIHtcbiAgICBjbGllbnQ6IFNlcnZlcmxlc3NEZXZzQ2xpZW50O1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZz86IE9wZW5BcGlDb25maWcpIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSB0aGlzLmNyZWF0ZVNlcnZlcmxlc3NEZXZzQ2xpZW50KGNvbmZpZyk7XG4gICAgfVxuICAgIGNyZWF0ZVNlcnZlcmxlc3NEZXZzQ2xpZW50KGNvbmZpZz86IE9wZW5BcGlDb25maWcpIHtcbiAgICAgICAgY29uc3QgY3JlZGVudGlhbCA9IGNvbmZpZyA/PyB7XG4gICAgICAgICAgICBhY2Nlc3NLZXlJZDogcHJvY2Vzcy5lbnYuQUssXG4gICAgICAgICAgICBhY2Nlc3NLZXlTZWNyZXQ6IHByb2Nlc3MuZW52LlNLLFxuICAgICAgICB9XG4gICAgICAgIGNyZWRlbnRpYWwuZW5kcG9pbnQgPSBgc2VydmVybGVzcy1kdWFsc3RhY2suY24taGFuZ3pob3UuYWxpeXVuY3MuY29tYFxuICAgICAgICBjb25zdCBfY29uZmlnID0gbmV3ICRPcGVuQXBpLkNvbmZpZyhjcmVkZW50aWFsKTtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXJ2ZXJsZXNzRGV2c0NsaWVudChfY29uZmlnKTtcbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGVBcHBsaWNhdGlvbihwYXlsb2FkOiBhbnkpIHtcbiAgICAgICAgY29uc3QgY3JlYXRlQXBwRGF0YSA9IG5ldyBDcmVhdGVBcHBsaWNhdGlvblJlcXVlc3QocGF5bG9hZCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmNsaWVudC5jcmVhdGVBcHBsaWNhdGlvbihjcmVhdGVBcHBEYXRhKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVsZXRlQXBwbGljYXRpb24oYXBwTmFtZTogc3RyaW5nKSB7XG5cbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuY2xpZW50LmRlbGV0ZUFwcGxpY2F0aW9uKGFwcE5hbWUpXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGFzeW5jIGdldEFwcGxpY2F0aW9uKGFwcE5hbWU6IHN0cmluZykge1xuICAgICAgICBjb25zdCBydW50aW1lT2JqZWN0ID0gbmV3ICRVdGlsLlJ1bnRpbWVPcHRpb25zKHsgUmVhZFRpbWVvdXQ6IDYwMDAwIH0pO1xuICAgICAgICBjb25zdCBoZWFkZXJzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5nZXRBcHBsaWNhdGlvbldpdGhPcHRpb25zKGFwcE5hbWUsIGhlYWRlcnMsIHJ1bnRpbWVPYmplY3QpO1xuICAgIH1cblxuICAgIGFzeW5jIGxpc3RBcHBsaWNhdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IGxpc3RBcHBsaWNhdGlvbkRhdGEgPSBuZXcgTGlzdEFwcGxpY2F0aW9uc1JlcXVlc3Qoe30pO1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5jbGllbnQubGlzdEFwcGxpY2F0aW9ucyhsaXN0QXBwbGljYXRpb25EYXRhKTtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxufVxuaW50ZXJmYWNlIFVwZGF0ZUZ1bmN0aW9uQ29uZmlnUHJvcHMge1xuICAgIHNlcnZpY2VOYW1lOiBzdHJpbmcsXG4gICAgZnVuY3Rpb25OYW1lOiBzdHJpbmcsXG4gICAgZW52aXJvbm1lbnRWYXJpYWJsZXM/OiBhbnlcbn1cblxuZXhwb3J0IGNsYXNzIFNlcnZlcmxlc3NCcmlkZ2VGYyB7XG4gICAgY2xpZW50OiBGY0NsaWVudDtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc/OiBPcGVuQXBpQ29uZmlnLCBhY2NvdW50SWQ/OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSB0aGlzLmNyZWF0ZUZjQ2xpZW50KGNvbmZpZywgYWNjb3VudElkKTtcbiAgICB9XG4gICAgY3JlYXRlRmNDbGllbnQoY29uZmlnPzogT3BlbkFwaUNvbmZpZywgYWNjb3VudElkPzogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWwgPSBjb25maWcgPz8ge1xuICAgICAgICAgICAgYWNjZXNzS2V5SWQ6IHByb2Nlc3MuZW52LkFLLFxuICAgICAgICAgICAgYWNjZXNzS2V5U2VjcmV0OiBwcm9jZXNzLmVudi5TSyxcbiAgICAgICAgfVxuICAgICAgICBjcmVkZW50aWFsLmVuZHBvaW50ID0gYCR7YWNjb3VudElkfS4ke3Byb2Nlc3MuZW52LlJlZ2lvbn0uZmMuYWxpeXVuY3MuY29tYFxuICAgICAgICBjb25zdCBfY29uZmlnID0gbmV3ICRPcGVuQXBpLkNvbmZpZyhjcmVkZW50aWFsKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGY0NsaWVudChfY29uZmlnKTtcbiAgICB9XG5cbiAgICBhc3luYyBpbnZva2VGdW5jdGlvbihmY0ludm9rZURhdGE6IGFueSwgcGF5bG9hZDogYW55KSB7XG5cbiAgICAgICAgY29uc3QgaW52b2tlRnVuY3Rpb25IZWFkZXJzID0gbmV3IEludm9rZUZ1bmN0aW9uSGVhZGVycyh7fSk7XG4gICAgICAgIGNvbnN0IGludm9rZUZ1bmN0aW9uUmVxdWVzdCA9IG5ldyBJbnZva2VGdW5jdGlvblJlcXVlc3QoeyBib2R5OiBVdGlsLnRvQnl0ZXMoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpIH0pO1xuICAgICAgICBjb25zdCBydW50aW1lID0gbmV3ICRVdGlsLlJ1bnRpbWVPcHRpb25zKHt9KTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50Lmludm9rZUZ1bmN0aW9uV2l0aE9wdGlvbnMoZmNJbnZva2VEYXRhLnNlcnZpY2VOYW1lLCBmY0ludm9rZURhdGEuZnVuY3Rpb25OYW1lLCBpbnZva2VGdW5jdGlvblJlcXVlc3QsIGludm9rZUZ1bmN0aW9uSGVhZGVycywgcnVudGltZSk7XG4gICAgfVxuXG4gICAgYXN5bmMgbGlzdEZ1bmN0aW9ucyhwYXlsb2FkOiBhbnkpIHtcbiAgICAgICAgY29uc3QgbGlzdEZ1bmN0aW9uc0hlYWRlcnMgPSBuZXcgTGlzdEZ1bmN0aW9uc0hlYWRlcnMoe30pO1xuICAgICAgICBjb25zdCBsaXN0RnVuY3Rpb25zUmVxdWVzdCA9IG5ldyBMaXN0RnVuY3Rpb25zUmVxdWVzdChwYXlsb2FkKTtcbiAgICAgICAgY29uc3QgcnVudGltZSA9IG5ldyAkVXRpbC5SdW50aW1lT3B0aW9ucyh7fSk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5saXN0RnVuY3Rpb25zV2l0aE9wdGlvbnMoXCJcIiwgbGlzdEZ1bmN0aW9uc1JlcXVlc3QsIGxpc3RGdW5jdGlvbnNIZWFkZXJzLCBydW50aW1lKTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlRnVuY3Rpb24ocGF5bG9hZDogVXBkYXRlRnVuY3Rpb25Db25maWdQcm9wcykge1xuICAgICAgICBjb25zdCB1cGRhdGVGdW5jdGlvbkhlYWRlcnMgPSBuZXcgVXBkYXRlRnVuY3Rpb25IZWFkZXJzKHt9KTtcbiAgICAgICAgY29uc3QgZW52aXJvbm1lbnRWYXJpYWJsZXMgPSBwYXlsb2FkLmVudmlyb25tZW50VmFyaWFibGVzO1xuICAgICAgICBjb25zdCB1cGRhdGVGdW5jdGlvblJlcXVlc3QgPSBuZXcgVXBkYXRlRnVuY3Rpb25SZXF1ZXN0KHtcbiAgICAgICAgICAgIGVudmlyb25tZW50VmFyaWFibGVzOiBlbnZpcm9ubWVudFZhcmlhYmxlcyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJ1bnRpbWUgPSBuZXcgJFV0aWwuUnVudGltZU9wdGlvbnMoe30pO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQudXBkYXRlRnVuY3Rpb25XaXRoT3B0aW9ucyhwYXlsb2FkLnNlcnZpY2VOYW1lLCBwYXlsb2FkLmZ1bmN0aW9uTmFtZSwgdXBkYXRlRnVuY3Rpb25SZXF1ZXN0LCB1cGRhdGVGdW5jdGlvbkhlYWRlcnMsIHJ1bnRpbWUpO1xuICAgIH1cblxuICAgIGFzeW5jIGdldFNlcnZpY2UocGF5bG9hZDogYW55KSB7XG4gICAgICAgIGxldCBnZXRTZXJ2aWNlSGVhZGVycyA9IG5ldyBHZXRTZXJ2aWNlSGVhZGVycyh7fSk7XG4gICAgICAgIGxldCBnZXRTZXJ2aWNlUmVxdWVzdCA9IG5ldyBHZXRTZXJ2aWNlUmVxdWVzdCh7fSk7XG4gICAgICAgIGNvbnN0IHJ1bnRpbWUgPSBuZXcgJFV0aWwuUnVudGltZU9wdGlvbnMoe30pO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQuZ2V0U2VydmljZVdpdGhPcHRpb25zKHBheWxvYWQuc2VydmljZU5hbWUsIGdldFNlcnZpY2VSZXF1ZXN0LCBnZXRTZXJ2aWNlSGVhZGVycywgcnVudGltZSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0RnVuY3Rpb24ocGF5bG9hZDogVXBkYXRlRnVuY3Rpb25Db25maWdQcm9wcykge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgJE9wZW5BcGkuUGFyYW1zKHtcbiAgICAgICAgICAgIC8vIOaOpeWPo+WQjeensFxuICAgICAgICAgICAgYWN0aW9uOiBcIkdldEZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAvLyDmjqXlj6PniYjmnKxcbiAgICAgICAgICAgIHZlcnNpb246IFwiMjAyMS0wNC0wNlwiLFxuICAgICAgICAgICAgLy8g5o6l5Y+j5Y2P6K6uXG4gICAgICAgICAgICBwcm90b2NvbDogXCJIVFRQU1wiLFxuICAgICAgICAgICAgLy8g5o6l5Y+jIEhUVFAg5pa55rOVXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICAgICAgICBhdXRoVHlwZTogXCJBS1wiLFxuICAgICAgICAgICAgc3R5bGU6IFwiRkNcIixcbiAgICAgICAgICAgIC8vIOaOpeWPoyBQQVRIXG4gICAgICAgICAgICBwYXRobmFtZTogYC8yMDIxLTA0LTA2L3NlcnZpY2VzLyR7cGF5bG9hZC5zZXJ2aWNlTmFtZX0vZnVuY3Rpb25zLyR7cGF5bG9hZC5mdW5jdGlvbk5hbWV9YCxcbiAgICAgICAgICAgIC8vIOaOpeWPo+ivt+axguS9k+WGheWuueagvOW8j1xuICAgICAgICAgICAgcmVxQm9keVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgLy8g5o6l5Y+j5ZON5bqU5L2T5YaF5a655qC85byPXG4gICAgICAgICAgICBib2R5VHlwZTogXCJqc29uXCIsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBydW50aW1lIG9wdGlvbnNcbiAgICAgICAgY29uc3QgcnVudGltZSA9IG5ldyAkVXRpbC5SdW50aW1lT3B0aW9ucyh7fSk7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgJE9wZW5BcGkuT3BlbkFwaVJlcXVlc3Qoe30pO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQuY2FsbEFwaShwYXJhbXMsIHJlcXVlc3QsIHJ1bnRpbWUpO1xuICAgIH1cblxufVxuXG4iXSwibmFtZXMiOlsiJE9wZW5BcGkiLCJDcmVhdGVBcHBsaWNhdGlvblJlcXVlc3QiLCJMaXN0QXBwbGljYXRpb25zUmVxdWVzdCIsIlV0aWwiLCIkVXRpbCIsIkludm9rZUZ1bmN0aW9uUmVxdWVzdCIsIkludm9rZUZ1bmN0aW9uSGVhZGVycyIsIkxpc3RGdW5jdGlvbnNIZWFkZXJzIiwiTGlzdEZ1bmN0aW9uc1JlcXVlc3QiLCJVcGRhdGVGdW5jdGlvbkhlYWRlcnMiLCJVcGRhdGVGdW5jdGlvblJlcXVlc3QiLCJHZXRTZXJ2aWNlSGVhZGVycyIsIkdldFNlcnZpY2VSZXF1ZXN0IiwiU2VydmVybGVzc0RldnNDbGllbnQiLCJGY0NsaWVudCIsIlNlcnZlcmxlc3NCcmlkZ2VTZXJ2ZXJsZXNzRGV2cyIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiY2xpZW50IiwiY3JlYXRlU2VydmVybGVzc0RldnNDbGllbnQiLCJjcmVkZW50aWFsIiwiYWNjZXNzS2V5SWQiLCJwcm9jZXNzIiwiZW52IiwiQUsiLCJhY2Nlc3NLZXlTZWNyZXQiLCJTSyIsImVuZHBvaW50IiwiX2NvbmZpZyIsIkNvbmZpZyIsImNyZWF0ZUFwcGxpY2F0aW9uIiwicGF5bG9hZCIsImNyZWF0ZUFwcERhdGEiLCJkYXRhIiwiZGVsZXRlQXBwbGljYXRpb24iLCJhcHBOYW1lIiwiZ2V0QXBwbGljYXRpb24iLCJydW50aW1lT2JqZWN0IiwiUnVudGltZU9wdGlvbnMiLCJSZWFkVGltZW91dCIsImhlYWRlcnMiLCJnZXRBcHBsaWNhdGlvbldpdGhPcHRpb25zIiwibGlzdEFwcGxpY2F0aW9ucyIsImxpc3RBcHBsaWNhdGlvbkRhdGEiLCJTZXJ2ZXJsZXNzQnJpZGdlRmMiLCJhY2NvdW50SWQiLCJjcmVhdGVGY0NsaWVudCIsIlJlZ2lvbiIsImludm9rZUZ1bmN0aW9uIiwiZmNJbnZva2VEYXRhIiwiaW52b2tlRnVuY3Rpb25IZWFkZXJzIiwiaW52b2tlRnVuY3Rpb25SZXF1ZXN0IiwiYm9keSIsInRvQnl0ZXMiLCJKU09OIiwic3RyaW5naWZ5IiwicnVudGltZSIsImludm9rZUZ1bmN0aW9uV2l0aE9wdGlvbnMiLCJzZXJ2aWNlTmFtZSIsImZ1bmN0aW9uTmFtZSIsImxpc3RGdW5jdGlvbnMiLCJsaXN0RnVuY3Rpb25zSGVhZGVycyIsImxpc3RGdW5jdGlvbnNSZXF1ZXN0IiwibGlzdEZ1bmN0aW9uc1dpdGhPcHRpb25zIiwidXBkYXRlRnVuY3Rpb24iLCJ1cGRhdGVGdW5jdGlvbkhlYWRlcnMiLCJlbnZpcm9ubWVudFZhcmlhYmxlcyIsInVwZGF0ZUZ1bmN0aW9uUmVxdWVzdCIsInVwZGF0ZUZ1bmN0aW9uV2l0aE9wdGlvbnMiLCJnZXRTZXJ2aWNlIiwiZ2V0U2VydmljZUhlYWRlcnMiLCJnZXRTZXJ2aWNlUmVxdWVzdCIsImdldFNlcnZpY2VXaXRoT3B0aW9ucyIsImdldEZ1bmN0aW9uIiwicGFyYW1zIiwiUGFyYW1zIiwiYWN0aW9uIiwidmVyc2lvbiIsInByb3RvY29sIiwibWV0aG9kIiwiYXV0aFR5cGUiLCJzdHlsZSIsInBhdGhuYW1lIiwicmVxQm9keVR5cGUiLCJib2R5VHlwZSIsInJlcXVlc3QiLCJPcGVuQXBpUmVxdWVzdCIsImNhbGxBcGkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/fc/index.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/fc/serverlessDevsClient.ts":
/*!******************************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/fc/serverlessDevsClient.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ServerlessDevsClient)\n/* harmony export */ });\n/* harmony import */ var _alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/serverless20210924 */ \"@alicloud/serverless20210924\");\n/* harmony import */ var _alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_0__);\n\nclass ServerlessDevsClient extends (_alicloud_serverless20210924__WEBPACK_IMPORTED_MODULE_0___default()) {\n    constructor(config){\n        super(config);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9mYy9zZXJ2ZXJsZXNzRGV2c0NsaWVudC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDeUQ7QUFJMUMsTUFBTUMsNkJBQTZCRCxxRUFBY0E7SUFDNURFLFlBQVlDLE1BQXVCLENBQUU7UUFDakMsS0FBSyxDQUFDQTtJQUNWO0FBRUoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZ2VudGNyYWZ0LXVpLy4vaW5mcmEvYWxpYmFiYS1jbG91ZC9vcGVuLWFwaXMvZmMvc2VydmVybGVzc0RldnNDbGllbnQudHM/NGExOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBTZXJ2ZXJsZXNzRGV2cyBmcm9tICdAYWxpY2xvdWQvc2VydmVybGVzczIwMjEwOTI0J1xuaW1wb3J0ICogYXMgJE9wZW5BcGkgZnJvbSAnQGFsaWNsb3VkL29wZW5hcGktY2xpZW50JztcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTZXJ2ZXJsZXNzRGV2c0NsaWVudCBleHRlbmRzIFNlcnZlcmxlc3NEZXZzIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWc6ICRPcGVuQXBpLkNvbmZpZykge1xuICAgICAgICBzdXBlcihjb25maWcpO1xuICAgIH1cbiAgIFxufVxuXG4iXSwibmFtZXMiOlsiU2VydmVybGVzc0RldnMiLCJTZXJ2ZXJsZXNzRGV2c0NsaWVudCIsImNvbnN0cnVjdG9yIiwiY29uZmlnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/fc/serverlessDevsClient.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/ram/index.ts":
/*!****************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/ram/index.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServerlessBridgeRam: () => (/* binding */ ServerlessBridgeRam)\n/* harmony export */ });\n/* harmony import */ var _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/openapi-client */ \"@alicloud/openapi-client\");\n/* harmony import */ var _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @alicloud/tea-util */ \"@alicloud/tea-util\");\n/* harmony import */ var _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @alicloud/ram20150501 */ \"@alicloud/ram20150501\");\n/* harmony import */ var _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _ramClient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ramClient */ \"(api)/./infra/alibaba-cloud/open-apis/ram/ramClient.ts\");\n\n\n\n\nclass ServerlessBridgeRam {\n    constructor(config){\n        this.client = this.createRameClient(config);\n    }\n    createRameClient(config) {\n        const credential = config ?? {\n            accessKeyId: process.env.AK,\n            accessKeySecret: process.env.SK\n        };\n        credential.endpoint = `ram.aliyuncs.com`;\n        const _config = new _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__.Config(credential);\n        return new _ramClient__WEBPACK_IMPORTED_MODULE_3__[\"default\"](_config);\n    }\n    async createUser(payload) {\n        const createUserRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.CreateUserRequest(payload);\n        const result = await this.client.createUser(createUserRequest);\n    }\n    async getRole(roleName) {\n        const getRoleRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.GetRoleRequest({\n            roleName\n        });\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n        const result = await this.client.getRoleWithOptions(getRoleRequest, runtime);\n        return result.body;\n    }\n    async getUser(userName) {\n        try {\n            const getUserRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.GetUserRequest({\n                userName\n            });\n            const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n            const result = await this.client.getUserWithOptions(getUserRequest, runtime);\n            return result.body;\n        } catch (e) {\n            return {\n                error: e\n            };\n        }\n    }\n    async deleteAccessKey(userName, userAccessKeyId) {\n        const deleteAccessKeyRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.DeleteAccessKeyRequest({\n            userAccessKeyId,\n            userName\n        });\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n        const result = await this.client.deleteAccessKeyWithOptions(deleteAccessKeyRequest, runtime);\n        return result.body;\n    }\n    async createAccessKey(userName) {\n        const createAccessKeyRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.CreateAccessKeyRequest({\n            userName\n        });\n        const result = await this.client.createAccessKey(createAccessKeyRequest);\n        return result.body;\n    }\n    async listAccessKeys(userName) {\n        try {\n            const listAccessKeysRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.ListAccessKeysRequest({\n                userName\n            });\n            const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n            const result = await this.client.listAccessKeysWithOptions(listAccessKeysRequest, runtime); //sdk 定义的是大驼峰，然而实际返回的是小驼峰\n            return result.body?.accessKeys.accessKey;\n        } catch (e) {\n            return [];\n        }\n    }\n    async createRole(payload) {\n        const createRoleRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.CreateRoleRequest(payload);\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n        const result = await this.client.createRoleWithOptions(createRoleRequest, runtime);\n        return result.body;\n    }\n    async attactRolePolicy(payload) {\n        const attachPolicyToRoleRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.AttachPolicyToRoleRequest(payload);\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions;\n        const result = await this.client.attachPolicyToRoleWithOptions(attachPolicyToRoleRequest, runtime);\n        return result.body;\n    }\n    async attachPolicyToUser(payload) {\n        try {\n            const attachPolicyToUserRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.AttachPolicyToUserRequest(payload);\n            const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n            const result = await this.client.attachPolicyToUserWithOptions(attachPolicyToUserRequest, runtime);\n            return result.body;\n        } catch (e) {\n            return {\n                error: e\n            };\n        }\n    }\n    async detachPolicyFromUser(payload) {\n        try {\n            const detachPolicyFromUserRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.DetachPolicyFromUserRequest(payload);\n            const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n            const result = await this.client.detachPolicyFromUserWithOptions(detachPolicyFromUserRequest, runtime);\n            return result.body;\n        } catch (e) {\n            return {\n                error: e\n            };\n        }\n    }\n    async createPolicy(payload) {\n        try {\n            const createPolicyRequest = new _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_2__.CreatePolicyRequest(payload);\n            const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_1__.RuntimeOptions({});\n            return await this.client.createPolicyWithOptions(createPolicyRequest, runtime);\n        } catch (e) {\n            return {\n                error: e\n            };\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9yYW0vaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDcUQ7QUFDVDtBQUNnUDtBQUl4UDtBQXFCN0IsTUFBTWM7SUFFVEMsWUFBWUMsTUFBc0IsQ0FBRTtRQUNoQyxJQUFJLENBQUNDLE1BQU0sR0FBRyxJQUFJLENBQUNDLGdCQUFnQixDQUFDRjtJQUN4QztJQUNBRSxpQkFBaUJGLE1BQXNCLEVBQUU7UUFDckMsTUFBTUcsYUFBYUgsVUFBVTtZQUN6QkksYUFBYUMsUUFBUUMsR0FBRyxDQUFDQyxFQUFFO1lBQzNCQyxpQkFBaUJILFFBQVFDLEdBQUcsQ0FBQ0csRUFBRTtRQUNuQztRQUNBTixXQUFXTyxRQUFRLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQztRQUN4QyxNQUFNQyxVQUFVLElBQUkzQiw0REFBZSxDQUFDbUI7UUFDcEMsT0FBTyxJQUFJTixrREFBU0EsQ0FBQ2M7SUFDekI7SUFDQSxNQUFNRSxXQUFXQyxPQUEwQixFQUFFO1FBRXpDLE1BQU1DLG9CQUFvQixJQUFJN0Isb0VBQWlCQSxDQUFDNEI7UUFDaEQsTUFBTUUsU0FBUyxNQUFNLElBQUksQ0FBQ2YsTUFBTSxDQUFDWSxVQUFVLENBQUNFO0lBQ2hEO0lBRUEsTUFBTUUsUUFBUUMsUUFBZ0IsRUFBRTtRQUM1QixNQUFNQyxpQkFBaUIsSUFBSTFCLGlFQUFjQSxDQUFDO1lBQ3RDeUI7UUFDSjtRQUNBLE1BQU1FLFVBQVUsSUFBSW5DLDhEQUFvQixDQUFDLENBQUM7UUFDMUMsTUFBTStCLFNBQVMsTUFBTSxJQUFJLENBQUNmLE1BQU0sQ0FBQ3FCLGtCQUFrQixDQUFDSCxnQkFBZ0JDO1FBQ3BFLE9BQU9KLE9BQU9PLElBQUk7SUFDdEI7SUFFQSxNQUFNQyxRQUFRQyxRQUFnQixFQUFnQjtRQUMxQyxJQUFJO1lBQ0EsTUFBTUMsaUJBQWlCLElBQUluQyxpRUFBY0EsQ0FBQztnQkFDdENrQztZQUNKO1lBQ0EsTUFBTUwsVUFB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UixPQUFPO2dCQUFFQyxPQUFPRDtZQUFFO1FBQ3RCO0lBRUo7SUFFQSxNQUFNeUIsYUFBYXZDLE9BQVcsRUFBZ0I7UUFDMUMsSUFBSTtZQUNBLE1BQU13QyxzQkFBc0IsSUFBSW5FLHNFQUFtQkEsQ0FBQzJCO1lBQ3BELE1BQU1NLFVBQVUsSUFBSW5DLDhEQUFvQixDQUFDLENBQUM7WUFDMUMsT0FBTyxNQUFNLElBQUksQ0FBQ2dCLE1BQU0sQ0FBQ3NELHVCQUF1QixDQUFDRCxxQkFBcUJsQztRQUMxRSxFQUFFLE9BQU9RLEdBQUc7WUFDUixPQUFPO2dCQUNIQyxPQUFPRDtZQUNYO1FBQ0o7SUFDSjtBQUVKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWdlbnRjcmFmdC11aS8uL2luZnJhL2FsaWJhYmEtY2xvdWQvb3Blbi1hcGlzL3JhbS9pbmRleC50cz9kNzlhIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0ICogYXMgJE9wZW5BcGkgZnJvbSAnQGFsaWNsb3VkL29wZW5hcGktY2xpZW50JztcbmltcG9ydCAqIGFzICRVdGlsIGZyb20gJ0BhbGljbG91ZC90ZWEtdXRpbCc7XG5pbXBvcnQgeyBDcmVhdGVVc2VyUmVxdWVzdCwgQ3JlYXRlUG9saWN5UmVxdWVzdCwgQ3JlYXRlQWNjZXNzS2V5UmVxdWVzdCwgQ3JlYXRlUm9sZVJlcXVlc3QsIEF0dGFjaFBvbGljeVRvVXNlclJlcXVlc3QsIEdldFVzZXJSZXF1ZXN0LCBEZWxldGVBY2Nlc3NLZXlSZXF1ZXN0LCBHZXRSb2xlUmVxdWVzdCwgQXR0YWNoUG9saWN5VG9Sb2xlUmVxdWVzdCwgRGV0YWNoUG9saWN5RnJvbVVzZXJSZXF1ZXN0LCBMaXN0QWNjZXNzS2V5c1JlcXVlc3QgfSBmcm9tICdAYWxpY2xvdWQvcmFtMjAxNTA1MDEnO1xuXG5cblxuaW1wb3J0IFJhbUNsaWVudCBmcm9tIFwiLi9yYW1DbGllbnRcIjtcblxuaW1wb3J0IHsgT3BlbkFwaUNvbmZpZyB9IGZyb20gJy4uL3R5cGVzJztcblxuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVVzZXJQYXlsb2FkIHtcbiAgICB1c2VyTmFtZTogc3RyaW5nLFxuICAgIGRpc3BsYXlOYW1lPzogc3RyaW5nLFxuICAgIG1vYmlsZVBob25lPzogc3RyaW5nLFxuICAgIGVtYWlsPzogc3RyaW5nLFxuICAgIGNvbW1lbnRzPzogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlYXRlUm9sZVBheWxvYWQge1xuICAgIHJvbGVOYW1lOiBzdHJpbmcsXG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmcsXG4gICAgYXNzdW1lUm9sZVBvbGljeURvY3VtZW50OiBhbnksXG4gICAgbWFzU2Vzc2lvbkR1cmF0aW9uPzogbnVtYmVyXG59XG5cblxuZXhwb3J0IGNsYXNzIFNlcnZlcmxlc3NCcmlkZ2VSYW0ge1xuICAgIGNsaWVudDogUmFtQ2xpZW50O1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZz86IE9wZW5BcGlDb25maWcpIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSB0aGlzLmNyZWF0ZVJhbWVDbGllbnQoY29uZmlnKTtcbiAgICB9XG4gICAgY3JlYXRlUmFtZUNsaWVudChjb25maWc/OiBPcGVuQXBpQ29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWwgPSBjb25maWcgPz8ge1xuICAgICAgICAgICAgYWNjZXNzS2V5SWQ6IHByb2Nlc3MuZW52LkFLLFxuICAgICAgICAgICAgYWNjZXNzS2V5U2VjcmV0OiBwcm9jZXNzLmVudi5TSyxcbiAgICAgICAgfVxuICAgICAgICBjcmVkZW50aWFsLmVuZHBvaW50ID0gYHJhbS5hbGl5dW5jcy5jb21gO1xuICAgICAgICBjb25zdCBfY29uZmlnID0gbmV3ICRPcGVuQXBpLkNvbmZpZyhjcmVkZW50aWFsKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW1DbGllbnQoX2NvbmZpZyk7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZVVzZXIocGF5bG9hZDogQ3JlYXRlVXNlclBheWxvYWQpIHtcblxuICAgICAgICBjb25zdCBjcmVhdGVVc2VyUmVxdWVzdCA9IG5ldyBDcmVhdGVVc2VyUmVxdWVzdChwYXlsb2FkKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jbGllbnQuY3JlYXRlVXNlcihjcmVhdGVVc2VyUmVxdWVzdCk7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0Um9sZShyb2xlTmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGdldFJvbGVSZXF1ZXN0ID0gbmV3IEdldFJvbGVSZXF1ZXN0KHtcbiAgICAgICAgICAgIHJvbGVOYW1lXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBydW50aW1lID0gbmV3ICRVdGlsLlJ1bnRpbWVPcHRpb25zKHt9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0Um9sZVdpdGhPcHRpb25zKGdldFJvbGVSZXF1ZXN0LCBydW50aW1lKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5ib2R5O1xuICAgIH1cblxuICAgIGFzeW5jIGdldFVzZXIodXNlck5hbWU6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBnZXRVc2VyUmVxdWVzdCA9IG5ldyBHZXRVc2VyUmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgdXNlck5hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgcnVudGltZSA9IG5ldyAkVXRpbC5SdW50aW1lT3B0aW9ucyh7fSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNsaWVudC5nZXRVc2VyV2l0aE9wdGlvbnMoZ2V0VXNlclJlcXVlc3QsIHJ1bnRpbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5ib2R5O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4geyBlcnJvcjogZSB9O1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBhc3luYyBkZWxldGVBY2Nlc3NLZXkodXNlck5hbWU6IHN0cmluZywgdXNlckFjY2Vzc0tleUlkOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgZGVsZXRlQWNjZXNzS2V5UmVxdWVzdCA9IG5ldyBEZWxldGVBY2Nlc3NLZXlSZXF1ZXN0KHtcbiAgICAgICAgICAgIHVzZXJBY2Nlc3NLZXlJZCxcbiAgICAgICAgICAgIHVzZXJOYW1lXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBydW50aW1lID0gbmV3ICRVdGlsLlJ1bnRpbWVPcHRpb25zKHt9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jbGllbnQuZGVsZXRlQWNjZXNzS2V5V2l0aE9wdGlvbnMoZGVsZXRlQWNjZXNzS2V5UmVxdWVzdCwgcnVudGltZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuYm9keTtcbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGVBY2Nlc3NLZXkodXNlck5hbWU6IHN0cmluZykge1xuICAgICAgICBjb25zdCBjcmVhdGVBY2Nlc3NLZXlSZXF1ZXN0ID0gbmV3IENyZWF0ZUFjY2Vzc0tleVJlcXVlc3Qoe1xuICAgICAgICAgICAgdXNlck5hbWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY2xpZW50LmNyZWF0ZUFjY2Vzc0tleShjcmVhdGVBY2Nlc3NLZXlSZXF1ZXN0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5ib2R5O1xuXG4gICAgfVxuXG4gICAgYXN5bmMgbGlzdEFjY2Vzc0tleXModXNlck5hbWU6IHN0cmluZyk6IFByb21pc2U8W10+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RBY2Nlc3NLZXlzUmVxdWVzdCA9IG5ldyBMaXN0QWNjZXNzS2V5c1JlcXVlc3Qoe1xuICAgICAgICAgICAgICAgIHVzZXJOYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHJ1bnRpbWUgPSBuZXcgJFV0aWwuUnVudGltZU9wdGlvbnMoe30pO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0OiBhbnkgPSBhd2FpdCB0aGlzLmNsaWVudC5saXN0QWNjZXNzS2V5c1dpdGhPcHRpb25zKGxpc3RBY2Nlc3NLZXlzUmVxdWVzdCwgcnVudGltZSk7IC8vc2RrIOWumuS5ieeahOaYr+Wkp+mpvOWzsO+8jOeEtuiAjOWunumZhei/lOWbnueahOaYr+Wwj+mpvOWzsFxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5ib2R5Py5hY2Nlc3NLZXlzLmFjY2Vzc0tleTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGVSb2xlKHBheWxvYWQ6IENyZWF0ZVJvbGVQYXlsb2FkKSB7XG4gICAgICAgIGNvbnN0IGNyZWF0ZVJvbGVSZXF1ZXN0ID0gbmV3IENyZWF0ZVJvbGVSZXF1ZXN0KHBheWxvYWQpO1xuICAgICAgICBjb25zdCBydW50aW1lID0gbmV3ICRVdGlsLlJ1bnRpbWVPcHRpb25zKHt9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jbGllbnQuY3JlYXRlUm9sZVdpdGhPcHRpb25zKGNyZWF0ZVJvbGVSZXF1ZXN0LCBydW50aW1lKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5ib2R5O1xuICAgIH1cblxuXG4gICAgYXN5bmMgYXR0YWN0Um9sZVBvbGljeShwYXlsb2FkOiBhbnkpIHtcbiAgICAgICAgY29uc3QgYXR0YWNoUG9saWN5VG9Sb2xlUmVxdWVzdCA9IG5ldyBBdHRhY2hQb2xpY3lUb1JvbGVSZXF1ZXN0KHBheWxvYWQpO1xuICAgICAgICBjb25zdCBydW50aW1lID0gbmV3ICRVdGlsLlJ1bnRpbWVPcHRpb25zO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNsaWVudC5hdHRhY2hQb2xpY3lUb1JvbGVXaXRoT3B0aW9ucyhhdHRhY2hQb2xpY3lUb1JvbGVSZXF1ZXN0LCBydW50aW1lKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5ib2R5O1xuICAgIH1cblxuICAgIGFzeW5jIGF0dGFjaFBvbGljeVRvVXNlcihwYXlsb2FkOiBhbnkpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGF0dGFjaFBvbGljeVRvVXNlclJlcXVlc3QgPSBuZXcgQXR0YWNoUG9saWN5VG9Vc2VyUmVxdWVzdChwYXlsb2FkKTtcbiAgICAgICAgICAgIGNvbnN0IHJ1bnRpbWUgPSBuZXcgJFV0aWwuUnVudGltZU9wdGlvbnMoe30pO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jbGllbnQuYXR0YWNoUG9saWN5VG9Vc2VyV2l0aE9wdGlvbnMoYXR0YWNoUG9saWN5VG9Vc2VyUmVxdWVzdCwgcnVudGltZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmJvZHk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGVycm9yOiBlIH07XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGFzeW5jIGRldGFjaFBvbGljeUZyb21Vc2VyKHBheWxvYWQ6YW55KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBkZXRhY2hQb2xpY3lGcm9tVXNlclJlcXVlc3QgPSBuZXcgRGV0YWNoUG9saWN5RnJvbVVzZXJSZXF1ZXN0KHBheWxvYWQpO1xuICAgICAgICAgICAgY29uc3QgcnVudGltZSA9IG5ldyAkVXRpbC5SdW50aW1lT3B0aW9ucyh7fSk7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmNsaWVudC5kZXRhY2hQb2xpY3lGcm9tVXNlcldpdGhPcHRpb25zKGRldGFjaFBvbGljeUZyb21Vc2VyUmVxdWVzdCwgcnVudGltZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmJvZHk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGVycm9yOiBlIH07XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGFzeW5jIGNyZWF0ZVBvbGljeShwYXlsb2FkOmFueSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBjcmVhdGVQb2xpY3lSZXF1ZXN0ID0gbmV3IENyZWF0ZVBvbGljeVJlcXVlc3QocGF5bG9hZCk7XG4gICAgICAgICAgICBjb25zdCBydW50aW1lID0gbmV3ICRVdGlsLlJ1bnRpbWVPcHRpb25zKHt9KTtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5jcmVhdGVQb2xpY3lXaXRoT3B0aW9ucyhjcmVhdGVQb2xpY3lSZXF1ZXN0LCBydW50aW1lKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBlcnJvcjogZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuIl0sIm5hbWVzIjpbIiRPcGVuQXBpIiwiJFV0aWwiLCJDcmVhdGVVc2VyUmVxdWVzdCIsIkNyZWF0ZVBvbGljeVJlcXVlc3QiLCJDcmVhdGVBY2Nlc3NLZXlSZXF1ZXN0IiwiQ3JlYXRlUm9sZVJlcXVlc3QiLCJBdHRhY2hQb2xpY3lUb1VzZXJSZXF1ZXN0IiwiR2V0VXNlclJlcXVlc3QiLCJEZWxldGVBY2Nlc3NLZXlSZXF1ZXN0IiwiR2V0Um9sZVJlcXVlc3QiLCJBdHRhY2hQb2xpY3lUb1JvbGVSZXF1ZXN0IiwiRGV0YWNoUG9saWN5RnJvbVVzZXJSZXF1ZXN0IiwiTGlzdEFjY2Vzc0tleXNSZXF1ZXN0IiwiUmFtQ2xpZW50IiwiU2VydmVybGVzc0JyaWRnZVJhbSIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwiY2xpZW50IiwiY3JlYXRlUmFtZUNsaWVudCIsImNyZWRlbnRpYWwiLCJhY2Nlc3NLZXlJZCIsInByb2Nlc3MiLCJlbnYiLCJBSyIsImFjY2Vzc0tleVNlY3JldCIsIlNLIiwiZW5kcG9pbnQiLCJfY29uZmlnIiwiQ29uZmlnIiwiY3JlYXRlVXNlciIsInBheWxvYWQiLCJjcmVhdGVVc2VyUmVxdWVzdCIsInJlc3VsdCIsImdldFJvbGUiLCJyb2xlTmFtZSIsImdldFJvbGVSZXF1ZXN0IiwicnVudGltZSIsIlJ1bnRpbWVPcHRpb25zIiwiZ2V0Um9sZVdpdGhPcHRpb25zIiwiYm9keSIsImdldFVzZXIiLCJ1c2VyTmFtZSIsImdldFVzZXJSZXF1ZXN0IiwiZ2V0VXNlcldpdGhPcHRpb25zIiwiZSIsImVycm9yIiwiZGVsZXRlQWNjZXNzS2V5IiwidXNlckFjY2Vzc0tleUlkIiwiZGVsZXRlQWNjZXNzS2V5UmVxdWVzdCIsImRlbGV0ZUFjY2Vzc0tleVdpdGhPcHRpb25zIiwiY3JlYXRlQWNjZXNzS2V5IiwiY3JlYXRlQWNjZXNzS2V5UmVxdWVzdCIsImxpc3RBY2Nlc3NLZXlzIiwibGlzdEFjY2Vzc0tleXNSZXF1ZXN0IiwibGlzdEFjY2Vzc0tleXNXaXRoT3B0aW9ucyIsImFjY2Vzc0tleXMiLCJhY2Nlc3NLZXkiLCJjcmVhdGVSb2xlIiwiY3JlYXRlUm9sZVJlcXVlc3QiLCJjcmVhdGVSb2xlV2l0aE9wdGlvbnMiLCJhdHRhY3RSb2xlUG9saWN5IiwiYXR0YWNoUG9saWN5VG9Sb2xlUmVxdWVzdCIsImF0dGFjaFBvbGljeVRvUm9sZVdpdGhPcHRpb25zIiwiYXR0YWNoUG9saWN5VG9Vc2VyIiwiYXR0YWNoUG9saWN5VG9Vc2VyUmVxdWVzdCIsImF0dGFjaFBvbGljeVRvVXNlcldpdGhPcHRpb25zIiwiZGV0YWNoUG9saWN5RnJvbVVzZXIiLCJkZXRhY2hQb2xpY3lGcm9tVXNlclJlcXVlc3QiLCJkZXRhY2hQb2xpY3lGcm9tVXNlcldpdGhPcHRpb25zIiwiY3JlYXRlUG9saWN5IiwiY3JlYXRlUG9saWN5UmVxdWVzdCIsImNyZWF0ZVBvbGljeVdpdGhPcHRpb25zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/ram/index.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/ram/ramClient.ts":
/*!********************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/ram/ramClient.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RamClient)\n/* harmony export */ });\n/* harmony import */ var _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/ram20150501 */ \"@alicloud/ram20150501\");\n/* harmony import */ var _alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_0__);\n\nclass RamClient extends (_alicloud_ram20150501__WEBPACK_IMPORTED_MODULE_0___default()) {\n    constructor(config){\n        super(config);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9yYW0vcmFtQ2xpZW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUN3QztBQUl6QixNQUFNQyxrQkFBa0JELDhEQUFHQTtJQUN0Q0UsWUFBWUMsTUFBdUIsQ0FBRTtRQUNqQyxLQUFLLENBQUNBO0lBQ1Y7QUFFSiIsInNvdXJjZXMiOlsid2VicGFjazovL2FnZW50Y3JhZnQtdWkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9yYW0vcmFtQ2xpZW50LnRzP2VjZWUiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgUmFtIGZyb20gJ0BhbGljbG91ZC9yYW0yMDE1MDUwMSc7XG5pbXBvcnQgKiBhcyAkT3BlbkFwaSBmcm9tICdAYWxpY2xvdWQvb3BlbmFwaS1jbGllbnQnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJhbUNsaWVudCBleHRlbmRzIFJhbSB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnOiAkT3BlbkFwaS5Db25maWcpIHtcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICB9XG4gXG59XG5cbiJdLCJuYW1lcyI6WyJSYW0iLCJSYW1DbGllbnQiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/ram/ramClient.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/sts/index.ts":
/*!****************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/sts/index.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServerlessBridgeSts: () => (/* binding */ ServerlessBridgeSts)\n/* harmony export */ });\n/* harmony import */ var _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/openapi-client */ \"@alicloud/openapi-client\");\n/* harmony import */ var _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @alicloud/sts20150401 */ \"@alicloud/sts20150401\");\n/* harmony import */ var _alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _stsClient__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stsClient */ \"(api)/./infra/alibaba-cloud/open-apis/sts/stsClient.ts\");\n\n\n\nclass ServerlessBridgeSts {\n    constructor(config){\n        this.client = this.createStsClient(config);\n    }\n    createStsClient(config) {\n        const credential = config ?? {\n            accessKeyId: process.env.AK,\n            accessKeySecret: process.env.SK\n        };\n        credential.endpoint = `sts.${process.env.Region}.aliyuncs.com`;\n        const _config = new _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__.Config(credential);\n        return new _stsClient__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_config);\n    }\n    async assumeRole(payload) {\n        payload.roleArn = \"\"; //`acs:ram::${FC_CONSOLE_ACCOUNTID}:role/${process.env.FcConsoleAssumeRoleName}`;\n        const assumeRoleRequest = new _alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_1__.AssumeRoleRequest(payload);\n        const result = await this.client.assumeRole(assumeRoleRequest);\n        return result.body;\n    }\n    async getCallerIdentity() {\n        return await this.client.getCallerIdentity();\n    }\n    async assumeRoleWithSAML() {}\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9zdHMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQ3FEO0FBQ0s7QUFFdEI7QUF5QjdCLE1BQU1HO0lBRVRDLFlBQVlDLE1BQXNCLENBQUU7UUFDaEMsSUFBSSxDQUFDQyxNQUFNLEdBQUcsSUFBSSxDQUFDQyxlQUFlLENBQUNGO0lBQ3ZDO0lBQ0FFLGdCQUFnQkYsTUFBc0IsRUFBRTtRQUNwQyxNQUFNRyxhQUFhSCxVQUFVO1lBQ3pCSSxhQUFhQyxRQUFRQyxHQUFHLENBQUNDLEVBQUU7WUFDM0JDLGlCQUFpQkgsUUFBUUMsR0FBRyxDQUFDRyxFQUFFO1FBQ25DO1FBQ0FOLFdBQVdPLFFBQVEsR0FBRyxDQUFDLElBQUksRUFBRUwsUUFBUUMsR0FBRyxDQUFDSyxNQUFNLENBQUMsYUFBYSxDQUFDO1FBQzlELE1BQU1DLFVBQVUsSUFBSWpCLDREQUFlLENBQUNRO1FBQ3BDLE9BQU8sSUFBSU4sa0RBQVNBLENBQUNlO0lBQ3pCO0lBQ0EsTUFBTUUsV0FBV0MsT0FBaUMsRUFBRTtRQUNoREEsUUFBUUMsT0FBTyxHQUFHLElBQUcsaUZBQWlGO1FBQ3RHLE1BQU1DLG9CQUFvQixJQUFJckIsb0VBQWlCQSxDQUFDbUI7UUFDaEQsTUFBTUcsU0FBVSxNQUFNLElBQUksQ0FBQ2pCLE1BQU0sQ0FBQ2EsVUFBVSxDQUFDRztRQUM3QyxPQUFPQyxPQUFPQyxJQUFJO0lBRXRCO0lBQ0EsTUFBTUMsb0JBQW9CO1FBQ3RCLE9BQU8sTUFBTSxJQUFJLENBQUNuQixNQUFNLENBQUNtQixpQkFBaUI7SUFDOUM7SUFDQSxNQUFNQyxxQkFBcUIsQ0FFM0I7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2FnZW50Y3JhZnQtdWkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9zdHMvaW5kZXgudHM/OTk1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCAqIGFzICRPcGVuQXBpIGZyb20gJ0BhbGljbG91ZC9vcGVuYXBpLWNsaWVudCc7XG5pbXBvcnQgeyBBc3N1bWVSb2xlUmVxdWVzdCB9IGZyb20gJ0BhbGljbG91ZC9zdHMyMDE1MDQwMSc7XG5cbmltcG9ydCBTdHNDbGllbnQgZnJvbSBcIi4vc3RzQ2xpZW50XCI7XG5cbmltcG9ydCB7IE9wZW5BcGlDb25maWcgfSBmcm9tICcuLi90eXBlcyc7XG5cblxuXG5leHBvcnQgaW50ZXJmYWNlIEFzc3VtZVJvbGVSZXF1ZXN0UGF5bG9hZCB7XG4gICAgZHVyYXRpb25TZWNvbmRzPzogbnVtYmVyLFxuICAgIHBvbGljeT86IHN0cmluZyxcbiAgICByb2xlQXJuOiBzdHJpbmcsXG4gICAgcm9sZVNlc3Npb25OYW1lOiBzdHJpbmcsXG4gICAgZXh0ZXJuYWxJZD86IHN0cmluZ1xuXG59XG5cblxuZXhwb3J0IGludGVyZmFjZSBBc3N1bWVSb2xlUmVzcG9uc2Uge1xuICAgIER1cmF0aW9uU2Vjb25kcz86IG51bWJlcixcbiAgICBQb2xpY3k/OiBzdHJpbmcsXG4gICAgUm9sZUFybjogc3RyaW5nLFxuICAgIFJvbGVTZXNzaW9uTmFtZTogc3RyaW5nLFxuICAgIEV4dGVybmFsSWQ/OiBzdHJpbmdcblxufVxuXG5leHBvcnQgY2xhc3MgU2VydmVybGVzc0JyaWRnZVN0cyB7XG4gICAgY2xpZW50O1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZz86IE9wZW5BcGlDb25maWcpIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSB0aGlzLmNyZWF0ZVN0c0NsaWVudChjb25maWcpO1xuICAgIH1cbiAgICBjcmVhdGVTdHNDbGllbnQoY29uZmlnPzogT3BlbkFwaUNvbmZpZykge1xuICAgICAgICBjb25zdCBjcmVkZW50aWFsID0gY29uZmlnID8/IHtcbiAgICAgICAgICAgIGFjY2Vzc0tleUlkOiBwcm9jZXNzLmVudi5BSyxcbiAgICAgICAgICAgIGFjY2Vzc0tleVNlY3JldDogcHJvY2Vzcy5lbnYuU0ssXG4gICAgICAgIH1cbiAgICAgICAgY3JlZGVudGlhbC5lbmRwb2ludCA9IGBzdHMuJHtwcm9jZXNzLmVudi5SZWdpb259LmFsaXl1bmNzLmNvbWA7XG4gICAgICAgIGNvbnN0IF9jb25maWcgPSBuZXcgJE9wZW5BcGkuQ29uZmlnKGNyZWRlbnRpYWwpO1xuICAgICAgICByZXR1cm4gbmV3IFN0c0NsaWVudChfY29uZmlnKTtcbiAgICB9XG4gICAgYXN5bmMgYXNzdW1lUm9sZShwYXlsb2FkOiBBc3N1bWVSb2xlUmVxdWVzdFBheWxvYWQpIHtcbiAgICAgICAgcGF5bG9hZC5yb2xlQXJuID0gJyc7Ly9gYWNzOnJhbTo6JHtGQ19DT05TT0xFX0FDQ09VTlRJRH06cm9sZS8ke3Byb2Nlc3MuZW52LkZjQ29uc29sZUFzc3VtZVJvbGVOYW1lfWA7XG4gICAgICAgIGNvbnN0IGFzc3VtZVJvbGVSZXF1ZXN0ID0gbmV3IEFzc3VtZVJvbGVSZXF1ZXN0KHBheWxvYWQpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSAgYXdhaXQgdGhpcy5jbGllbnQuYXNzdW1lUm9sZShhc3N1bWVSb2xlUmVxdWVzdCk7XG4gICAgICAgIHJldHVybiByZXN1bHQuYm9keTtcblxuICAgIH1cbiAgICBhc3luYyBnZXRDYWxsZXJJZGVudGl0eSgpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmdldENhbGxlcklkZW50aXR5KCk7XG4gICAgfVxuICAgIGFzeW5jIGFzc3VtZVJvbGVXaXRoU0FNTCgpIHtcblxuICAgIH1cbn1cblxuIl0sIm5hbWVzIjpbIiRPcGVuQXBpIiwiQXNzdW1lUm9sZVJlcXVlc3QiLCJTdHNDbGllbnQiLCJTZXJ2ZXJsZXNzQnJpZGdlU3RzIiwiY29uc3RydWN0b3IiLCJjb25maWciLCJjbGllbnQiLCJjcmVhdGVTdHNDbGllbnQiLCJjcmVkZW50aWFsIiwiYWNjZXNzS2V5SWQiLCJwcm9jZXNzIiwiZW52IiwiQUsiLCJhY2Nlc3NLZXlTZWNyZXQiLCJTSyIsImVuZHBvaW50IiwiUmVnaW9uIiwiX2NvbmZpZyIsIkNvbmZpZyIsImFzc3VtZVJvbGUiLCJwYXlsb2FkIiwicm9sZUFybiIsImFzc3VtZVJvbGVSZXF1ZXN0IiwicmVzdWx0IiwiYm9keSIsImdldENhbGxlcklkZW50aXR5IiwiYXNzdW1lUm9sZVdpdGhTQU1MIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/sts/index.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/sts/stsClient.ts":
/*!********************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/sts/stsClient.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ StsClient)\n/* harmony export */ });\n/* harmony import */ var _alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/sts20150401 */ \"@alicloud/sts20150401\");\n/* harmony import */ var _alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_0__);\n\nclass StsClient extends (_alicloud_sts20150401__WEBPACK_IMPORTED_MODULE_0___default()) {\n    constructor(config){\n        super(config);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9zdHMvc3RzQ2xpZW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUN3QztBQUl6QixNQUFNQyxrQkFBa0JELDhEQUFHQTtJQUN0Q0UsWUFBWUMsTUFBdUIsQ0FBRTtRQUNqQyxLQUFLLENBQUNBO0lBQ1Y7QUFFSiIsInNvdXJjZXMiOlsid2VicGFjazovL2FnZW50Y3JhZnQtdWkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9zdHMvc3RzQ2xpZW50LnRzPzI2YjgiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgU3RzIGZyb20gJ0BhbGljbG91ZC9zdHMyMDE1MDQwMSc7XG5pbXBvcnQgKiBhcyAkT3BlbkFwaSBmcm9tICdAYWxpY2xvdWQvb3BlbmFwaS1jbGllbnQnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0c0NsaWVudCBleHRlbmRzIFN0cyB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnOiAkT3BlbkFwaS5Db25maWcpIHtcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICB9XG4gXG59XG5cbiJdLCJuYW1lcyI6WyJTdHMiLCJTdHNDbGllbnQiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/sts/stsClient.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/vpc/index.ts":
/*!****************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/vpc/index.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServerlessBridgeVpc: () => (/* binding */ ServerlessBridgeVpc)\n/* harmony export */ });\n/* harmony import */ var _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/openapi-client */ \"@alicloud/openapi-client\");\n/* harmony import */ var _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _alicloud_vpc20160428__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @alicloud/vpc20160428 */ \"@alicloud/vpc20160428\");\n/* harmony import */ var _alicloud_vpc20160428__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_alicloud_vpc20160428__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @alicloud/tea-util */ \"@alicloud/tea-util\");\n/* harmony import */ var _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _vpcClient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./vpcClient */ \"(api)/./infra/alibaba-cloud/open-apis/vpc/vpcClient.ts\");\n\n\n\n\nclass ServerlessBridgeVpc {\n    constructor(config){\n        this.client = this.createVpcClient(config);\n    }\n    createVpcClient(config) {\n        const credential = config ?? {\n            accessKeyId: process.env.AK,\n            accessKeySecret: process.env.SK\n        };\n        credential.endpoint = `vpc.aliyuncs.com`;\n        const _config = new _alicloud_openapi_client__WEBPACK_IMPORTED_MODULE_0__.Config(credential);\n        return new _vpcClient__WEBPACK_IMPORTED_MODULE_3__[\"default\"](_config);\n    }\n    describeVpcs({ vpcId, regionId }) {\n        const describeVpcsRequest = new _alicloud_vpc20160428__WEBPACK_IMPORTED_MODULE_1__.DescribeVpcsRequest({\n            regionId,\n            vpcId\n        });\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__.RuntimeOptions({});\n        return this.client.describeVpcsWithOptions(describeVpcsRequest, runtime);\n    }\n    async createVSwitch(payload) {\n        const createVSwitchRequest = new _alicloud_vpc20160428__WEBPACK_IMPORTED_MODULE_1__.CreateVSwitchRequest(payload);\n        const runtime = new _alicloud_tea_util__WEBPACK_IMPORTED_MODULE_2__.RuntimeOptions({});\n        return await this.client.createVSwitchWithOptions(createVSwitchRequest, runtime);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy92cGMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDcUQ7QUFDNkI7QUFDdEM7QUFDUjtBQU83QixNQUFNSztJQUVUQyxZQUFZQyxNQUFzQixDQUFFO1FBQ2hDLElBQUksQ0FBQ0MsTUFBTSxHQUFHLElBQUksQ0FBQ0MsZUFBZSxDQUFDRjtJQUN2QztJQUNBRSxnQkFBZ0JGLE1BQXNCLEVBQUU7UUFDcEMsTUFBTUcsYUFBYUgsVUFBVTtZQUN6QkksYUFBYUMsUUFBUUMsR0FBRyxDQUFDQyxFQUFFO1lBQzNCQyxpQkFBaUJILFFBQVFDLEdBQUcsQ0FBQ0csRUFBRTtRQUNuQztRQUNBTixXQUFXTyxRQUFRLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQztRQUN4QyxNQUFNQyxVQUFVLElBQUlsQiw0REFBZSxDQUFDVTtRQUNwQyxPQUFPLElBQUlOLGtEQUFTQSxDQUFDYztJQUN6QjtJQUNBRSxhQUFhLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFPLEVBQUU7UUFDbkMsTUFBTUMsc0JBQXNCLElBQUl0QixzRUFBbUJBLENBQUM7WUFDaERxQjtZQUNBRDtRQUNKO1FBQ0EsTUFBTUcsVUFBVSxJQUFJckIsOERBQW9CLENBQUMsQ0FBQztRQUMxQyxPQUFPLElBQUksQ0FBQ0ssTUFBTSxDQUFDa0IsdUJBQXVCLENBQUNILHFCQUFxQkM7SUFDcEU7SUFFQSxNQUFNRyxjQUFjQyxPQUFXLEVBQUU7UUFDN0IsTUFBTUMsdUJBQXVCLElBQUkzQix1RUFBb0JBLENBQUMwQjtRQUN0RCxNQUFNSixVQUFVLElBQUlyQiw4REFBb0IsQ0FBQyxDQUFFO1FBQzNDLE9BQU8sTUFBTSxJQUFJLENBQUNLLE1BQU0sQ0FBQ3NCLHdCQUF3QixDQUFDRCxzQkFBc0JMO0lBQzVFO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZ2VudGNyYWZ0LXVpLy4vaW5mcmEvYWxpYmFiYS1jbG91ZC9vcGVuLWFwaXMvdnBjL2luZGV4LnRzP2M5MTciXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgKiBhcyAkT3BlbkFwaSBmcm9tICdAYWxpY2xvdWQvb3BlbmFwaS1jbGllbnQnO1xuaW1wb3J0IHsgRGVzY3JpYmVWcGNzUmVxdWVzdCAsQ3JlYXRlVlN3aXRjaFJlcXVlc3QgfSBmcm9tICdAYWxpY2xvdWQvdnBjMjAxNjA0MjgnO1xuaW1wb3J0ICogYXMgJFV0aWwgZnJvbSAnQGFsaWNsb3VkL3RlYS11dGlsJztcbmltcG9ydCBWcGNDbGllbnQgZnJvbSBcIi4vdnBjQ2xpZW50XCI7XG5cbmltcG9ydCB7IE9wZW5BcGlDb25maWcgfSBmcm9tICcuLi90eXBlcyc7XG5cblxuXG5cbmV4cG9ydCBjbGFzcyBTZXJ2ZXJsZXNzQnJpZGdlVnBjIHtcbiAgICBjbGllbnQ7XG4gICAgY29uc3RydWN0b3IoY29uZmlnPzogT3BlbkFwaUNvbmZpZykge1xuICAgICAgICB0aGlzLmNsaWVudCA9IHRoaXMuY3JlYXRlVnBjQ2xpZW50KGNvbmZpZyk7XG4gICAgfVxuICAgIGNyZWF0ZVZwY0NsaWVudChjb25maWc/OiBPcGVuQXBpQ29uZmlnKSB7XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWwgPSBjb25maWcgPz8ge1xuICAgICAgICAgICAgYWNjZXNzS2V5SWQ6IHByb2Nlc3MuZW52LkFLLFxuICAgICAgICAgICAgYWNjZXNzS2V5U2VjcmV0OiBwcm9jZXNzLmVudi5TSyxcbiAgICAgICAgfVxuICAgICAgICBjcmVkZW50aWFsLmVuZHBvaW50ID0gYHZwYy5hbGl5dW5jcy5jb21gO1xuICAgICAgICBjb25zdCBfY29uZmlnID0gbmV3ICRPcGVuQXBpLkNvbmZpZyhjcmVkZW50aWFsKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWcGNDbGllbnQoX2NvbmZpZyk7XG4gICAgfVxuICAgIGRlc2NyaWJlVnBjcyh7IHZwY0lkLCByZWdpb25JZCB9OiBhbnkpIHtcbiAgICAgICAgY29uc3QgZGVzY3JpYmVWcGNzUmVxdWVzdCA9IG5ldyBEZXNjcmliZVZwY3NSZXF1ZXN0KHtcbiAgICAgICAgICAgIHJlZ2lvbklkLFxuICAgICAgICAgICAgdnBjSWQsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBydW50aW1lID0gbmV3ICRVdGlsLlJ1bnRpbWVPcHRpb25zKHt9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50LmRlc2NyaWJlVnBjc1dpdGhPcHRpb25zKGRlc2NyaWJlVnBjc1JlcXVlc3QsIHJ1bnRpbWUpO1xuICAgIH1cblxuICAgIGFzeW5jIGNyZWF0ZVZTd2l0Y2gocGF5bG9hZDphbnkpIHtcbiAgICAgICAgY29uc3QgY3JlYXRlVlN3aXRjaFJlcXVlc3QgPSBuZXcgQ3JlYXRlVlN3aXRjaFJlcXVlc3QocGF5bG9hZCk7XG4gICAgICAgIGNvbnN0IHJ1bnRpbWUgPSBuZXcgJFV0aWwuUnVudGltZU9wdGlvbnMoeyB9KTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmNyZWF0ZVZTd2l0Y2hXaXRoT3B0aW9ucyhjcmVhdGVWU3dpdGNoUmVxdWVzdCwgcnVudGltZSk7XG4gICAgfVxufVxuXG4iXSwibmFtZXMiOlsiJE9wZW5BcGkiLCJEZXNjcmliZVZwY3NSZXF1ZXN0IiwiQ3JlYXRlVlN3aXRjaFJlcXVlc3QiLCIkVXRpbCIsIlZwY0NsaWVudCIsIlNlcnZlcmxlc3NCcmlkZ2VWcGMiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImNsaWVudCIsImNyZWF0ZVZwY0NsaWVudCIsImNyZWRlbnRpYWwiLCJhY2Nlc3NLZXlJZCIsInByb2Nlc3MiLCJlbnYiLCJBSyIsImFjY2Vzc0tleVNlY3JldCIsIlNLIiwiZW5kcG9pbnQiLCJfY29uZmlnIiwiQ29uZmlnIiwiZGVzY3JpYmVWcGNzIiwidnBjSWQiLCJyZWdpb25JZCIsImRlc2NyaWJlVnBjc1JlcXVlc3QiLCJydW50aW1lIiwiUnVudGltZU9wdGlvbnMiLCJkZXNjcmliZVZwY3NXaXRoT3B0aW9ucyIsImNyZWF0ZVZTd2l0Y2giLCJwYXlsb2FkIiwiY3JlYXRlVlN3aXRjaFJlcXVlc3QiLCJjcmVhdGVWU3dpdGNoV2l0aE9wdGlvbnMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/vpc/index.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/open-apis/vpc/vpcClient.ts":
/*!********************************************************!*\
  !*** ./infra/alibaba-cloud/open-apis/vpc/vpcClient.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ VpcClient)\n/* harmony export */ });\n/* harmony import */ var _alicloud_vpc20160428__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @alicloud/vpc20160428 */ \"@alicloud/vpc20160428\");\n/* harmony import */ var _alicloud_vpc20160428__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_alicloud_vpc20160428__WEBPACK_IMPORTED_MODULE_0__);\n\nclass VpcClient extends (_alicloud_vpc20160428__WEBPACK_IMPORTED_MODULE_0___default()) {\n    constructor(config){\n        super(config);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy92cGMvdnBjQ2xpZW50LnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUN3QztBQUl6QixNQUFNQyxrQkFBa0JELDhEQUFHQTtJQUN0Q0UsWUFBWUMsTUFBdUIsQ0FBRTtRQUNqQyxLQUFLLENBQUNBO0lBQ1Y7QUFFSiIsInNvdXJjZXMiOlsid2VicGFjazovL2FnZW50Y3JhZnQtdWkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy92cGMvdnBjQ2xpZW50LnRzPzE0YTEiXSwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgVnBjIGZyb20gJ0BhbGljbG91ZC92cGMyMDE2MDQyOCc7XG5pbXBvcnQgKiBhcyAkT3BlbkFwaSBmcm9tICdAYWxpY2xvdWQvb3BlbmFwaS1jbGllbnQnO1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZwY0NsaWVudCBleHRlbmRzIFZwYyB7XG4gICAgY29uc3RydWN0b3IoY29uZmlnOiAkT3BlbkFwaS5Db25maWcpIHtcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICB9XG4gXG59XG5cbiJdLCJuYW1lcyI6WyJWcGMiLCJWcGNDbGllbnQiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/open-apis/vpc/vpcClient.ts\n");

/***/ }),

/***/ "(api)/./infra/alibaba-cloud/services/serverless-app.ts":
/*!********************************************************!*\
  !*** ./infra/alibaba-cloud/services/serverless-app.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServerlessBridgeService: () => (/* binding */ ServerlessBridgeService)\n/* harmony export */ });\n/* harmony import */ var _infra_alibaba_cloud_open_apis_fc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/infra/alibaba-cloud/open-apis/fc */ \"(api)/./infra/alibaba-cloud/open-apis/fc/index.ts\");\n/* harmony import */ var _infra_alibaba_cloud_open_apis_ram__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/infra/alibaba-cloud/open-apis/ram */ \"(api)/./infra/alibaba-cloud/open-apis/ram/index.ts\");\n/* harmony import */ var _infra_alibaba_cloud_open_apis_sts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/infra/alibaba-cloud/open-apis/sts */ \"(api)/./infra/alibaba-cloud/open-apis/sts/index.ts\");\n/* harmony import */ var _infra_alibaba_cloud_open_apis_vpc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/infra/alibaba-cloud/open-apis/vpc */ \"(api)/./infra/alibaba-cloud/open-apis/vpc/index.ts\");\n/* harmony import */ var _constants_cloud_resources__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/constants/cloud-resources */ \"(api)/./constants/cloud-resources.ts\");\n\n\n\n\n\nclass ServerlessBridgeService {\n    constructor(config, accountId){\n        this.config = config;\n        this.serverlessBridgeRam = new _infra_alibaba_cloud_open_apis_ram__WEBPACK_IMPORTED_MODULE_1__.ServerlessBridgeRam(config);\n        this.serverlessBridgeSts = new _infra_alibaba_cloud_open_apis_sts__WEBPACK_IMPORTED_MODULE_2__.ServerlessBridgeSts(config);\n        this.serverlessBridgeServerlessDevs = new _infra_alibaba_cloud_open_apis_fc__WEBPACK_IMPORTED_MODULE_0__.ServerlessBridgeServerlessDevs(config);\n        this.serverlessBridgeFc = new _infra_alibaba_cloud_open_apis_fc__WEBPACK_IMPORTED_MODULE_0__.ServerlessBridgeFc(config, accountId);\n        this.serverlessBridgeVpc = new _infra_alibaba_cloud_open_apis_vpc__WEBPACK_IMPORTED_MODULE_3__.ServerlessBridgeVpc(config);\n    }\n    getServerlessBridgeRam() {\n        return this.serverlessBridgeRam;\n    }\n    getServerlessBridgeSts() {\n        return this.serverlessBridgeSts;\n    }\n    getServerlessBridgeVpc() {\n        return this.serverlessBridgeVpc;\n    }\n    getServerlessBridgeFc(accountId, config) {\n        return new _infra_alibaba_cloud_open_apis_fc__WEBPACK_IMPORTED_MODULE_0__.ServerlessBridgeFc(config, accountId);\n    }\n    getServerlessBridgeServerlessDevs() {\n        return this.serverlessBridgeServerlessDevs;\n    }\n    getServerlessSubBridgeServerlessDevs(config) {\n        return new _infra_alibaba_cloud_open_apis_fc__WEBPACK_IMPORTED_MODULE_0__.ServerlessBridgeServerlessDevs(config);\n    }\n    /**\n   * 获取当前主账号角色\n   * @returns \n   */ async getMainOrCreateAccountRole() {\n        try {\n            const serverlessBridgeRam = this.getServerlessBridgeRam();\n            const roleInfo = await serverlessBridgeRam.getRole(_constants_cloud_resources__WEBPACK_IMPORTED_MODULE_4__.FC_DEFAULT_ROLE_NAME);\n            return roleInfo;\n        } catch (e) {\n            await this.createServerlessDevsRoleAndAttactPolicy();\n        }\n    }\n    /**\n   * 创建serverlessdevs 默认角色 AliyunFCServerlessDevsRole, 然后给这个角色授予权限\n   */ async createServerlessDevsRoleAndAttactPolicy() {\n        const serverlessBridgeRam = this.getServerlessBridgeRam();\n        await serverlessBridgeRam.createRole({\n            roleName: _constants_cloud_resources__WEBPACK_IMPORTED_MODULE_4__.FC_DEFAULT_ROLE_NAME,\n            description: \"created by serverless bridge\",\n            assumeRolePolicyDocument: _constants_cloud_resources__WEBPACK_IMPORTED_MODULE_4__.ASSUME_ROLE_POLICY_DOCUMENT\n        });\n        for (const policyName of _constants_cloud_resources__WEBPACK_IMPORTED_MODULE_4__.SERVERLESS_DEVS_POLICIES){\n            await serverlessBridgeRam.attactRolePolicy({\n                policyType: \"System\",\n                policyName,\n                roleName: _constants_cloud_resources__WEBPACK_IMPORTED_MODULE_4__.FC_DEFAULT_ROLE_NAME\n            });\n        }\n    }\n    /**\n   * 授权子账号需要的Serverless 权限策略\n   * @param userName \n   */ async attachServerlessDevsPolicyToUser(userName) {\n        try {\n            const serverlessBridgeRam = this.getServerlessBridgeRam();\n            const roleAttachResult = {};\n            roleAttachResult[\"AliyunRAMFullAccess\"] = await serverlessBridgeRam.attachPolicyToUser({\n                policyType: \"System\",\n                policyName: \"AliyunRAMFullAccess\",\n                userName\n            });\n            roleAttachResult[\"AliyunSTSAssumeRoleAccess\"] = await serverlessBridgeRam.attachPolicyToUser({\n                policyType: \"System\",\n                policyName: \"AliyunSTSAssumeRoleAccess\",\n                userName\n            });\n            roleAttachResult[\"AliyunFCDefaultRolePolicy\"] = await serverlessBridgeRam.attachPolicyToUser({\n                policyType: \"System\",\n                policyName: \"AliyunFCDefaultRolePolicy\",\n                userName\n            });\n            roleAttachResult[\"AliyunFCServerlessDevsRolePolicy\"] = await serverlessBridgeRam.attachPolicyToUser({\n                policyType: \"System\",\n                policyName: \"AliyunFCServerlessDevsRolePolicy\",\n                userName\n            });\n            roleAttachResult[\"AliyunFCFullAccess\"] = await serverlessBridgeRam.attachPolicyToUser({\n                policyType: \"System\",\n                policyName: \"AliyunFCFullAccess\",\n                userName\n            });\n            roleAttachResult[\"AliyunVPCFullAccess\"] = await serverlessBridgeRam.attachPolicyToUser({\n                policyType: \"System\",\n                policyName: \"AliyunVPCFullAccess\",\n                userName\n            });\n            roleAttachResult[\"AliyunNASFullAccess\"] = await serverlessBridgeRam.attachPolicyToUser({\n                policyType: \"System\",\n                policyName: \"AliyunNASFullAccess\",\n                userName\n            });\n            // for (const policyName of SERVERLESS_DEVS_POLICIES) {\n            //   roleAttachResult[policyName] = await serverlessBridgeRam.attachPolicyToUser({ policyType: 'System', policyName, userName });\n            // }\n            return roleAttachResult;\n        } catch (e) {\n            throw e;\n        }\n    }\n    async reAttachSubAccountPolicy(userName, region) {\n        const policyDocument = `{\n      \"Version\": \"1\",\n      \"Statement\": [\n        {\n          \"Action\": \"ram:ListPoliciesForUser\",\n          \"Effect\": \"Allow\",\n          \"Resource\": \"*\"\n        },\n        {\n          \"Action\": [\n            \"fc:GetService\",\n            \"fc:ListServices\",\n            \"fc:GetResourceTags\"\n          ],\n          \"Effect\": \"Allow\",\n          \"Resource\": \"acs:fc:${region}:*:services/${userName}-service*\"\n        },\n        {\n          \"Action\": \"fc:ListFunctions\",\n          \"Effect\": \"Allow\",\n          \"Resource\": \"acs:fc:${region}:*:services/${userName}-service*/functions/*\"\n        },\n        {\n          \"Action\": [\n            \"fc:ListInstances\",\n            \"fc:UpdateFunction\",\n            \"fc:GetFunction\",\n            \"fc:GetFunctionCode\",\n            \"fc:ListFunctions\",\n            \"fc:InvokeFunction\",\n            \"fc:GrantTempCodeBucketPermission\"\n          ],\n          \"Effect\": \"Allow\",\n          \"Resource\": \"acs:fc:${region}:*:services/${userName}-service*/functions/*\"\n        }\n      ]\n    }`;\n        const policyName = `${userName}-customer-policy`;\n        await this.serverlessBridgeRam.createPolicy({\n            policyName: `${userName}-customer-policy`,\n            description: \"created by serverless-bridge dont remove\",\n            policyDocument\n        });\n        return await this.serverlessBridgeRam.attachPolicyToUser({\n            policyType: \"Custom\",\n            policyName,\n            userName\n        }); // 将专属策略attach到该子账号\n    }\n    /**\n   * 移除子账号的权限策略，防止子账号操作函数\n   * @param userName \n   */ async detachServerlessDevsPolicyFromUser(userName) {\n        const serverlessBridgeRam = this.getServerlessBridgeRam();\n        await serverlessBridgeRam.detachPolicyFromUser({\n            policyType: \"System\",\n            policyName: \"AliyunRAMFullAccess\",\n            userName\n        });\n        await serverlessBridgeRam.detachPolicyFromUser({\n            policyType: \"System\",\n            policyName: \"AliyunSTSAssumeRoleAccess\",\n            userName\n        });\n        await serverlessBridgeRam.detachPolicyFromUser({\n            policyType: \"System\",\n            policyName: \"AliyunFCDefaultRolePolicy\",\n            userName\n        });\n        await serverlessBridgeRam.detachPolicyFromUser({\n            policyType: \"System\",\n            policyName: \"AliyunFCServerlessDevsRolePolicy\",\n            userName\n        });\n        await serverlessBridgeRam.detachPolicyFromUser({\n            policyType: \"System\",\n            policyName: \"AliyunFCFullAccess\",\n            userName\n        });\n        await serverlessBridgeRam.detachPolicyFromUser({\n            policyType: \"System\",\n            policyName: \"AliyunVPCFullAccess\",\n            userName\n        });\n        await serverlessBridgeRam.detachPolicyFromUser({\n            policyType: \"System\",\n            policyName: \"AliyunNASFullAccess\",\n            userName\n        });\n    // for (const policyName of SERVERLESS_DEVS_POLICIES) {\n    //   await serverlessBridgeRam.detachPolicyFromUser({ policyType: 'System', policyName, userName });\n    // }\n    }\n    /**\n   * 删除子账号的ak, sk, 现在子账号的ak,sk 上限是2个\n   * @param userAccessKeyId \n   */ async deleteSubAccountAccessKey(userName, userAccessKeyId) {\n        try {\n            const serverlessBridgeRam = this.getServerlessBridgeRam();\n            const deleteSubAccountAkInfo = await serverlessBridgeRam.deleteAccessKey(userName, userAccessKeyId);\n            return deleteSubAccountAkInfo;\n        } catch (e) {\n            throw e;\n        }\n    }\n    /**\n   * 创建子账号的 ak,sk\n   * @param userName \n   * @returns \n   */ async createSubAccountAccessKey(userName) {\n        try {\n            const serverlessBridgeRam = this.getServerlessBridgeRam();\n            const currentAks = await serverlessBridgeRam.listAccessKeys(userName);\n            if (currentAks.length === 2) {\n                const currentAccessKeyId = currentAks[0].accessKeyId;\n                await serverlessBridgeRam.deleteAccessKey(userName, currentAccessKeyId);\n            }\n            const subAccountCredential = await serverlessBridgeRam.createAccessKey(userName);\n            return subAccountCredential;\n        } catch (e) {\n            throw e;\n        }\n    }\n    /**\n   * 查询以及创建子账号\n   * @param userName \n   * @returns \n   */ async getOrCreateSubAccount(userName) {\n        try {\n            const serverlessBridgeRam = this.getServerlessBridgeRam();\n            let accountInfo = await serverlessBridgeRam.getUser(userName);\n            if (accountInfo.error) {\n                accountInfo = await serverlessBridgeRam.createUser({\n                    userName\n                });\n            }\n            return accountInfo;\n        } catch (e) {\n            throw e;\n        }\n    }\n    /**\n   * 子账号创建应用\n   * @param accessKeyId \n   * @param accessKeySecret \n   * @param appPayload \n   * @returns \n   */ async createSubAccountApplication(accessKeyId, accessKeySecret, appPayload) {\n        try {\n            const serverlessDevsClient = this.getServerlessSubBridgeServerlessDevs({\n                accessKeyId,\n                accessKeySecret\n            });\n            const createAppResult = await serverlessDevsClient.createApplication(appPayload);\n            return createAppResult;\n        } catch (e) {\n            throw e;\n        }\n    }\n    /**\n   * 删除应用\n   * @param appName \n   * @returns \n   */ async deleteApplication(appName) {\n        const serverlessDevsClient = this.getServerlessBridgeServerlessDevs();\n        return await serverlessDevsClient.deleteApplication(appName);\n    }\n    async createMainAccountApplication(payload) {\n        const serverlessDevsClient = this.getServerlessBridgeServerlessDevs();\n        return await serverlessDevsClient.createApplication(payload);\n    }\n    /**\n   * 查询应用信息\n   * @param appName \n   * @returns \n   */ async getApplication(appName) {\n        const serverlessDevsClient = this.getServerlessBridgeServerlessDevs();\n        return await serverlessDevsClient.getApplication(appName);\n    }\n    /**\n   * 查询所有应用信息\n   * @param appName \n   * @returns \n   */ async listApplications() {\n        const serverlessDevsClient = this.getServerlessBridgeServerlessDevs();\n        return await serverlessDevsClient.listApplications();\n    }\n    /**\n   * 子账号授信fc-console权限\n   * @param payload \n   * @param credentials \n   * @returns \n   */ async subAccountAssumeRole(payload) {\n        const stsClient = this.getServerlessBridgeSts();\n        return await stsClient.assumeRole(payload);\n    }\n    /**\n   * \n   * @param accountId 函数执行主账号id\n   * @param stsConfig assumeRole后的credential \n   * @param fcInvokeData 执行函数的数据包括服务和函数\n   * @param payload 执行函数的请求数据\n   * @returns \n   */ async invokeFunction(fcInvokeData, payload) {\n        return await this.serverlessBridgeFc.invokeFunction(fcInvokeData, payload);\n    }\n    /**\n   * 查询函数列表\n   * @param stsConfig \n   * @param payload \n   * @returns \n   */ async listFunctions(payload) {\n        return await this.serverlessBridgeFc.listFunctions(payload);\n    }\n    /**\n   * 查询函数列表\n   * @param stsConfig \n   * @param payload \n   * @returns \n   */ async updateFunction(payload) {\n        return await this.serverlessBridgeFc.updateFunction(payload);\n    }\n    /**\n  * 查询函数列表\n  * @param payload \n  * @returns \n  */ async getFunction(payload) {\n        return await this.serverlessBridgeFc.getFunction(payload);\n    }\n    /**\n  * 查询函数列表\n  * @param payload \n  * @returns \n  */ async getService(payload) {\n        return await this.serverlessBridgeFc.getService(payload);\n    }\n    async describeVpcs(payload) {\n        return await this.serverlessBridgeVpc.describeVpcs(payload);\n    }\n    async createVSwitch(payload) {\n        return await this.serverlessBridgeVpc.createVSwitch(payload);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9pbmZyYS9hbGliYWJhLWNsb3VkL3NlcnZpY2VzL3NlcnZlcmxlc3MtYXBwLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUN3RztBQUM5QjtBQUNBO0FBQ0E7QUFDK0M7QUFHbEgsTUFBTVE7SUFPWEMsWUFBWUMsTUFBc0IsRUFBRUMsU0FBa0IsQ0FBRTtRQUN0RCxJQUFJLENBQUNELE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUNFLG1CQUFtQixHQUFHLElBQUlWLG1GQUFtQkEsQ0FBQ1E7UUFDbkQsSUFBSSxDQUFDRyxtQkFBbUIsR0FBRyxJQUFJVixtRkFBbUJBLENBQUNPO1FBQ25ELElBQUksQ0FBQ0ksOEJBQThCLEdBQUcsSUFBSWIsNkZBQThCQSxDQUFDUztRQUN6RSxJQUFJLENBQUNLLGtCQUFrQixHQUFHLElBQUlmLGlGQUFrQkEsQ0FBQ1UsUUFBUUM7UUFDekQsSUFBSSxDQUFDSyxtQkFBbUIsR0FBRyxJQUFJWixtRkFBbUJBLENBQUNNO0lBQ3JEO0lBQ0FPLHlCQUE4QztRQUM1QyxPQUFPLElBQUksQ0FBQ0wsbUJBQW1CO0lBQ2pDO0lBRUFNLHlCQUE4QztRQUM1QyxPQUFPLElBQUksQ0FBQ0wsbUJBQW1CO0lBQ2pDO0lBRUFNLHlCQUE4QztRQUM1QyxPQUFPLElBQUksQ0FBQ0gsbUJBQW1CO0lBQ2pDO0lBRUFJLHNCQUFzQlQsU0FBaUIsRUFBRUQsTUFBc0IsRUFBc0I7UUFDbkYsT0FBTyxJQUFJVixpRkFBa0JBLENBQUNVLFFBQVFDO0lBQ3hDO0lBRUFVLG9DQUFvRTtRQUNsRSxPQUFPLElBQUksQ0FBQ1AsOEJBQThCO0lBQzVDO0lBR0FRLHFDQUFxQ1osTUFBc0IsRUFBa0M7UUFFM0YsT0FBTyxJQUFJVCw2RkFBOEJBLENBQUNTO0lBQzVDO0lBRUE7OztHQUdDLEdBQ0QsTUFBTWEsNkJBQTJDO1FBQy9DLElBQUk7WUFDRixNQUFNWCxzQkFBc0IsSUFBSSxDQUFDSyxzQkFBc0I7WUFDdkQsTUFBTU8sV0FBVyxNQUFNWixvQkFBb0Jh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eEQsa0JBQWtCLENBQUNtRSxVQUFVLENBQUNYO0lBQ2xEO0lBRUEsTUFBTVksYUFBYVosT0FBWSxFQUFnQjtRQUM3QyxPQUFPLE1BQU0sSUFBSSxDQUFDdkQsbUJBQW1CLENBQUNtRSxZQUFZLENBQUNaO0lBQ3JEO0lBRUEsTUFBTWEsY0FBY2IsT0FBWSxFQUFnQjtRQUM5QyxPQUFPLE1BQU0sSUFBSSxDQUFDdkQsbUJBQW1CLENBQUNvRSxhQUFhLENBQUNiO0lBQ3REO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hZ2VudGNyYWZ0LXVpLy4vaW5mcmEvYWxpYmFiYS1jbG91ZC9zZXJ2aWNlcy9zZXJ2ZXJsZXNzLWFwcC50cz9lYTgzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgU2VydmVybGVzc0JyaWRnZUZjLCBTZXJ2ZXJsZXNzQnJpZGdlU2VydmVybGVzc0RldnMgfSBmcm9tICdAL2luZnJhL2FsaWJhYmEtY2xvdWQvb3Blbi1hcGlzL2ZjJztcbmltcG9ydCB7IFNlcnZlcmxlc3NCcmlkZ2VSYW0gfSBmcm9tICdAL2luZnJhL2FsaWJhYmEtY2xvdWQvb3Blbi1hcGlzL3JhbSc7XG5pbXBvcnQgeyBTZXJ2ZXJsZXNzQnJpZGdlU3RzIH0gZnJvbSAnQC9pbmZyYS9hbGliYWJhLWNsb3VkL29wZW4tYXBpcy9zdHMnO1xuaW1wb3J0IHsgU2VydmVybGVzc0JyaWRnZVZwYyB9IGZyb20gJ0AvaW5mcmEvYWxpYmFiYS1jbG91ZC9vcGVuLWFwaXMvdnBjJztcbmltcG9ydCB7IEZDX0RFRkFVTFRfUk9MRV9OQU1FLCBBU1NVTUVfUk9MRV9QT0xJQ1lfRE9DVU1FTlQsIFNFUlZFUkxFU1NfREVWU19QT0xJQ0lFUyB9IGZyb20gJ0AvY29uc3RhbnRzL2Nsb3VkLXJlc291cmNlcydcbmltcG9ydCB7IE9wZW5BcGlDb25maWcgfSBmcm9tICdAL2luZnJhL2FsaWJhYmEtY2xvdWQvb3Blbi1hcGlzLy90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBTZXJ2ZXJsZXNzQnJpZGdlU2VydmljZSB7XG4gIHNlcnZlcmxlc3NCcmlkZ2VSYW06IFNlcnZlcmxlc3NCcmlkZ2VSYW07XG4gIHNlcnZlcmxlc3NCcmlkZ2VTdHM6IFNlcnZlcmxlc3NCcmlkZ2VTdHM7XG4gIHNlcnZlcmxlc3NCcmlkZ2VTZXJ2ZXJsZXNzRGV2czogU2VydmVybGVzc0JyaWRnZVNlcnZlcmxlc3NEZXZzO1xuICBzZXJ2ZXJsZXNzQnJpZGdlRmM6IFNlcnZlcmxlc3NCcmlkZ2VGYztcbiAgc2VydmVybGVzc0JyaWRnZVZwYzogU2VydmVybGVzc0JyaWRnZVZwYztcbiAgY29uZmlnOiBPcGVuQXBpQ29uZmlnIHwgdW5kZWZpbmVkO1xuICBjb25zdHJ1Y3Rvcihjb25maWc/OiBPcGVuQXBpQ29uZmlnLCBhY2NvdW50SWQ/OiBzdHJpbmcpIHtcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB0aGlzLnNlcnZlcmxlc3NCcmlkZ2VSYW0gPSBuZXcgU2VydmVybGVzc0JyaWRnZVJhbShjb25maWcpO1xuICAgIHRoaXMuc2VydmVybGVzc0JyaWRnZVN0cyA9IG5ldyBTZXJ2ZXJsZXNzQnJpZGdlU3RzKGNvbmZpZyk7XG4gICAgdGhpcy5zZXJ2ZXJsZXNzQnJpZGdlU2VydmVybGVzc0RldnMgPSBuZXcgU2VydmVybGVzc0JyaWRnZVNlcnZlcmxlc3NEZXZzKGNvbmZpZyk7XG4gICAgdGhpcy5zZXJ2ZXJsZXNzQnJpZGdlRmMgPSBuZXcgU2VydmVybGVzc0JyaWRnZUZjKGNvbmZpZywgYWNjb3VudElkKTtcbiAgICB0aGlzLnNlcnZlcmxlc3NCcmlkZ2VWcGMgPSBuZXcgU2VydmVybGVzc0JyaWRnZVZwYyhjb25maWcpO1xuICB9XG4gIGdldFNlcnZlcmxlc3NCcmlkZ2VSYW0oKTogU2VydmVybGVzc0JyaWRnZVJhbSB7XG4gICAgcmV0dXJuIHRoaXMuc2VydmVybGVzc0JyaWRnZVJhbTtcbiAgfVxuXG4gIGdldFNlcnZlcmxlc3NCcmlkZ2VTdHMoKTogU2VydmVybGVzc0JyaWRnZVN0cyB7XG4gICAgcmV0dXJuIHRoaXMuc2VydmVybGVzc0JyaWRnZVN0cztcbiAgfVxuXG4gIGdldFNlcnZlcmxlc3NCcmlkZ2VWcGMoKTogU2VydmVybGVzc0JyaWRnZVZwYyB7XG4gICAgcmV0dXJuIHRoaXMuc2VydmVybGVzc0JyaWRnZVZwYztcbiAgfVxuXG4gIGdldFNlcnZlcmxlc3NCcmlkZ2VGYyhhY2NvdW50SWQ6IHN0cmluZywgY29uZmlnPzogT3BlbkFwaUNvbmZpZyk6IFNlcnZlcmxlc3NCcmlkZ2VGYyB7XG4gICAgcmV0dXJuIG5ldyBTZXJ2ZXJsZXNzQnJpZGdlRmMoY29uZmlnLCBhY2NvdW50SWQpO1xuICB9XG5cbiAgZ2V0U2VydmVybGVzc0JyaWRnZVNlcnZlcmxlc3NEZXZzKCk6IFNlcnZlcmxlc3NCcmlkZ2VTZXJ2ZXJsZXNzRGV2cyB7XG4gICAgcmV0dXJuIHRoaXMuc2VydmVybGVzc0JyaWRnZVNlcnZlcmxlc3NEZXZzO1xuICB9XG5cblxuICBnZXRTZXJ2ZXJsZXNzU3ViQnJpZGdlU2VydmVybGVzc0RldnMoY29uZmlnPzogT3BlbkFwaUNvbmZpZyk6IFNlcnZlcmxlc3NCcmlkZ2VTZXJ2ZXJsZXNzRGV2cyB7XG5cbiAgICByZXR1cm4gbmV3IFNlcnZlcmxlc3NCcmlkZ2VTZXJ2ZXJsZXNzRGV2cyhjb25maWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIOiOt+WPluW9k+WJjeS4u+i0puWPt+inkuiJslxuICAgKiBAcmV0dXJucyBcbiAgICovXG4gIGFzeW5jIGdldE1haW5PckNyZWF0ZUFjY291bnRSb2xlKCk6IFByb21pc2U8YW55PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNlcnZlcmxlc3NCcmlkZ2VSYW0gPSB0aGlzLmdldFNlcnZlcmxlc3NCcmlkZ2VSYW0oKTtcbiAgICAgIGNvbnN0IHJvbGVJbmZvID0gYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5nZXRSb2xlKEZDX0RFRkFVTFRfUk9MRV9OQU1FKTtcblxuICAgICAgcmV0dXJuIHJvbGVJbmZvO1xuICAgIH0gY2F0Y2ggKGUpIHtcblxuICAgICAgYXdhaXQgdGhpcy5jcmVhdGVTZXJ2ZXJsZXNzRGV2c1JvbGVBbmRBdHRhY3RQb2xpY3koKTtcbiAgICB9XG5cbiAgfVxuXG4gIC8qKlxuICAgKiDliJvlu7pzZXJ2ZXJsZXNzZGV2cyDpu5jorqTop5LoibIgQWxpeXVuRkNTZXJ2ZXJsZXNzRGV2c1JvbGUsIOeEtuWQjue7mei/meS4quinkuiJsuaOiOS6iOadg+mZkFxuICAgKi9cbiAgYXN5bmMgY3JlYXRlU2VydmVybGVzc0RldnNSb2xlQW5kQXR0YWN0UG9saWN5KCkge1xuICAgIGNvbnN0IHNlcnZlcmxlc3NCcmlkZ2VSYW0gPSB0aGlzLmdldFNlcnZlcmxlc3NCcmlkZ2VSYW0oKTtcbiAgICBhd2FpdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtLmNyZWF0ZVJvbGUoe1xuICAgICAgcm9sZU5hbWU6IEZDX0RFRkFVTFRfUk9MRV9OQU1FLFxuICAgICAgZGVzY3JpcHRpb246ICdjcmVhdGVkIGJ5IHNlcnZlcmxlc3MgYnJpZGdlJyxcbiAgICAgIGFzc3VtZVJvbGVQb2xpY3lEb2N1bWVudDogQVNTVU1FX1JPTEVfUE9MSUNZX0RPQ1VNRU5UXG5cbiAgICB9KTtcbiAgICBmb3IgKGNvbnN0IHBvbGljeU5hbWUgb2YgU0VSVkVSTEVTU19ERVZTX1BPTElDSUVTKSB7XG4gICAgICBhd2FpdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtLmF0dGFjdFJvbGVQb2xpY3koeyBwb2xpY3lUeXBlOiAnU3lzdGVtJywgcG9saWN5TmFtZSwgcm9sZU5hbWU6IEZDX0RFRkFVTFRfUk9MRV9OQU1FIH0pO1xuICAgIH1cblxuICB9XG5cbiAgLyoqXG4gICAqIOaOiOadg+WtkOi0puWPt+mcgOimgeeahFNlcnZlcmxlc3Mg5p2D6ZmQ562W55WlXG4gICAqIEBwYXJhbSB1c2VyTmFtZSBcbiAgICovXG5cbiAgYXN5bmMgYXR0YWNoU2VydmVybGVzc0RldnNQb2xpY3lUb1VzZXIodXNlck5hbWU6IHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtID0gdGhpcy5nZXRTZXJ2ZXJsZXNzQnJpZGdlUmFtKCk7XG4gICAgICBjb25zdCByb2xlQXR0YWNoUmVzdWx0OiBhbnkgPSB7fTtcbiAgICAgIHJvbGVBdHRhY2hSZXN1bHRbJ0FsaXl1blJBTUZ1bGxBY2Nlc3MnXSA9IGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uYXR0YWNoUG9saWN5VG9Vc2VyKHsgcG9saWN5VHlwZTogJ1N5c3RlbScsIHBvbGljeU5hbWU6ICdBbGl5dW5SQU1GdWxsQWNjZXNzJywgdXNlck5hbWUgfSk7XG4gICAgICByb2xlQXR0YWNoUmVzdWx0WydBbGl5dW5TVFNBc3N1bWVSb2xlQWNjZXNzJ10gPSBhd2FpdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtLmF0dGFjaFBvbGljeVRvVXNlcih7IHBvbGljeVR5cGU6ICdTeXN0ZW0nLCBwb2xpY3lOYW1lOiAnQWxpeXVuU1RTQXNzdW1lUm9sZUFjY2VzcycsIHVzZXJOYW1lIH0pO1xuICAgICAgcm9sZUF0dGFjaFJlc3VsdFsnQWxpeXVuRkNEZWZhdWx0Um9sZVBvbGljeSddID0gYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5hdHRhY2hQb2xpY3lUb1VzZXIoeyBwb2xpY3lUeXBlOiAnU3lzdGVtJywgcG9saWN5TmFtZTogJ0FsaXl1bkZDRGVmYXVsdFJvbGVQb2xpY3knLCB1c2VyTmFtZSB9KTtcbiAgICAgIHJvbGVBdHRhY2hSZXN1bHRbJ0FsaXl1bkZDU2VydmVybGVzc0RldnNSb2xlUG9saWN5J10gPSBhd2FpdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtLmF0dGFjaFBvbGljeVRvVXNlcih7IHBvbGljeVR5cGU6ICdTeXN0ZW0nLCBwb2xpY3lOYW1lOiAnQWxpeXVuRkNTZXJ2ZXJsZXNzRGV2c1JvbGVQb2xpY3knLCB1c2VyTmFtZSB9KTtcbiAgICAgIHJvbGVBdHRhY2hSZXN1bHRbJ0FsaXl1bkZDRnVsbEFjY2VzcyddID0gYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5hdHRhY2hQb2xpY3lUb1VzZXIoeyBwb2xpY3lUeXBlOiAnU3lzdGVtJywgcG9saWN5TmFtZTogJ0FsaXl1bkZDRnVsbEFjY2VzcycsIHVzZXJOYW1lIH0pO1xuICAgICAgcm9sZUF0dGFjaFJlc3VsdFsnQWxpeXVuVlBDRnVsbEFjY2VzcyddID0gYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5hdHRhY2hQb2xpY3lUb1VzZXIoeyBwb2xpY3lUeXBlOiAnU3lzdGVtJywgcG9saWN5TmFtZTogJ0FsaXl1blZQQ0Z1bGxBY2Nlc3MnLCB1c2VyTmFtZSB9KTtcbiAgICAgIHJvbGVBdHRhY2hSZXN1bHRbJ0FsaXl1bk5BU0Z1bGxBY2Nlc3MnXSA9IGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uYXR0YWNoUG9saWN5VG9Vc2VyKHsgcG9saWN5VHlwZTogJ1N5c3RlbScsIHBvbGljeU5hbWU6ICdBbGl5dW5OQVNGdWxsQWNjZXNzJywgdXNlck5hbWUgfSk7XG5cbiAgICAgIC8vIGZvciAoY29uc3QgcG9saWN5TmFtZSBvZiBTRVJWRVJMRVNTX0RFVlNfUE9MSUNJRVMpIHtcbiAgICAgIC8vICAgcm9sZUF0dGFjaFJlc3VsdFtwb2xpY3lOYW1lXSA9IGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uYXR0YWNoUG9saWN5VG9Vc2VyKHsgcG9saWN5VHlwZTogJ1N5c3RlbScsIHBvbGljeU5hbWUsIHVzZXJOYW1lIH0pO1xuICAgICAgLy8gfVxuXG4gICAgICByZXR1cm4gcm9sZUF0dGFjaFJlc3VsdDtcbiAgICB9IGNhdGNoIChlKSB7XG5cbiAgICAgIHRocm93IGU7XG4gICAgfVxuXG4gIH1cblxuICBhc3luYyByZUF0dGFjaFN1YkFjY291bnRQb2xpY3kodXNlck5hbWU6IHN0cmluZywgcmVnaW9uOiBzdHJpbmcpIHtcbiAgICBjb25zdCBwb2xpY3lEb2N1bWVudCA9IGB7XG4gICAgICBcIlZlcnNpb25cIjogXCIxXCIsXG4gICAgICBcIlN0YXRlbWVudFwiOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBcIkFjdGlvblwiOiBcInJhbTpMaXN0UG9saWNpZXNGb3JVc2VyXCIsXG4gICAgICAgICAgXCJFZmZlY3RcIjogXCJBbGxvd1wiLFxuICAgICAgICAgIFwiUmVzb3VyY2VcIjogXCIqXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwiQWN0aW9uXCI6IFtcbiAgICAgICAgICAgIFwiZmM6R2V0U2VydmljZVwiLFxuICAgICAgICAgICAgXCJmYzpMaXN0U2VydmljZXNcIixcbiAgICAgICAgICAgIFwiZmM6R2V0UmVzb3VyY2VUYWdzXCJcbiAgICAgICAgICBdLFxuICAgICAgICAgIFwiRWZmZWN0XCI6IFwiQWxsb3dcIixcbiAgICAgICAgICBcIlJlc291cmNlXCI6IFwiYWNzOmZjOiR7cmVnaW9ufToqOnNlcnZpY2VzLyR7dXNlck5hbWV9LXNlcnZpY2UqXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwiQWN0aW9uXCI6IFwiZmM6TGlzdEZ1bmN0aW9uc1wiLFxuICAgICAgICAgIFwiRWZmZWN0XCI6IFwiQWxsb3dcIixcbiAgICAgICAgICBcIlJlc291cmNlXCI6IFwiYWNzOmZjOiR7cmVnaW9ufToqOnNlcnZpY2VzLyR7dXNlck5hbWV9LXNlcnZpY2UqL2Z1bmN0aW9ucy8qXCJcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIFwiQWN0aW9uXCI6IFtcbiAgICAgICAgICAgIFwiZmM6TGlzdEluc3RhbmNlc1wiLFxuICAgICAgICAgICAgXCJmYzpVcGRhdGVGdW5jdGlvblwiLFxuICAgICAgICAgICAgXCJmYzpHZXRGdW5jdGlvblwiLFxuICAgICAgICAgICAgXCJmYzpHZXRGdW5jdGlvbkNvZGVcIixcbiAgICAgICAgICAgIFwiZmM6TGlzdEZ1bmN0aW9uc1wiLFxuICAgICAgICAgICAgXCJmYzpJbnZva2VGdW5jdGlvblwiLFxuICAgICAgICAgICAgXCJmYzpHcmFudFRlbXBDb2RlQnVja2V0UGVybWlzc2lvblwiXG4gICAgICAgICAgXSxcbiAgICAgICAgICBcIkVmZmVjdFwiOiBcIkFsbG93XCIsXG4gICAgICAgICAgXCJSZXNvdXJjZVwiOiBcImFjczpmYzoke3JlZ2lvbn06KjpzZXJ2aWNlcy8ke3VzZXJOYW1lfS1zZXJ2aWNlKi9mdW5jdGlvbnMvKlwiXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9YFxuICAgIGNvbnN0IHBvbGljeU5hbWUgPSBgJHt1c2VyTmFtZX0tY3VzdG9tZXItcG9saWN5YDtcbiAgICBhd2FpdCB0aGlzLnNlcnZlcmxlc3NCcmlkZ2VSYW0uY3JlYXRlUG9saWN5KHsgIC8vIOafpeivouW5tuWIm+W7uuW9k+WJjeWtkOi0puWPt+eahOS4k+WxnuetlueVpVxuICAgICAgcG9saWN5TmFtZTogYCR7dXNlck5hbWV9LWN1c3RvbWVyLXBvbGljeWAsXG4gICAgICBkZXNjcmlwdGlvbjogJ2NyZWF0ZWQgYnkgc2VydmVybGVzcy1icmlkZ2UgZG9udCByZW1vdmUnLFxuICAgICAgcG9saWN5RG9jdW1lbnRcbiAgICB9KTtcblxuXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc2VydmVybGVzc0JyaWRnZVJhbS5hdHRhY2hQb2xpY3lUb1VzZXIoeyBwb2xpY3lUeXBlOiAnQ3VzdG9tJywgcG9saWN5TmFtZSwgdXNlck5hbWUgfSk7ICAgLy8g5bCG5LiT5bGe562W55WlYXR0YWNo5Yiw6K+l5a2Q6LSm5Y+3XG5cblxuICB9XG5cbiAgLyoqXG4gICAqIOenu+mZpOWtkOi0puWPt+eahOadg+mZkOetlueVpe+8jOmYsuatouWtkOi0puWPt+aTjeS9nOWHveaVsFxuICAgKiBAcGFyYW0gdXNlck5hbWUgXG4gICAqL1xuICBhc3luYyBkZXRhY2hTZXJ2ZXJsZXNzRGV2c1BvbGljeUZyb21Vc2VyKHVzZXJOYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtID0gdGhpcy5nZXRTZXJ2ZXJsZXNzQnJpZGdlUmFtKCk7XG4gICAgYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5kZXRhY2hQb2xpY3lGcm9tVXNlcih7IHBvbGljeVR5cGU6ICdTeXN0ZW0nLCBwb2xpY3lOYW1lOiAnQWxpeXVuUkFNRnVsbEFjY2VzcycsIHVzZXJOYW1lIH0pO1xuICAgIGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uZGV0YWNoUG9saWN5RnJvbVVzZXIoeyBwb2xpY3lUeXBlOiAnU3lzdGVtJywgcG9saWN5TmFtZTogJ0FsaXl1blNUU0Fzc3VtZVJvbGVBY2Nlc3MnLCB1c2VyTmFtZSB9KTtcbiAgICBhd2FpdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtLmRldGFjaFBvbGljeUZyb21Vc2VyKHsgcG9saWN5VHlwZTogJ1N5c3RlbScsIHBvbGljeU5hbWU6ICdBbGl5dW5GQ0RlZmF1bHRSb2xlUG9saWN5JywgdXNlck5hbWUgfSk7XG4gICAgYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5kZXRhY2hQb2xpY3lGcm9tVXNlcih7IHBvbGljeVR5cGU6ICdTeXN0ZW0nLCBwb2xpY3lOYW1lOiAnQWxpeXVuRkNTZXJ2ZXJsZXNzRGV2c1JvbGVQb2xpY3knLCB1c2VyTmFtZSB9KTtcbiAgICBhd2FpdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtLmRldGFjaFBvbGljeUZyb21Vc2VyKHsgcG9saWN5VHlwZTogJ1N5c3RlbScsIHBvbGljeU5hbWU6ICdBbGl5dW5GQ0Z1bGxBY2Nlc3MnLCB1c2VyTmFtZSB9KTtcbiAgICBhd2FpdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtLmRldGFjaFBvbGljeUZyb21Vc2VyKHsgcG9saWN5VHlwZTogJ1N5c3RlbScsIHBvbGljeU5hbWU6ICdBbGl5dW5WUENGdWxsQWNjZXNzJywgdXNlck5hbWUgfSk7XG4gICAgYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5kZXRhY2hQb2xpY3lGcm9tVXNlcih7IHBvbGljeVR5cGU6ICdTeXN0ZW0nLCBwb2xpY3lOYW1lOiAnQWxpeXVuTkFTRnVsbEFjY2VzcycsIHVzZXJOYW1lIH0pO1xuICAgIC8vIGZvciAoY29uc3QgcG9saWN5TmFtZSBvZiBTRVJWRVJMRVNTX0RFVlNfUE9MSUNJRVMpIHtcbiAgICAvLyAgIGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uZGV0YWNoUG9saWN5RnJvbVVzZXIoeyBwb2xpY3lUeXBlOiAnU3lzdGVtJywgcG9saWN5TmFtZSwgdXNlck5hbWUgfSk7XG4gICAgLy8gfVxuICB9XG5cbiAgLyoqXG4gICAqIOWIoOmZpOWtkOi0puWPt+eahGFrLCBzaywg546w5Zyo5a2Q6LSm5Y+355qEYWssc2sg5LiK6ZmQ5pivMuS4qlxuICAgKiBAcGFyYW0gdXNlckFjY2Vzc0tleUlkIFxuICAgKi9cbiAgYXN5bmMgZGVsZXRlU3ViQWNjb3VudEFjY2Vzc0tleSh1c2VyTmFtZTogc3RyaW5nLCB1c2VyQWNjZXNzS2V5SWQ6IHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtID0gdGhpcy5nZXRTZXJ2ZXJsZXNzQnJpZGdlUmFtKCk7XG4gICAgICBjb25zdCBkZWxldGVTdWJBY2NvdW50QWtJbmZvID0gYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5kZWxldGVBY2Nlc3NLZXkodXNlck5hbWUsIHVzZXJBY2Nlc3NLZXlJZCk7XG4gICAgICByZXR1cm4gZGVsZXRlU3ViQWNjb3VudEFrSW5mbztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICB9XG5cbiAgLyoqXG4gICAqIOWIm+W7uuWtkOi0puWPt+eahCBhayxza1xuICAgKiBAcGFyYW0gdXNlck5hbWUgXG4gICAqIEByZXR1cm5zIFxuICAgKi9cbiAgYXN5bmMgY3JlYXRlU3ViQWNjb3VudEFjY2Vzc0tleSh1c2VyTmFtZTogc3RyaW5nKSB7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3Qgc2VydmVybGVzc0JyaWRnZVJhbSA9IHRoaXMuZ2V0U2VydmVybGVzc0JyaWRnZVJhbSgpO1xuICAgICAgY29uc3QgY3VycmVudEFrczogYW55ID0gYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5saXN0QWNjZXNzS2V5cyh1c2VyTmFtZSk7XG4gICAgICBpZiAoY3VycmVudEFrcy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgY29uc3QgY3VycmVudEFjY2Vzc0tleUlkID0gY3VycmVudEFrc1swXS5hY2Nlc3NLZXlJZDtcbiAgICAgICAgYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5kZWxldGVBY2Nlc3NLZXkodXNlck5hbWUsIGN1cnJlbnRBY2Nlc3NLZXlJZCk7XG4gICAgICB9XG4gICAgICBjb25zdCBzdWJBY2NvdW50Q3JlZGVudGlhbCA9IGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VSYW0uY3JlYXRlQWNjZXNzS2V5KHVzZXJOYW1lKTtcbiAgICAgIHJldHVybiBzdWJBY2NvdW50Q3JlZGVudGlhbFxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuXG4gIH1cblxuICAvKipcbiAgICog5p+l6K+i5Lul5Y+K5Yib5bu65a2Q6LSm5Y+3XG4gICAqIEBwYXJhbSB1c2VyTmFtZSBcbiAgICogQHJldHVybnMgXG4gICAqL1xuICBhc3luYyBnZXRPckNyZWF0ZVN1YkFjY291bnQodXNlck5hbWU6IHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtID0gdGhpcy5nZXRTZXJ2ZXJsZXNzQnJpZGdlUmFtKCk7XG4gICAgICBsZXQgYWNjb3VudEluZm8gPSBhd2FpdCBzZXJ2ZXJsZXNzQnJpZGdlUmFtLmdldFVzZXIodXNlck5hbWUpO1xuICAgICAgaWYgKGFjY291bnRJbmZvLmVycm9yKSB7XG4gICAgICAgIGFjY291bnRJbmZvID0gYXdhaXQgc2VydmVybGVzc0JyaWRnZVJhbS5jcmVhdGVVc2VyKHsgdXNlck5hbWUgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhY2NvdW50SW5mbztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICB9XG4gIC8qKlxuICAgKiDlrZDotKblj7fliJvlu7rlupTnlKhcbiAgICogQHBhcmFtIGFjY2Vzc0tleUlkIFxuICAgKiBAcGFyYW0gYWNjZXNzS2V5U2VjcmV0IFxuICAgKiBAcGFyYW0gYXBwUGF5bG9hZCBcbiAgICogQHJldHVybnMgXG4gICAqL1xuICBhc3luYyBjcmVhdGVTdWJBY2NvdW50QXBwbGljYXRpb24oYWNjZXNzS2V5SWQ6IHN0cmluZywgYWNjZXNzS2V5U2VjcmV0OiBzdHJpbmcsIGFwcFBheWxvYWQ6IGFueSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzZXJ2ZXJsZXNzRGV2c0NsaWVudCA9IHRoaXMuZ2V0U2VydmVybGVzc1N1YkJyaWRnZVNlcnZlcmxlc3NEZXZzKHtcbiAgICAgICAgYWNjZXNzS2V5SWQsXG4gICAgICAgIGFjY2Vzc0tleVNlY3JldCxcbiAgICAgIH0pXG4gICAgICBjb25zdCBjcmVhdGVBcHBSZXN1bHQgPSBhd2FpdCBzZXJ2ZXJsZXNzRGV2c0NsaWVudC5jcmVhdGVBcHBsaWNhdGlvbihhcHBQYXlsb2FkKTtcbiAgICAgIHJldHVybiBjcmVhdGVBcHBSZXN1bHQ7XG4gICAgfSBjYXRjaCAoZSkge1xuXG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICB9XG5cblxuXG5cbiAgLyoqXG4gICAqIOWIoOmZpOW6lOeUqFxuICAgKiBAcGFyYW0gYXBwTmFtZSBcbiAgICogQHJldHVybnMgXG4gICAqL1xuICBhc3luYyBkZWxldGVBcHBsaWNhdGlvbihhcHBOYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBzZXJ2ZXJsZXNzRGV2c0NsaWVudCA9IHRoaXMuZ2V0U2VydmVybGVzc0JyaWRnZVNlcnZlcmxlc3NEZXZzKClcbiAgICByZXR1cm4gYXdhaXQgc2VydmVybGVzc0RldnNDbGllbnQuZGVsZXRlQXBwbGljYXRpb24oYXBwTmFtZSk7XG4gIH1cblxuICBhc3luYyBjcmVhdGVNYWluQWNjb3VudEFwcGxpY2F0aW9uKHBheWxvYWQ6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3Qgc2VydmVybGVzc0RldnNDbGllbnQgPSB0aGlzLmdldFNlcnZlcmxlc3NCcmlkZ2VTZXJ2ZXJsZXNzRGV2cygpO1xuICAgIHJldHVybiBhd2FpdCBzZXJ2ZXJsZXNzRGV2c0NsaWVudC5jcmVhdGVBcHBsaWNhdGlvbihwYXlsb2FkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiDmn6Xor6LlupTnlKjkv6Hmga9cbiAgICogQHBhcmFtIGFwcE5hbWUgXG4gICAqIEByZXR1cm5zIFxuICAgKi9cbiAgYXN5bmMgZ2V0QXBwbGljYXRpb24oYXBwTmFtZTogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICBjb25zdCBzZXJ2ZXJsZXNzRGV2c0NsaWVudCA9IHRoaXMuZ2V0U2VydmVybGVzc0JyaWRnZVNlcnZlcmxlc3NEZXZzKCk7XG4gICAgcmV0dXJuIGF3YWl0IHNlcnZlcmxlc3NEZXZzQ2xpZW50LmdldEFwcGxpY2F0aW9uKGFwcE5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIOafpeivouaJgOacieW6lOeUqOS/oeaBr1xuICAgKiBAcGFyYW0gYXBwTmFtZSBcbiAgICogQHJldHVybnMgXG4gICAqL1xuICBhc3luYyBsaXN0QXBwbGljYXRpb25zKCk6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3Qgc2VydmVybGVzc0RldnNDbGllbnQgPSB0aGlzLmdldFNlcnZlcmxlc3NCcmlkZ2VTZXJ2ZXJsZXNzRGV2cygpO1xuICAgIHJldHVybiBhd2FpdCBzZXJ2ZXJsZXNzRGV2c0NsaWVudC5saXN0QXBwbGljYXRpb25zKCk7XG4gIH1cbiAgLyoqXG4gICAqIOWtkOi0puWPt+aOiOS/oWZjLWNvbnNvbGXmnYPpmZBcbiAgICogQHBhcmFtIHBheWxvYWQgXG4gICAqIEBwYXJhbSBjcmVkZW50aWFscyBcbiAgICogQHJldHVybnMgXG4gICAqL1xuICBhc3luYyBzdWJBY2NvdW50QXNzdW1lUm9sZShwYXlsb2FkOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IHN0c0NsaWVudCA9IHRoaXMuZ2V0U2VydmVybGVzc0JyaWRnZVN0cygpO1xuICAgIHJldHVybiBhd2FpdCBzdHNDbGllbnQuYXNzdW1lUm9sZShwYXlsb2FkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBcbiAgICogQHBhcmFtIGFjY291bnRJZCDlh73mlbDmiafooYzkuLvotKblj7dpZFxuICAgKiBAcGFyYW0gc3RzQ29uZmlnIGFzc3VtZVJvbGXlkI7nmoRjcmVkZW50aWFsIFxuICAgKiBAcGFyYW0gZmNJbnZva2VEYXRhIOaJp+ihjOWHveaVsOeahOaVsOaNruWMheaLrOacjeWKoeWSjOWHveaVsFxuICAgKiBAcGFyYW0gcGF5bG9hZCDmiafooYzlh73mlbDnmoTor7fmsYLmlbDmja5cbiAgICogQHJldHVybnMgXG4gICAqL1xuICBhc3luYyBpbnZva2VGdW5jdGlvbihmY0ludm9rZURhdGE6IGFueSwgcGF5bG9hZDogYW55KTogUHJvbWlzZTxhbnk+IHtcblxuICAgIHJldHVybiBhd2FpdCB0aGlzLnNlcnZlcmxlc3NCcmlkZ2VGYy5pbnZva2VGdW5jdGlvbihmY0ludm9rZURhdGEsIHBheWxvYWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIOafpeivouWHveaVsOWIl+ihqFxuICAgKiBAcGFyYW0gc3RzQ29uZmlnIFxuICAgKiBAcGFyYW0gcGF5bG9hZCBcbiAgICogQHJldHVybnMgXG4gICAqL1xuICBhc3luYyBsaXN0RnVuY3Rpb25zKHBheWxvYWQ6IGFueSk6IFByb21pc2U8YW55PiB7XG5cblxuICAgIHJldHVybiBhd2FpdCB0aGlzLnNlcnZlcmxlc3NCcmlkZ2VGYy5saXN0RnVuY3Rpb25zKHBheWxvYWQpO1xuICB9XG4gIC8qKlxuICAgKiDmn6Xor6Llh73mlbDliJfooahcbiAgICogQHBhcmFtIHN0c0NvbmZpZyBcbiAgICogQHBhcmFtIHBheWxvYWQgXG4gICAqIEByZXR1cm5zIFxuICAgKi9cbiAgYXN5bmMgdXBkYXRlRnVuY3Rpb24ocGF5bG9hZDogYW55KTogUHJvbWlzZTxhbnk+IHtcblxuICAgIHJldHVybiBhd2FpdCB0aGlzLnNlcnZlcmxlc3NCcmlkZ2VGYy51cGRhdGVGdW5jdGlvbihwYXlsb2FkKTtcbiAgfVxuXG4gIC8qKlxuICAqIOafpeivouWHveaVsOWIl+ihqFxuICAqIEBwYXJhbSBwYXlsb2FkIFxuICAqIEByZXR1cm5zIFxuICAqL1xuICBhc3luYyBnZXRGdW5jdGlvbihwYXlsb2FkOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc2VydmVybGVzc0JyaWRnZUZjLmdldEZ1bmN0aW9uKHBheWxvYWQpO1xuICB9XG5cbiAgLyoqXG4gICog5p+l6K+i5Ye95pWw5YiX6KGoXG4gICogQHBhcmFtIHBheWxvYWQgXG4gICogQHJldHVybnMgXG4gICovXG4gIGFzeW5jIGdldFNlcnZpY2UocGF5bG9hZDogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zZXJ2ZXJsZXNzQnJpZGdlRmMuZ2V0U2VydmljZShwYXlsb2FkKTtcbiAgfVxuXG4gIGFzeW5jIGRlc2NyaWJlVnBjcyhwYXlsb2FkOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnNlcnZlcmxlc3NCcmlkZ2VWcGMuZGVzY3JpYmVWcGNzKHBheWxvYWQpO1xuICB9XG4gIFxuICBhc3luYyBjcmVhdGVWU3dpdGNoKHBheWxvYWQ6IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuc2VydmVybGVzc0JyaWRnZVZwYy5jcmVhdGVWU3dpdGNoKHBheWxvYWQpO1xuICB9XG59XG5cblxuIl0sIm5hbWVzIjpbIlNlcnZlcmxlc3NCcmlkZ2VGYyIsIlNlcnZlcmxlc3NCcmlkZ2VTZXJ2ZXJsZXNzRGV2cyIsIlNlcnZlcmxlc3NCcmlkZ2VSYW0iLCJTZXJ2ZXJsZXNzQnJpZGdlU3RzIiwiU2VydmVybGVzc0JyaWRnZVZwYyIsIkZDX0RFRkFVTFRfUk9MRV9OQU1FIiwiQVNTVU1FX1JPTEVfUE9MSUNZX0RPQ1VNRU5UIiwiU0VSVkVSTEVTU19ERVZTX1BPTElDSUVTIiwiU2VydmVybGVzc0JyaWRnZVNlcnZpY2UiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImFjY291bnRJZCIsInNlcnZlcmxlc3NCcmlkZ2VSYW0iLCJzZXJ2ZXJsZXNzQnJpZGdlU3RzIiwic2VydmVybGVzc0JyaWRnZVNlcnZlcmxlc3NEZXZzIiwic2VydmVybGVzc0JyaWRnZUZjIiwic2VydmVybGVzc0JyaWRnZVZwYyIsImdldFNlcnZlcmxlc3NCcmlkZ2VSYW0iLCJnZXRTZXJ2ZXJsZXNzQnJpZGdlU3RzIiwiZ2V0U2VydmVybGVzc0JyaWRnZVZwYyIsImdldFNlcnZlcmxlc3NCcmlkZ2VGYyIsImdldFNlcnZlcmxlc3NCcmlkZ2VTZXJ2ZXJsZXNzRGV2cyIsImdldFNlcnZlcmxlc3NTdWJCcmlkZ2VTZXJ2ZXJsZXNzRGV2cyIsImdldE1haW5PckNyZWF0ZUFjY291bnRSb2xlIiwicm9sZUluZm8iLCJnZXRSb2xlIiwiZSIsImNyZWF0ZVNlcnZlcmxlc3NEZXZzUm9sZUFuZEF0dGFjdFBvbGljeSIsImNyZWF0ZVJvbGUiLCJyb2xlTmFtZSIsImRlc2NyaXB0aW9uIiwiYXNzdW1lUm9sZVBvbGljeURvY3VtZW50IiwicG9saWN5TmFtZSIsImF0dGFjdFJvbGVQb2xpY3kiLCJwb2xpY3lUeXBlIiwiYXR0YWNoU2VydmVybGVzc0RldnNQb2xpY3lUb1VzZXIiLCJ1c2VyTmFtZSIsInJvbGVBdHRhY2hSZXN1bHQiLCJhdHRhY2hQb2xpY3lUb1VzZXIiLCJyZUF0dGFjaFN1YkFjY291bnRQb2xpY3kiLCJyZWdpb24iLCJwb2xpY3lEb2N1bWVudCIsImNyZWF0ZVBvbGljeSIsImRldGFjaFNlcnZlcmxlc3NEZXZzUG9saWN5RnJvbVVzZXIiLCJkZXRhY2hQb2xpY3lGcm9tVXNlciIsImRlbGV0ZVN1YkFjY291bnRBY2Nlc3NLZXkiLCJ1c2VyQWNjZXNzS2V5SWQiLCJkZWxldGVTdWJBY2NvdW50QWtJbmZvIiwiZGVsZXRlQWNjZXNzS2V5IiwiY3JlYXRlU3ViQWNjb3VudEFjY2Vzc0tleSIsImN1cnJlbnRBa3MiLCJsaXN0QWNjZXNzS2V5cyIsImxlbmd0aCIsImN1cnJlbnRBY2Nlc3NLZXlJZCIsImFjY2Vzc0tleUlkIiwic3ViQWNjb3VudENyZWRlbnRpYWwiLCJjcmVhdGVBY2Nlc3NLZXkiLCJnZXRPckNyZWF0ZVN1YkFjY291bnQiLCJhY2NvdW50SW5mbyIsImdldFVzZXIiLCJlcnJvciIsImNyZWF0ZVVzZXIiLCJjcmVhdGVTdWJBY2NvdW50QXBwbGljYXRpb24iLCJhY2Nlc3NLZXlTZWNyZXQiLCJhcHBQYXlsb2FkIiwic2VydmVybGVzc0RldnNDbGllbnQiLCJjcmVhdGVBcHBSZXN1bHQiLCJjcmVhdGVBcHBsaWNhdGlvbiIsImRlbGV0ZUFwcGxpY2F0aW9uIiwiYXBwTmFtZSIsImNyZWF0ZU1haW5BY2NvdW50QXBwbGljYXRpb24iLCJwYXlsb2FkIiwiZ2V0QXBwbGljYXRpb24iLCJsaXN0QXBwbGljYXRpb25zIiwic3ViQWNjb3VudEFzc3VtZVJvbGUiLCJzdHNDbGllbnQiLCJhc3N1bWVSb2xlIiwiaW52b2tlRnVuY3Rpb24iLCJmY0ludm9rZURhdGEiLCJsaXN0RnVuY3Rpb25zIiwidXBkYXRlRnVuY3Rpb24iLCJnZXRGdW5jdGlvbiIsImdldFNlcnZpY2UiLCJkZXNjcmliZVZwY3MiLCJjcmVhdGVWU3dpdGNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./infra/alibaba-cloud/services/serverless-app.ts\n");

/***/ }),

/***/ "(api)/./pages/api/systemConfig/init.ts":
/*!****************************************!*\
  !*** ./pages/api/systemConfig/init.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _infra_alibaba_cloud_services_serverless_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/infra/alibaba-cloud/services/serverless-app */ \"(api)/./infra/alibaba-cloud/services/serverless-app.ts\");\n\nconst DEFAULT_VWISTH_CONFIG = {\n    regionId: \"cn-hangzhou\",\n    zoneId: \"cn-hangzhou-k\",\n    cidrBlock: \"10.0.0.0/24\",\n    vpcId: \"\",\n    vSwitchName: \"agentcraft-vpc\",\n    description: \"由AgentCraft创建，配置数据库使用，请谨慎删除\"\n};\nasync function handler(req, res) {\n    const headers = req.headers;\n    const mainAccountId = headers[\"x-fc-account-id\"] || process.env.MAIN_ACCOUNT_ID;\n    const accessKeyId = headers[\"x-fc-access-key-id\"];\n    const accessKeySecret = headers[\"x-fc-access-key-secret\"];\n    const securityToken = headers[\"x-fc-security-token\"];\n    const region = process.env.Region || \"cn-hangzhou\";\n    let credential = undefined;\n    if (accessKeyId) {\n        credential = {\n            accessKeyId,\n            accessKeySecret,\n            securityToken\n        };\n    }\n    // else {\n    //     res.status(200).json({ data: { 'EMBEDDING_URL': 'http://localhost:8000' } });\n    //     return;\n    // }\n    const serverlessBridgeService = new _infra_alibaba_cloud_services_serverless_app__WEBPACK_IMPORTED_MODULE_0__.ServerlessBridgeService(credential, mainAccountId);\n    let status = 200;\n    const data = {\n        code: 200\n    };\n    const serviceName = process.env.beServiceName;\n    const functionName = process.env.beFunctionName;\n    try {\n        const result = await serverlessBridgeService.getFunction({\n            serviceName,\n            functionName,\n            qualifier: \"LATEST\"\n        });\n        const embedding_url = result?.body?.environmentVariables?.EMBEDDING_URL;\n        const serviceInfo = await serverlessBridgeService.getService({\n            serviceName\n        });\n        const vpcConfig = serviceInfo?.body?.vpcConfig || {};\n        let _vpcName = \"\";\n        try {\n            const vpcResult = await serverlessBridgeService.describeVpcs({\n                vpcId: vpcConfig.vpcId,\n                regionId: region\n            });\n            const vpcInfo = vpcResult?.body?.vpcs?.vpc[0] || {};\n            const { vpcName, vpcId } = vpcInfo;\n            _vpcName = vpcName;\n            const vswitchPayload = DEFAULT_VWISTH_CONFIG;\n            vswitchPayload.vpcId = vpcId;\n            vswitchPayload.regionId = region;\n            await serverlessBridgeService.createVSwitch(vswitchPayload); //兼容数据库的可用区创建一个vswitch\n        } catch (e) {\n            console.log(\"vswitch create error:\", e);\n        }\n        data.data = {\n            EMBEDDING_URL: embedding_url,\n            vpcInfo: {\n                vpcName: _vpcName,\n                vpcId: vpcConfig.vpcId\n            }\n        };\n    } catch (e) {\n        status = 500;\n        data.code = status;\n        data.error = e.message;\n    }\n    res.status(status).json(data);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvc3lzdGVtQ29uZmlnL2luaXQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDd0Y7QUFFeEYsTUFBTUMsd0JBQXdCO0lBQzFCQyxVQUFVO0lBQ1ZDLFFBQVE7SUFDUkMsV0FBVztJQUNYQyxPQUFPO0lBQ1BDLGFBQWE7SUFDYkMsYUFBYTtBQUNqQjtBQUVlLGVBQWVDLFFBQzFCQyxHQUFtQixFQUNuQkMsR0FBb0I7SUFFcEIsTUFBTUMsVUFBVUYsSUFBSUUsT0FBTztJQUMzQixNQUFNQyxnQkFBcUJELE9BQU8sQ0FBQyxrQkFBa0IsSUFBSUUsUUFBUUMsR0FBRyxDQUFDQyxlQUFlO0lBQ3BGLE1BQU1DLGNBQW1CTCxPQUFPLENBQUMscUJBQXFCO0lBQ3RELE1BQU1NLGtCQUF1Qk4sT0FBTyxDQUFDLHlCQUF5QjtJQUM5RCxNQUFNTyxnQkFBcUJQLE9BQU8sQ0FBQyxzQkFBc0I7SUFDekQsTUFBTVEsU0FBU04sUUFBUUMsR0FBRyxDQUFDTSxNQUFNLElBQUk7SUFDckMsSUFBSUMsYUFBYUM7SUFDakIsSUFBSU4sYUFBYTtRQUNiSyxhQUFhO1lBQ1RMO1lBQ0FDO1lBQ0FDO1FBQ0o7SUFDSjtJQUNBLFNBQVM7SUFDVCxvRkFBb0Y7SUFDcEYsY0FBYztJQUNkLElBQUk7SUFDSixNQUFNSywwQkFBMEIsSUFBSXZCLGlHQUF1QkEsQ0FBQ3FCLFlBQVlUO0lBRXhFLElBQUlZLFNBQVM7SUFDYixNQUFNQyxPQUFZO1FBQ2RDLE1BQU07SUFDVjtJQUNBLE1BQU1DLGNBQWNkLFFBQVFDLEdBQUcsQ0FBQ2MsYUFBYTtJQUM3QyxNQUFNQyxlQUFlaEIsUUFBUUMsR0FBRyxDQUFDZ0IsY0FBYztJQUMvQyxJQUFJO1FBQ0EsTUFBTUMsU0FBUyxNQUFNUix3QkFBd0JTLFdBQVcsQ0FBQztZQUNyREw7WUFDQUU7WUFDQUksV0FBVztRQUNmO1FBRUEsTUFBTUMsZ0JBQWdCSCxRQUFRSSxNQUFNQyxzQkFBc0JDO1FBQzFELE1BQU1DLGNBQWMsTUFBTWYsd0JBQXdCZ0IsVUFBVSxDQUFDO1lBQ3pEWjtRQUNKO1FBQ0EsTUFBTWEsWUFBWUYsYUFBYUgsTUFBTUssYUFBYSxDQUFDO1FBQ25ELElBQUlDLFdBQVc7UUFFZixJQUFJO1lBQ0EsTUFBTUMsWUFBWSxNQUFNbkIsd0JBQXdCb0IsWUFBWSxDQUFDO2dCQUN6RHRDLE9BQU9tQyxVQUFVbkMsS0FBSztnQkFDdEJILFVBQVVpQjtZQUNkO1lBQ0EsTUFBTXlCLFVBQVVGLFdBQVdQLE1BQU1VLE1BQU1DLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQztZQUNsRCxNQUFNLEVBQUVDLE9BQU8sRUFBRTFDLEtBQUssRUFBRSxHQUFHdUM7WUFDM0JILFdBQVdNO1lBQ1gsTUFBTUMsaUJBQWlCL0M7WUFDdkIrQyxlQUFlM0MsS0FBSyxHQUFHQTtZQUN2QjJDLGVBQWU5QyxRQUFRLEdBQUdpQjtZQUMxQixNQUFNSSx3QkFBd0IwQixhQUFhLENBQUNELGlCQUFpQixzQkFBc0I7UUFDdkYsRUFBRSxPQUFPRSxHQUFHO1lBQ1JDLFFBQVFDLEdBQUcsQ0FBQyx5QkFBeUJGO1FBQ3pDO1FBQ0F6QixLQUFLQSxJQUFJLEdBQUc7WUFBRVksZUFBZUg7WUFBZVUsU0FBUztnQkFBRUcsU0FBU047Z0JBQVVwQyxPQUFPbUMsVUFBVW5DLEtBQUs7WUFBQztRQUFFO0lBQ3ZHLEVBQUUsT0FBTzZDLEdBQVE7UUFDYjFCLFNBQVM7UUFDVEMsS0FBS0MsSUFBSSxHQUFHRjtRQUNaQyxLQUFLNEIsS0FBSyxHQUFHSCxFQUFFSSxPQUFPO0lBQzFCO0lBQ0E1QyxJQUFJYyxNQUFNLENBQUNBLFFBQVErQixJQUFJLENBQUM5QjtBQUM1QiIsInNvdXJjZXMiOlsid2VicGFjazovL2FnZW50Y3JhZnQtdWkvLi9wYWdlcy9hcGkvc3lzdGVtQ29uZmlnL2luaXQudHM/MmI1ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0J1xuaW1wb3J0IHsgU2VydmVybGVzc0JyaWRnZVNlcnZpY2UgfSBmcm9tICdAL2luZnJhL2FsaWJhYmEtY2xvdWQvc2VydmljZXMvc2VydmVybGVzcy1hcHAnO1xuXG5jb25zdCBERUZBVUxUX1ZXSVNUSF9DT05GSUcgPSB7XG4gICAgcmVnaW9uSWQ6IFwiY24taGFuZ3pob3VcIixcbiAgICB6b25lSWQ6IFwiY24taGFuZ3pob3Uta1wiLFxuICAgIGNpZHJCbG9jazogXCIxMC4wLjAuMC8yNFwiLFxuICAgIHZwY0lkOiBcIlwiLFxuICAgIHZTd2l0Y2hOYW1lOiBcImFnZW50Y3JhZnQtdnBjXCIsXG4gICAgZGVzY3JpcHRpb246IFwi55SxQWdlbnRDcmFmdOWIm+W7uu+8jOmFjee9ruaVsOaNruW6k+S9v+eUqO+8jOivt+iwqOaFjuWIoOmZpFwiLFxufVxuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKFxuICAgIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gICAgcmVzOiBOZXh0QXBpUmVzcG9uc2Vcbikge1xuICAgIGNvbnN0IGhlYWRlcnMgPSByZXEuaGVhZGVycztcbiAgICBjb25zdCBtYWluQWNjb3VudElkOiBhbnkgPSBoZWFkZXJzWyd4LWZjLWFjY291bnQtaWQnXSB8fCBwcm9jZXNzLmVudi5NQUlOX0FDQ09VTlRfSUQ7XG4gICAgY29uc3QgYWNjZXNzS2V5SWQ6IGFueSA9IGhlYWRlcnNbJ3gtZmMtYWNjZXNzLWtleS1pZCddO1xuICAgIGNvbnN0IGFjY2Vzc0tleVNlY3JldDogYW55ID0gaGVhZGVyc1sneC1mYy1hY2Nlc3Mta2V5LXNlY3JldCddO1xuICAgIGNvbnN0IHNlY3VyaXR5VG9rZW46IGFueSA9IGhlYWRlcnNbJ3gtZmMtc2VjdXJpdHktdG9rZW4nXTtcbiAgICBjb25zdCByZWdpb24gPSBwcm9jZXNzLmVudi5SZWdpb24gfHwgJ2NuLWhhbmd6aG91JztcbiAgICBsZXQgY3JlZGVudGlhbCA9IHVuZGVmaW5lZDtcbiAgICBpZiAoYWNjZXNzS2V5SWQpIHtcbiAgICAgICAgY3JlZGVudGlhbCA9IHtcbiAgICAgICAgICAgIGFjY2Vzc0tleUlkLFxuICAgICAgICAgICAgYWNjZXNzS2V5U2VjcmV0LFxuICAgICAgICAgICAgc2VjdXJpdHlUb2tlblxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGVsc2Uge1xuICAgIC8vICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IGRhdGE6IHsgJ0VNQkVERElOR19VUkwnOiAnaHR0cDovL2xvY2FsaG9zdDo4MDAwJyB9IH0pO1xuICAgIC8vICAgICByZXR1cm47XG4gICAgLy8gfVxuICAgIGNvbnN0IHNlcnZlcmxlc3NCcmlkZ2VTZXJ2aWNlID0gbmV3IFNlcnZlcmxlc3NCcmlkZ2VTZXJ2aWNlKGNyZWRlbnRpYWwsIG1haW5BY2NvdW50SWQpO1xuXG4gICAgbGV0IHN0YXR1cyA9IDIwMDtcbiAgICBjb25zdCBkYXRhOiBhbnkgPSB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICB9XG4gICAgY29uc3Qgc2VydmljZU5hbWUgPSBwcm9jZXNzLmVudi5iZVNlcnZpY2VOYW1lO1xuICAgIGNvbnN0IGZ1bmN0aW9uTmFtZSA9IHByb2Nlc3MuZW52LmJlRnVuY3Rpb25OYW1lO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VTZXJ2aWNlLmdldEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIHNlcnZpY2VOYW1lLFxuICAgICAgICAgICAgZnVuY3Rpb25OYW1lLFxuICAgICAgICAgICAgcXVhbGlmaWVyOiAnTEFURVNUJ1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBlbWJlZGRpbmdfdXJsID0gcmVzdWx0Py5ib2R5Py5lbnZpcm9ubWVudFZhcmlhYmxlcz8uRU1CRURESU5HX1VSTDtcbiAgICAgICAgY29uc3Qgc2VydmljZUluZm8gPSBhd2FpdCBzZXJ2ZXJsZXNzQnJpZGdlU2VydmljZS5nZXRTZXJ2aWNlKHtcbiAgICAgICAgICAgIHNlcnZpY2VOYW1lXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB2cGNDb25maWcgPSBzZXJ2aWNlSW5mbz8uYm9keT8udnBjQ29uZmlnIHx8IHt9XG4gICAgICAgIGxldCBfdnBjTmFtZSA9ICcnXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHZwY1Jlc3VsdCA9IGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VTZXJ2aWNlLmRlc2NyaWJlVnBjcyh7XG4gICAgICAgICAgICAgICAgdnBjSWQ6IHZwY0NvbmZpZy52cGNJZCxcbiAgICAgICAgICAgICAgICByZWdpb25JZDogcmVnaW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHZwY0luZm8gPSB2cGNSZXN1bHQ/LmJvZHk/LnZwY3M/LnZwY1swXSB8fCB7fTtcbiAgICAgICAgICAgIGNvbnN0IHsgdnBjTmFtZSwgdnBjSWQgfSA9IHZwY0luZm87XG4gICAgICAgICAgICBfdnBjTmFtZSA9IHZwY05hbWU7XG4gICAgICAgICAgICBjb25zdCB2c3dpdGNoUGF5bG9hZCA9IERFRkFVTFRfVldJU1RIX0NPTkZJRztcbiAgICAgICAgICAgIHZzd2l0Y2hQYXlsb2FkLnZwY0lkID0gdnBjSWQ7XG4gICAgICAgICAgICB2c3dpdGNoUGF5bG9hZC5yZWdpb25JZCA9IHJlZ2lvbjtcbiAgICAgICAgICAgIGF3YWl0IHNlcnZlcmxlc3NCcmlkZ2VTZXJ2aWNlLmNyZWF0ZVZTd2l0Y2godnN3aXRjaFBheWxvYWQpOyAvL+WFvOWuueaVsOaNruW6k+eahOWPr+eUqOWMuuWIm+W7uuS4gOS4qnZzd2l0Y2hcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Zzd2l0Y2ggY3JlYXRlIGVycm9yOicsIGUpO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEuZGF0YSA9IHsgRU1CRURESU5HX1VSTDogZW1iZWRkaW5nX3VybCwgdnBjSW5mbzogeyB2cGNOYW1lOiBfdnBjTmFtZSwgdnBjSWQ6IHZwY0NvbmZpZy52cGNJZCB9IH1cbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgc3RhdHVzID0gNTAwO1xuICAgICAgICBkYXRhLmNvZGUgPSBzdGF0dXM7XG4gICAgICAgIGRhdGEuZXJyb3IgPSBlLm1lc3NhZ2VcbiAgICB9XG4gICAgcmVzLnN0YXR1cyhzdGF0dXMpLmpzb24oZGF0YSk7XG59XG4iXSwibmFtZXMiOlsiU2VydmVybGVzc0JyaWRnZVNlcnZpY2UiLCJERUZBVUxUX1ZXSVNUSF9DT05GSUciLCJyZWdpb25JZCIsInpvbmVJZCIsImNpZHJCbG9jayIsInZwY0lkIiwidlN3aXRjaE5hbWUiLCJkZXNjcmlwdGlvbiIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJoZWFkZXJzIiwibWFpbkFjY291bnRJZCIsInByb2Nlc3MiLCJlbnYiLCJNQUlOX0FDQ09VTlRfSUQiLCJhY2Nlc3NLZXlJZCIsImFjY2Vzc0tleVNlY3JldCIsInNlY3VyaXR5VG9rZW4iLCJyZWdpb24iLCJSZWdpb24iLCJjcmVkZW50aWFsIiwidW5kZWZpbmVkIiwic2VydmVybGVzc0JyaWRnZVNlcnZpY2UiLCJzdGF0dXMiLCJkYXRhIiwiY29kZSIsInNlcnZpY2VOYW1lIiwiYmVTZXJ2aWNlTmFtZSIsImZ1bmN0aW9uTmFtZSIsImJlRnVuY3Rpb25OYW1lIiwicmVzdWx0IiwiZ2V0RnVuY3Rpb24iLCJxdWFsaWZpZXIiLCJlbWJlZGRpbmdfdXJsIiwiYm9keSIsImVudmlyb25tZW50VmFyaWFibGVzIiwiRU1CRURESU5HX1VSTCIsInNlcnZpY2VJbmZvIiwiZ2V0U2VydmljZSIsInZwY0NvbmZpZyIsIl92cGNOYW1lIiwidnBjUmVzdWx0IiwiZGVzY3JpYmVWcGNzIiwidnBjSW5mbyIsInZwY3MiLCJ2cGMiLCJ2cGNOYW1lIiwidnN3aXRjaFBheWxvYWQiLCJjcmVhdGVWU3dpdGNoIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsIm1lc3NhZ2UiLCJqc29uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/systemConfig/init.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsystemConfig%2Finit&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2FsystemConfig%2Finit.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();