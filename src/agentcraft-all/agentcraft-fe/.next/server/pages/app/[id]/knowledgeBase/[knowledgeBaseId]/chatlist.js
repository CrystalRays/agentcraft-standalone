"use strict";(()=>{var e={};e.id=8846,e.ids=[8846,2888,660],e.modules={7124:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>m,default:()=>c,getServerSideProps:()=>g,getStaticPaths:()=>u,getStaticProps:()=>x,reportWebVitals:()=>j,routeModule:()=>v,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>P,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>S,unstable_getStaticProps:()=>w});var i=r(7093),a=r(5244),n=r(1323),o=r(9209),l=r.n(o),d=r(5913),p=r(8766),h=e([d,p]);[d,p]=h.then?(await h)():h;let c=(0,n.l)(p,"default"),x=(0,n.l)(p,"getStaticProps"),u=(0,n.l)(p,"getStaticPaths"),g=(0,n.l)(p,"getServerSideProps"),m=(0,n.l)(p,"config"),j=(0,n.l)(p,"reportWebVitals"),w=(0,n.l)(p,"unstable_getStaticProps"),S=(0,n.l)(p,"unstable_getStaticPaths"),f=(0,n.l)(p,"unstable_getStaticParams"),b=(0,n.l)(p,"unstable_getServerProps"),P=(0,n.l)(p,"unstable_getServerSideProps"),v=new i.PagesRouteModule({definition:{kind:a.x.PAGES,page:"/app/[id]/knowledgeBase/[knowledgeBaseId]/chatlist",pathname:"/app/[id]/knowledgeBase/[knowledgeBaseId]/chatlist",bundlePath:"",filename:""},components:{App:d.default,Document:l()},userland:p});s()}catch(e){s(e)}})},4793:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.d(t,{f:()=>ChatListPage});var i=r(997),a=r(6689),n=r(2247),o=r(4888),l=r(5641),d=r(3062),p=r(5288),h=r(918),c=r(2394),x=e([l]);function List({knowledgeBaseId:e}){let t=(0,l.aK)().chatList,r=(0,l.aK)().loading,s=(0,l.aK)().setLoading,getKnowledgeBaseChatList=async e=>{s(!0),await (0,l.Ag)(e),s(!1)},c=t.map(e=>(0,i.jsxs)("tr",{children:[i.jsx("td",{children:e.id}),i.jsx("td",{style:{width:120},children:e.question?i.jsx(h.Z,{value:e.question,content:i.jsx(n.Spoiler,{maxHeight:80,showLabel:"显示更多",hideLabel:"隐藏",children:e.question}),width:120}):null}),i.jsx("td",{children:e.answer?i.jsx(h.Z,{value:(0,d.pI)(e.answer),content:i.jsx(n.Spoiler,{maxHeight:180,showLabel:"显示更多",hideLabel:"隐藏",children:(0,d.pI)(e.answer)}),width:300}):null}),i.jsx("td",{children:e.prompt?i.jsx(h.Z,{value:e.prompt,content:i.jsx(n.Spoiler,{maxHeight:180,showLabel:"显示更多",hideLabel:"隐藏",children:e.prompt}),width:300}):null}),i.jsx("td",{children:e.ip}),i.jsx("td",{children:e.source?i.jsx(h.Z,{value:JSON.stringify((0,d.pI)(e.source)),content:i.jsx(n.Spoiler,{maxHeight:180,showLabel:"显示更多",hideLabel:"隐藏",children:JSON.stringify((0,d.pI)(e.source))}),width:300}):null}),i.jsx("td",{style:{width:80},children:e.model_name}),i.jsx("td",{style:{width:80},children:(0,p.o0)(e.created)})]},e.id));return(0,a.useEffect)(()=>{getKnowledgeBaseChatList(e)},[e]),(0,i.jsxs)(n.Box,{pos:"relative",children:[i.jsx(n.Affix,{position:{top:(0,n.rem)(120),right:(0,n.rem)(20)},children:i.jsx(n.Button,{leftIcon:i.jsx(o.Z,{}),onClick:()=>{getKnowledgeBaseChatList(e)},children:"刷新"})}),i.jsx(n.LoadingOverlay,{visible:r,overlayOpacity:.3}),(0,i.jsxs)(n.Table,{striped:!0,withBorder:!0,withColumnBorders:!0,mt:12,children:[i.jsx("thead",{children:(0,i.jsxs)("tr",{children:[i.jsx("th",{children:"编号"}),i.jsx("th",{children:"问题"}),i.jsx("th",{children:"答案"}),i.jsx("th",{children:"完整提示词"}),i.jsx("th",{children:"访问IP"}),i.jsx("th",{children:"智能体结果"}),i.jsx("th",{children:"使用模型"}),i.jsx("th",{children:"问答创建时间"})]})}),i.jsx("tbody",{children:c})]})]})}function ChatListPage({appId:e,knowledgeBaseId:t}){let r=[{title:"应用列表",href:"/app"},{title:"领域知识智能体",href:`/app/${e}/knowledgeBase`},{title:"问答记录",href:`/app/${e}/knowledgeBase/${t}/chatlist`}].map((e,t)=>i.jsx(n.Anchor,{href:e.href,children:e.title},t));return(0,i.jsxs)(n.Box,{pos:"relative",children:[i.jsx(n.Breadcrumbs,{children:r}),i.jsx(c.Z,{title:"问答记录",description:"您可以在此查看该智能体的问答历史记录"}),i.jsx(List,{knowledgeBaseId:t})]})}l=(x.then?(await x)():x)[0],s()}catch(e){s(e)}})},8766:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{default:()=>IndexPage,getServerSideProps:()=>getServerSideProps});var i=r(997),a=r(4793),n=e([a]);function getServerSideProps(e){let{params:t}=e,r=t.id,s=t.knowledgeBaseId;return{props:{appId:r,knowledgeBaseId:s}}}function IndexPage({appId:e,knowledgeBaseId:t}){return i.jsx(a.f,{appId:e,knowledgeBaseId:t})}a=(n.then?(await n)():n)[0],s()}catch(e){s(e)}})},2247:e=>{e.exports=require("@mantine/core")},9445:e=>{e.exports=require("@mantine/form")},32:e=>{e.exports=require("@mantine/hooks")},1280:e=>{e.exports=require("@mantine/modals")},914:e=>{e.exports=require("@mantine/notifications")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},580:e=>{e.exports=require("prop-types")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},727:e=>{e.exports=require("react-syntax-highlighter")},4794:e=>{e.exports=require("react-syntax-highlighter/dist/cjs/styles/prism")},997:e=>{e.exports=require("react/jsx-runtime")},4827:e=>{e.exports=import("@fortaine/fetch-event-source")},5611:e=>{e.exports=import("nanoid")},3135:e=>{e.exports=import("react-markdown")},4921:e=>{e.exports=import("rehype-highlight")},9521:e=>{e.exports=import("rehype-katex")},1871:e=>{e.exports=import("rehype-raw")},7984:e=>{e.exports=import("remark-breaks")},6809:e=>{e.exports=import("remark-gfm")},9832:e=>{e.exports=import("remark-math")},9890:e=>{e.exports=import("zustand")},3602:e=>{e.exports=import("zustand/middleware")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[2761,5464,9209,8450,5948,5913,2394,918,5641],()=>__webpack_exec__(7124));module.exports=r})();